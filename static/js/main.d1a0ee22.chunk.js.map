{"version":3,"sources":["scripts/headerWarning.js","analytics/Mixpanel.js","utils/Decimal.ts","protocol/constants.ts","config/bsc.ts","config/ethereum.ts","config/polygon.ts","config.ts","state/chains/actions.ts","state/chains/hooks.ts","theme/colors.ts","theme/index.ts","theme/components/Button/index.tsx","theme/components/TextWrapper/index.tsx","theme/components/NoPageFound/index.tsx","components/Footer/index.tsx","theme/components/IconLoader/index.tsx","components/Sidebar/index.tsx","theme/components/Page/Page.tsx","state/token/actions.ts","state/token/controller.ts","state/trove/actions.ts","state/trove/controller.ts","utils/Trove.ts","utils/provider.ts","protocol/ERC20.ts","protocol/Mulitcall.ts","protocol/deployments/abi.ts","protocol/Protocol.ts","contexts/BasisCashProvider/BasisCashProvider.tsx","hooks/useCore.ts","theme/components/PageHeader/index.tsx","hooks/state/governance/useGetStabilityFee.ts","state/application/actions.ts","state/application/hooks.ts","hooks/state/sortedTroves/useGetLinkedListSize.ts","hooks/state/troveManager/useGetBorrowingFeeRateWithDecay.ts","hooks/state/troveManager/useGetEntireSystemCollateral.ts","utils/tokenDetails.ts","hooks/state/troveManager/useGetIsRecoveryMode.ts","hooks/state/troveManager/useGetRedemptionFeeRateWithDecay.ts","hooks/state/troveManager/useGetTotalCollateralRatio.ts","hooks/state/useARTHCirculatingSupply.ts","hooks/state/useCollateralPriceFeed.ts","hooks/state/useGetARTHInStabilityPoolWithPercent.ts","hooks/state/stabilityPool/useGetARTHInStabilityPool.ts","hooks/state/useGetCollateralWithGMUValue.ts","theme/components/Tooltip/index.tsx","utils/formatBalance.ts","views/LoanInfo/LoanInfo.tsx","hooks/state/troveManager/useGetEntireSystemDebt.ts","hooks/state/borrowerOperations/useGetIsFrontendRegistered.ts","components/CustomDropDown/index.tsx","components/CustomInputContainer/RegexValidation.tsx","components/CustomInputContainer/index.tsx","state/transactions/actions.ts","state/transactions/hooks.tsx","utils/formatErrorMessage.ts","theme/components/Modal/index.tsx","components/DepositModal/index.tsx","hooks/callbacks/useDepositWETH.ts","hooks/state/useTokenBalanceOf.ts","hooks/state/useTokenBalance.ts","hooks/useTokenDecimals.ts","theme/components/InfoTip/index.tsx","utils/crParameters.ts","theme/components/SuccesModal/index.tsx","hooks/state/hinthelpers/helper.ts","hooks/callbacks/useApprove.ts","hooks/state/useAllowance.ts","views/AddLoan/modal/StepConfirmationModal.tsx","hooks/callbacks/borrowerOperations/useOpenTrove.ts","views/AddLoan/modal/ConfirmLoanModal.tsx","views/AddLoan/components/AddLoanSection.tsx","hooks/state/sortedTroves/useGetTroveIsAlreadyOpen.ts","views/AddLoan/components/UnclaimedCollateral.tsx","hooks/callbacks/borrowerOperations/useClaimCollateral.ts","hooks/state/borrowerOperations/useUnclaimedCollateral.ts","views/AddLoan/index.tsx","theme/components/CustomComponent/index.ts","theme/components/CollateralDropDown/index.tsx","theme/components/Input/index.tsx","theme/components/Input/Regex.ts","theme/components/InputContainer/index.tsx","views/AddStrategies/components/Step1.tsx","state/slippage/actions.ts","state/slippage/hooks.ts","components/SlippageContainer/index.tsx","theme/components/DataField/index.tsx","views/AddStrategies/components/Step2.tsx","views/AddStrategies/components/ApproveButtons.tsx","hooks/state/useGetLeverageAccount.ts","hooks/callbacks/strategies/useApproveStrategy.ts","hooks/state/strategies/useIsStrategyApproved.tsx","views/AddStrategies/components/ConfirmButton.tsx","hooks/callbacks/strategies/useOpenStrategy.ts","views/AddStrategies/components/Step3.tsx","hooks/state/strategies/useGetAPRValue.ts","hooks/state/strategies/useHasStakingBalance.ts","views/AddStrategies/components/CreatePosition.tsx","views/AddStrategies/components/LeverageInfo.tsx","hooks/state/strategies/isStrategyOpen.tsx","components/LoadingPage/index.tsx","views/AddStrategies/index.tsx","components/Container/Container.tsx","theme/components/TextButton/index.tsx","views/Farming/modals/DepositModal.tsx","hooks/callbacks/farming/useBasicStakingDeposit.ts","views/Farming/modals/WithdrawModal.tsx","hooks/callbacks/farming/useBasicStakingWithdraw.ts","components/TopBar/components/modal/WalletInfo/ChooseWallet.tsx","theme/components/WrongNetworkModal/index.tsx","theme/components/ActionButton/index.tsx","views/Farming/components/MobileRowCard.tsx","hooks/state/farming/useBasicStakingReward.ts","hooks/state/farming/useBasicStakingBalance.ts","hooks/callbacks/farming/useBasicStakingClaim.ts","views/Farming/components/FarmingCard.tsx","views/Farming/components/FarmingCards.tsx","components/StakedBanner/index.tsx","views/Farming/index.tsx","views/Faucet/index.tsx","hooks/callbacks/useFaucetClaim.ts","views/Loan/components/Toggler.tsx","hooks/state/useGetAllOpenTroves.ts","views/yourLoans/components/YourLoansTable.tsx","views/yourLoans/index.tsx","theme/components/Selector/index.tsx","hooks/state/useGetAllTroves.ts","theme/components/HtmlTooltip/index.ts","views/AllLoans/components/AllLoansTable.tsx","hooks/state/sortedTroves/useGetStaticLinkedListSize.ts","hooks/callbacks/troveManager/useLiquidateTrove.ts","views/AllLoans/index.tsx","views/Loan/components/SummaryBox.tsx","views/Loan/index.tsx","hooks/state/useCollateralForOpenTroves.ts","hooks/state/useGetProtocolDebt.ts","hooks/state/useGetProtocolCollateralInGMU.ts","hooks/useTotalSupply.ts","views/Pools/components/PoolCard.tsx","views/Pools/index.tsx","utils/index.ts","utils/fees.ts","views/Redeem/modal/ConfirmRedeemModal.tsx","hooks/callbacks/troveManager/useRedeemCollateral.ts","views/Redeem/components/Redeem.tsx","views/Redeem/index.tsx","utils/constants.ts","hooks/state/useGetTvlValueInUsd.ts","views/SelectLoan/component/MobileRowCard.tsx","views/SelectLoan/component/SingleTrove.tsx","views/SelectLoan/component/SelectLoanTable.tsx","views/SelectLoan/index.tsx","views/SelectRedeem/component/MobileRowCard.tsx","views/SelectRedeem/component/SingleTrove.tsx","views/SelectRedeem/component/SelectRedeemTable.tsx","views/SelectRedeem/index.tsx","views/StabilityPool/modal/ConfirmClaimModal.tsx","views/StabilityPool/modal/StakeArthModal.tsx","hooks/callbacks/stabilityPool/useStake.ts","views/StabilityPool/modal/WithdrawARTHModal.tsx","hooks/callbacks/stabilityPool/useWithdraw.ts","views/StabilityPool/component/MobileRowCard.tsx","views/StabilityPool/component/SinglePool.tsx","hooks/state/stabilityPool/useETHGain.ts","hooks/state/stabilityPool/useGetPoolShare.ts","hooks/state/stabilityPool/useGetRemainingETHGain.ts","hooks/state/stabilityPool/useGetPoolDeposit.ts","hooks/state/stabilityPool/useGetDepositedAmount.ts","hooks/state/useGetTvlInARTH.ts","views/StabilityPool/component/StablizeTable.tsx","views/StabilityPool/index.tsx","views/YourPosition/modal/CloseLoan.tsx","hooks/callbacks/strategies/useCloseStrategy.ts","views/YourPosition/components/MobilePositionCard.tsx","views/Strategies/modals/SignModal.tsx","hooks/state/strategies/useStrategyEarnings.ts","hooks/state/strategies/useStrategyExposure.ts","views/YourPosition/index.tsx","hooks/state/troveManager/useGetLeverageTrove.ts","hooks/callbacks/useCreateDSProxy.ts","views/Strategies/components/MobilePoolCard.tsx","utils/mixpanel.ts","views/Strategies/components/PoolCard.tsx","views/Strategies/components/PoolTable.tsx","views/Strategies/components/Toggler.tsx","views/Strategies/index.tsx","views/Tokenization/components/TokenisationCard.tsx","views/Tokenization/components/ApproveDepositButton.tsx","hooks/callbacks/tokenization/useTokenizationDeposit.ts","views/Tokenization/modals/Deposit.tsx","views/Tokenization/modals/Withdraw.tsx","hooks/callbacks/tokenization/useTokenizationWithdraw.ts","views/Tokenization/index.tsx","hooks/state/troveManager/useGetTrove.ts","views/LoanDetails/modal/ConfirmCloseLoanModal.tsx","hooks/callbacks/borrowerOperations/useCloseTrove.ts","views/LoanDetails/component/OpenedLoan.tsx","views/LoanDetails/index.tsx","views/ModifyLoan/modal/ConfirmAddCollateral.tsx","hooks/callbacks/borrowerOperations/useAddColl.ts","views/ModifyLoan/modal/ConfirmRemoveCollateral.tsx","hooks/callbacks/borrowerOperations/useWithdrawColl.ts","views/ModifyLoan/CollateralModifyLoan.tsx","views/ModifyLoan/modal/ConfirmGenerateARTH.tsx","hooks/callbacks/borrowerOperations/useWithdrawARTH.ts","views/ModifyLoan/modal/ConfirmPaybackARTH.tsx","hooks/callbacks/borrowerOperations/useRepayARTH.ts","views/ModifyLoan/DebtModifyLoan.tsx","views/ModifyLoan/index.tsx","views/AddLiquidity/components/Inputs.tsx","views/AddLiquidity/components/Price.tsx","hooks/state/pool/useGet3PoolVirtualPrice.ts","hooks/state/pool/useGetLpTokenOut.ts","views/AddLiquidity/components/ShareOfPool.tsx","views/AddLiquidity/components/ConfirmButton.tsx","hooks/callbacks/useAddARTHusdLiquidity.ts","hooks/callbacks/useAddARTHLiquidity.ts","views/AddLiquidity/components/AddLquiditySection.tsx","views/AddLiquidity/index.tsx","views/Migration/index.tsx","hooks/state/useGetUnderlyingOutput.ts","views/Trade/components/BuyContent.tsx","hooks/callbacks/useBuyARTHusdForToken.ts","hooks/callbacks/useBuyARTHForToken.ts","views/Trade/components/SellContent.tsx","hooks/callbacks/useSellARTHusdForToken.ts","hooks/callbacks/useSellARTHForToken.ts","views/Trade/index.tsx","components/ComingSoon/index.tsx","Navigation.tsx","components/Disclaimer/index.tsx","components/Popups/TransactionSnackbar.tsx","components/Popups/index.tsx","analytics/useGATracker.js.ts","components/NetworkChange/index.tsx","theme/components/ConfirmationModal/index.tsx","components/TopBar/components/modal/WalletInfo/index.tsx","components/TopBar/components/modal/WalletInfo/DesktopWalletInfo.tsx","components/TopBar/components/AccountButton.tsx","components/NetworkChange/MobileNetworkChange.tsx","components/TopBar/components/modal/Transaction/SingleTransaction.tsx","components/TopBar/components/modal/Transaction/TxModal.tsx","components/TopBar/components/modal/Transaction/MobileTransactionInfo.tsx","components/TopBar/components/modal/WalletInfo/MobileWalletInfo.tsx","components/TopBar/components/MobileNav.tsx","components/TopBar/components/modal/ProjectRoutes/DesktopProjectRoute.tsx","components/TopBar/components/modal/ProjectRoutes/MobileProjectRoute.tsx","components/TopBar/components/modal/Transaction/DesktopTransactionInfo.tsx","components/TopBar/TopBar.tsx","contexts/Modals/Modals.tsx","state/analytics/actions.ts","state/analytics/reducer.ts","state/application/reducer.ts","state/chains/reducer.ts","utils/chains/constant.ts","state/slippage/reducer.ts","state/token/reducer.ts","state/transactions/reducer.ts","state/trove/reducer.ts","state/index.ts","hooks/useIsWindowVisible.ts","state/application/updater.ts","hooks/useDebounce.ts","state/transactions/updater.tsx","state/Updaters.tsx","App.tsx","state/analytics/controller.ts","serviceWorker.js","index.tsx","assets/images/ComingSoon.svg","assets/icons/misc/Default.svg","assets/images/Metamask.svg","assets/icons/tokenSymbol/ARTH.svg","assets/images/Tick.svg","assets/images/walletConnect.png","assets/icons lazy /^/.//.*/.svg$/ groupOptions: {} namespace object"],"names":["window","addEventListener","event","showWarning","document","getElementById","header","sidebar","main_page","showWarningBool","innerHTML","this","scrollY","style","display","marginTop","minHeight","paddingTop","isProduction","process","REACT_APP_ISPROD","mixpanel","init","Mixpanel","identify","id","alias","track","name","props","people","set","decimalify","bigNumber","Decimal","fromBigNumberString","toHexString","getDigits","numDigits","TEN","pow","ONE","BigNumber","from","DIGITS","stringRepresentationFormat","trailingZeros","magnitudes","roundedMul","x","y","mul","add","HALF","hex","div","_bigNumber","isNegative","Error","toString","characteristic","mantissa","mod","isZero","trimmedMantissa","padStart","replace","precision","halfDigit","PRECISION","value","_roundUp","substr","infinite","undefined","_toStringWithPrecision","_toStringWithAutomaticPrecision","split","prettyCharacteristic","characteristicLength","length","magnitude","Math","min","floor","max","prettify","addend","subtrahend","sub","multiplier","divider","INFINITY","exponent","assert","Number","isInteger","that","lt","eq","gt","gte","lte","bigNumberString","representation","match","includes","coefficient","startsWith","_fromString","repeat","decimalish","a","b","ZERO","ZERO_ADDRESS","DECIMALS_18","BNZERO","ARTH_GAS_COMPENSATION","MIN_NET_DEBT","MINUTE_DECAY_FACTOR","MINIMUM_BORROWING_RATE","CRITICAL_COLLATERAL_RATIO","LUSD_LIQUIDATION_RESERVE","LUSD_MINIMUM_NET_DEBT","MINIMUM_COLLATERAL_RATIO","configurations","56","chainId","refreshInterval","gasLimitMultiplier","blockchainTokenDecimals","networkName","networkDisplayName","networkIconName","etherscanUrl","defaultProvider","vFatLink","defaultCollateral","blockchainTokenName","decimalOverrides","tradingLink","frontEndAddress","networkSetupDocLink","supportedTokens","supportedCollaterals","tradingCollaterals","blockchainToken","deployments","require","crvTradeTokenIndexMapping","BUSD","USDC","USDT","poolsStaticInfo","symbol","lpToken","removeLiquidityLink","token3Pool","minterContract","token3PoolUnderlyingTokens","desc","liquidityPoolsStaticInfo","troveStaticInfo","trove","depositToken","displayName","contractPrefix","crParameters","mcr","ccr","minDebtAmount","isDeprecated","liquidationReserve","farmingConfigs","platform","depositTokenKind","contract","depositTokenSymbols","rewardToken","rewardTokenKind","apiKey","addLiquidityLink","willBeRestarted","startDate","Date","endDate","tokeniseStaticInfo","tokeniseToken","rewardFee","link","description","isTokeniseLP","strategiesStaticInfo","depositTokens","borrowTokens","maxLeverage","maxNonStakersLeverage","minCollateralGMU","stakingPools","whitelistedUsers","1","137","ARTHUSDCLP","DAI","ethereum","bsc","polygon","REACT_APP_ALPHA","getSupportedChains","Object","keys","map","i","updateChainId","createAction","updateAvailableChains","useGetActiveChainId","updateId","useGetUpdateActiveChainId","updateIds","useUpdateAvailableChains","useSelector","state","chains","active","avaiableIds","changedId","dispatch","useDispatch","useCallback","console","log","teal","200","theme","borderRadius","color","black","grey","100","300","400","500","600","700","800","900","dark","pink","purple","primary","red","green","secondary","main","light","white","transparent","transparentog","gradients","brown_gradient","orange_gradient","gray_linear","dark_linear","yellow","siteWidth","spacing","2","3","4","5","6","7","topBarSize","StyledButton","styled","button","fg","normal","bg","border","radius","boxShadow","disabled","size","hover","radiusHover","selected","StyledLink","Link","StyledExternalLink","Button","buttonSize","buttonPadding","fontSize","children","href","onClick","text","to","variant","loading","tracking_id","tracking_params","fileTheme","variantStyle","variantToStyle","ButtonChild","useMemo","target","params","config","toLowerCase","padding","margin","TextWrapper","fontFamily","fontStyle","fontWeight","FletterSpacing","Fcolor","className","align","StyledText","letterSpacing","fcolor","StyledDiv","p","NoPageFound","MainPageContainer","MainContainer","src","ComingSoonImg","alt","ButtonContainer","Footer","trackButtons","FooterContainer","open","IconLoader","iconName","iconType","height","width","useState","DefaultIcon","Icon","setIcon","then","image","default","catch","err","Sidebar","activeChainId","pathname","useLocation","openExpandable","setOpenExpandable","SidebarDiv","SidebarConatiner","TopSideBar","activeClassName","isActive","exact","ExpandableMenu","ExpandedSection","visible","StyledLinkHref","BottomSideBar","NavLink","StyledPage","StyledMain","updateBalanceOf","initUser","core","setTimeout","_initUser","token","multicall","on","bal","Actions","who","myAccount","tokens","address","addCallsArray","push","key","call","convertResult","val","addCalls","getPendingLUSDDebtReward","getPendingETHReward","hasPendingRewards","_registerVariable","fn","reduxAction","input","calls","collaterals","getAllTroves","forEach","collateral","tm","getTroveManager","registerTroveManagerCalls","invalidTroveCreation","invalidTrove","error","type","troveCreation","troveClosure","troveAdjustment","setToZero","valueIsDefined","entry","allowedTroveCreationKeys","decimalize","k","v","nonZero","_normalizeTroveCreation","definedEntries","entries","filter","badKeys","join","checkAllowedTroveCreationKeys","fromEntries","missingKeys","troveCreationParamsFromEntries","allowedTroveAdjustmentKeys","troveAdjustmentParamsFromEntries","collateralChange","depositCollateral","withdrawCollateral","collateralChangeFrom","debtChange","borrowLUSD","repayLUSD","debtChangeFrom","_normalizeTroveAdjustment","checkAllowedTroveAdjustmentKeys","nonZeroEntries","applyFee","borrowingRate","debtIncrease","unapplyFee","_divCeil","NOMINAL_COLLATERAL_RATIO_PRECISION","Trove","debt","price","mulDiv","collateralRatio","isEmpty","netDebt","_debtChange","zero","_collateralChange","change","_emptyTrove","collateralDecrease","collateralIncrease","debtDecrease","setCollateral","addDebt","subtractDebt","setDebt","addCollateral","subtractCollateral","subtract","apply","whatChanged","getDefaultProvider","_window","ethers","providers","Web3Provider","web3","currentProvider","JsonRpcProvider","ERC20","provider","decimal","Contract","ABI","signerOrProvider","totalSupply","account","balanceOf","recipient","amount","transfer","owner","spender","allowance","approve","sender","transferFro","balance","formatUnits","supply","toFixed","estimateGas","anonymous","inputs","indexed","internalType","constant","outputs","payable","stateMutability","Multicall","rpcUrl","watcher","addCall","data","_recreateWatcher","tap","_getMutlicallCalls","removeCall","index","findIndex","d","splice","c","returns","_processUpdates","update","emit","stop","multicallAddress","createWatcher","subscribe","start","EventEmitter","ret","ActivePool","ARTHController","ARTHShares","ARTHStablecoin","BasicStaking","EllipsisStaking","DotDotStaking","LeverageAccount","BasicStakingSpecificReward","Boardroom","ILeverageStrategy","BorrowerOperations","CollSurplusPool","LPExpsoure","CommunityIssuance","Controller","DefaultPool","LeverageAccountRegistry","EcosystemFund","ERC20Mock","Faucet","FlashLoanLeverage","FlashLoanMinter","GasPool","GMUOracle","Governance","HintHelpers","IERC20","IWETH","IWrapper","LiquityLUSDToken","LockupContractFactory","LQTYStaking","LQTYToken","LUSDToken","MahaToken","WMaticExposure","MockAggregator","MockMaha","MockUniswapOracle","MultiTroveGetter","PoolToken","PriceFeed","PriceFeedTestnet","ProxyRegistry","SortedTroves","StabilityPool","IncentivePool","TroveManager","UniswapPairOracle","UniswapV2Factory","UniswapV2Pair","UniswapV2Router02","WStakingRewards","ARTHUSDWrapper","CurveSwapRouter","IStableSwap","IZapDepositor","StableSwap","Protocol","cfg","_signer","_config","_contracts","_tokens","tradingPairs","assetLockContracts","_activeNetwork","getContractAt","abiName","ABIS","connect","signer","getBlockTimestamp","now","getAllWhitelistedUser","isUserWhiteListed","filteredData","getAllStrategies","getAllTokeniseInfo","getCollateralTypes","getTradingCollateralTypes","getPool","getLiquidityPools","getLiquidityPoolsName","getDefaultCollateral","getFarmingPools","getLeverageScript","contracts","getFees","getTotal","Promise","all","getActivePoolTrove","getDefaultPoolTrove","activePool","defaultPool","getActivePool","getETH","getLUSDDebt","getBigNumber","activeCollateral","activeDebt","chainIdString","networkConfig","deployment","abi","newProvider","Web3","getSigner","values","tokenState","troveState","getDefaultPool","liquidatedCollateral","closedDebt","Context","createContext","BasisCashProvider","useWallet","setCore","useEffect","newCore","BasisCash","unlockWallet","Provider","useCore","useContext","PageHeader","title","subTitle","showLearnMore","learnMoreLink","Header","SubtitleDiv","LearnMoreLink","isLoading","setValue","fetchValue","getGovernance","getStabilityFee","isUnlocked","updateBlockNumber","toggleWalletModal","toggleSettingsMenu","addPopup","removePopup","useBlockNumber","application","blockNumber","useAddPopup","content","getSortedTroves","getSize","app","analytics","borrowingRateWithDecay","entireSystemColl","troveDetails","find","item","troveDetail","priceFeedContract","getPriceFeed","callStatic","fetchPrice","checkRecoveryMode","redemptionRateWithDecay","getTCR","setPrice","stack","erc20Token","calcValue","percent","arthCirculatingSupply","useARTHCirculatingSupply","arthInStabilityPool","getStabilityPool","totalLUSDDeposits","useGetARTHInStabilityPool","gmuValue","collateralGMUPrice","useCollateralPriceFeed","entireSystemCollateral","useGetEntireSystemCollateral","HtmlTooltip","withStyles","tooltip","backgroundColor","Tooltip","ToolTip","toolTipText","React","setOpen","show","Fragment","ToolTipFont","aria-label","disableHoverListener","onMouseEnter","onMouseLeave","getDisplayBalance","decimals","fractionDigits","formattedBalance","getBalance","decimalsPointIndex","indexOf","slice","getDisplayBalanceToken","truncateMiddle","fullStr","strLen","separator","sepLen","charsToShow","frontChars","ceil","backChars","formatToBN","beforeDecimals","afterDecimal","beforeDecimalsPrecisionText","afterDecimalsPrecisionText","fixedPrecisionValue","parseUnits","LoanInfo","useTotalSupply","tvl","useGetCollateralWithGMUValue","isRecoveryMode","useGetIsRecoveryMode","vaultLinkedListSize","useLinkedListSize","stabiltyFee","useGetStabilityFeeAndToken","entireSystemDebt","useGetEntireSystemDebt","totalCollteralRatio","useGetTotalCollateralRatio","isFrontEndRegistered","isRegistered","getBorrowerOperations","frontEnds","flag","useGetIsFrontendRegistered","borrowingFeeRate","useGetBorrowingFeeRateWithDecay","redemptionFeeRate","useGetRedemptionFeeRateWithDecay","amountOfARTHInStabilityPool","useGetARTHInStabilityPoolWithPercent","recoveryModelPriceThreshold","toUpperCase","Numeral","format","CustomDropDownContainer","CustomDropDownLi","CustomDropDownLiText","span","CustomDropDown","dropDownValues","ondropDownValueChange","NumberInputRegex","mediatoryRegex","RestrictDecimalsDigitsInputRegexSlippage","ValidateNumber","test","checkForAfterDecimalDigits","regex","correctString","initZeroCheck","charAt","removeLeadZeros","CustomInputContainer","ILabelValue","IBalanceValue","showBalance","ILabelInfoValue","DefaultValue","LogoSymbol","hasDropDown","SymbolText","tagText","multiIcons","symbols","Istate","msg","DisableMsg","IWarningstate","warningMsg","isBalanceLoading","tokenDecimals","isLpToken","modalOpen","setModalOpen","IState","IMsg","ICStates","setICStates","ICWarningStates","setICWarningStates","checkForErrorAndWarning","Default","errorCallback","DigitsStatus","temp","onValueChange","setText","position","TotalDisable","DMsg","IConatiner","returnObj","dontShowBackgroundContainer","IConatinerStyle","ILabelContainer","ILabelLeft","ILabel","HrefLink","ILabelInfo","ToLink","ILabelRight","ILabelBalance","toLocaleString","IFieldConatiner","InputBase","inputMode","placeholder","inputProps","flex","onChange","MaxTagConatiner","IFieldRightContainer","IFieldRightContainerLogo","LLabel","s","IFieldRightContainerText","IFieldRightContainerDropDown","BackgroundAbsolute","addTransaction","clearAllTransactions","finalizeTransaction","checkedTransaction","useTransactionAdder","response","summary","approval","hash","txn","success","useAllTransactions","transactions","isTransactionRecent","tx","getTime","addedTime","message","DialogTitle","createStyles","root","borderBottom","closeButton","right","top","palette","classes","onClose","titleLogo","modalTitleStyle","other","disableTypography","IconButton","DialogContent","minWidth","background","borderTop","dividers","maxHeight","MuiDialogContent","useStyles","makeStyles","halfScreen","customPaper","alignItems","Modal","handleClose","modalContainerStyle","modalBodyStyle","mobile","useTheme","modalStyles","fullScreen","useMediaQuery","breakpoints","down","openModal","handleCloseModal","modalJsx","Dialog","fullWidth","aria-labelledby","onBackdropClick","paper","paperFullScreen","scrollPaper","justifyContent","isInputFieldError","setIsInputFieldError","desposit","callback","weth","deposit","formatErrorMessage","useDepositWETH","onCancel","String","t","OneLine","BeforeChip","TagChips","Grid","container","lg","md","sm","xs","action","useTokenBalanceOf","setBalance","fetchBalance","useTokenBalance","useTokenDecimals","setDecimals","fetchdecimals","InfoTip","CustomBadgeAlert","Text","getDisplaycrParameters","ratio","SuccessModal","buttonRedirection","subTitleLink","buttonText","subsubTitle","buttonType","buttonHref","buttonTo","CloseButton","TickContainer","TickBackgroundWave","TickImg","Tick","ContentConatiner","ContentTitle","ContentSubSubtitle","ContentSubtitle","TickAnimation","keyframes","TickBackground","img","generateTrials","totalNumberOfTrials","numberOfTrials","randomInteger","random","MAX_SAFE_INTEGER","findHintsForNominalCollateralRatio","nominalCollateralRatio","sortedTroves","hintHelpers","troveManager","ownAddress","getTroveOwnersCount","numberOfTroves","getFirst","sqrt","firstTrials","restOfTrials","collectApproxHint","latestRandomSeed","results","getApproxHint","result","reduce","diff","hintAddress","findInsertPosition","prev","next","getPrev","getNext","findRedemptionHints","priceFeed","getRedemptionHints","firstRedemptionHint","partialRedemptionHintNICR","truncatedLUSDamount","partialRedemptionUpperHint","partialRedemptionLowerHint","ApprovalState","useAllowance","pendingApproval","setAllowance","fetchAllowance","setInterval","clearInterval","APPROVE_AMOUNT","constants","MaxUint256","APPROVE_BASE_AMOUNT","useApprove","tokenAddress","allTransactions","some","receipt","useHasPendingApproval","currentAllowance","approvalState","PENDING","NOT_APPROVED","APPROVED","UNKNOWN","LoanTxState","OrangeCheckBox","checked","Checkbox","StepConfirmationModal","selectedCollateralCoin","selectedContractPrefix","totalDebt","borrowingFee","collateralAmount","onSuccess","NOT_COMPLETED","loanTxState","setLoanTxState","collatApproveStatus","approveCollateral","isCollatApproved","isCollatApproving","openTrove","debtAmount","errorHandler","getHintHelper","wait","status","Sentry","e","useOpenTrove","handleButtonCallback","COMPLETED","handler","clearTimeout","CheckboxDiv","FormControlLabel","control","icon","StepNo","checkedIcon","label","labelPlacement","ConfirmLoanModal","entryPrice","collateralValue","liquidationPrice","leverage","openStepConfirmModal","setOpenStepConfirmModal","openSuccessModal","setOpenSuccessModal","minimumFractionDigits","location","calculateBorrowingFee","AddLoanSection","setdebtAmount","depositModal","setdepositModal","setCollateralValue","openConfirmationModal","setOpenConfirmationModal","arthBalance","collateralBalance","troveIsAlreadyPresent","contains","useOneTroveIsAlreadyOpen","isCollateralRatioBelowMin","crData","showDepositWETH","isDebtBelowMinNetDebt","bn","collateralAmountBN","liquidationCR","onCollateralValueChange","check","onDebtAmounChange","swapAmount","rel","DepositModal","onDeposit","claimCollateral","useClaimCollateral","getCollSurplusPool","getCollateral","useUnclaimedCollateral","justify","AddLoan","useParams","setTrove","isTroveValid","UnclaimedCollateral","CollateralDropDown","selectedCollateral","collateralTypes","collateralText","showDropDown","toggleDropDown","Container","inputRegex","RegExp","Input","maxTag","onMaxClick","enforcer","nextUserInput","CustomInput","InputContainer","text4","dataValueLoading","dataLabel","dataValue","dontShowBackground","IContainer","IContainerStyle","DashboardModal","strategy","tokenSupplyObj","setTokenSupplyObj","handleStep","tokenBalanceObj","setTokenBalanceObj","tokenValueGMUObj","setTokenValueGMUObj","dToken","GMUOfInput","isError","checks","setInputs","tokenBalance","Inputs","direction","updateSlippage","useSlippage","slippage","rates","rate","SlippageContainer","setOpenModal","useUpdateSlippage","onInputChange","CustomDiv","CustomSlippageBox","CTitle","ButtonsBox","ButtonItem","ButtonText","marginRight","IField","InputDiv","lineHeight","PerDiv","DataField","labelToolTip","valueTag","isValueLoading","labelFontSize","labelFontColor","labelFontWeight","valueFontSize","valueFontColor","valueFontWeight","PrettoRestrictSlider","thumb","marginLeft","valueLabel","left","marked","markLabel","rail","markLabelActive","textAlign","mark","Slider","useSliderStyles","tokenBorrowObj","sliderValue","setSliderValue","handleStepBack","aprValues","hasStaked","sliderClasses","isMobile","maxWidth","valuetext","leveragedApr","totalAPR","toPrecision","leveragedTradingFee","InputLabel","BoxedLabels","Dividers","defaultValue","minSlider","getAriaValueText","valueLabelFormat","step","marks","valueLabelDisplay","borrow","ApproveButtons","updateStatus","approveStatus","proxyRegistryContract","getLeverageAccountRegistry","accounts","proxyAddress","leverageAccount","useGetLeverageAccount","leverageAccountContract","strategyContract","approveStrategy","isApproved","canExecute","ConfirmButton","approvalStatus","setApprovalStatus","isApprovingStrategy","setIsApprovingStrategy","strategyApprovalStatus","useIsStrategyApproved","approvalButtons","onlyOneCollateral","useApproveStrategy","enableConfirm","allApproved","leverageHandler","principalAmounts","borrowingAmounts","totalExposure","converTokenBalToBN","tokenName","convertMapping","mapping","principalCollateral","openPosition","useOpenStrategy","Step3","totalApr","isNaN","tradingAPR","initialState","supplyAPR","borrowAPR","useGetAPRValue","fetchValues","fetch","json","checkingPool","farmingPools","hasBalance","CreatePosition","setCR","activeStep","setActiveStep","Set","completed","setCompleted","setTokenBorrowObj","useHasStakingBalance","resetData","principal","leverageMultiplier","step1","Step1","history","back","step2","Step2","step3","PageBar","newCompleted","delete","MainBar","getStepContent","LeverageInfo","troveContract","Troves","rotate","plus","MainDiv","ElementConatiner","LoadingIndicator","ArthLogo","LoadingPage","arthLogo","AddStrategies","strategies","hasPosition","isStrategyOpen","StyledContainer","ThemeContext","TextButton","trackMixpanel","poolInfo","depositAction","stakingContract","stake","useBasicStakingDeposit","isApproving","withdrawAction","withdraw","useBasicStakingWithdraw","stakedBalance","ChooseWallet","connector","Option","localStorage","removeItem","metamaskimg","walletConnectimg","WrongNetworkModal","getAvailableChains","setChainId","switchMetamaskChain","request","method","utils","hexStripZeros","reload","code","chainName","rpcUrls","iconUrls","blockExplorerUrls","nativeCurrency","addNetworkToMetamask","ActionButton","showWalletOption","setShowWalletOption","wrongNetwork","setWrongNetwork","showWrongNeworkModal","setShowWrongNeworkModal","processNetwork","detectEthereumProvider","PoolStartContainer","CustomGrid","UpperDiv","SymbolDiv","PlatformDiv","MobileFarm","farmingApiData","isDepositModalOpen","setDepositModalOpen","isWithdrawModalOpen","setWithdrawModalOpen","pool","earnedBalance","erc20","claimableReward","claimable","dataFixed","earned","useBasicStakingReward","stakingBalance","userInfo","depositAmount","userBalances","useBasicStakingBalance","claimAction","claim","getReward","useBasicStakingClaim","apr","chId","chainData","chainSpecificData","maxApr","minApr","minAPR","maxAPR","hasClaimableAmount","returnValue","WithdrawModal","onWithdraw","maximumFractionDigits","timeago","FarmingCard","cardData","successModal","setSuccessModal","InitalFarmingApiDataState","mahaRewardPerMinute","FarmingCards","setFarmingApiData","fetchAPY","headers","res","StakedBanner","Farming","VfatLink","CustomInfoCard","PrimaryText","claimTokens","faucet","useFaucetClaim","isWalletConnected","Toggler","mode","onModeChange","ScrollDiv","overflowX","ButtonGroupDiv","obj","TextDiv","Text1","doRefresh","finalTroves","coll","collateralPriceFeedContract","collateralPrice","recoveryMode","tcr","spContract","arthInSp","pendingETHReward","pendingLUSDDebtReward","expectedDebt","avail_to_mint","expectedCollateral","avail_to_withdraw","hasRedistribution","isLiquidateable","SortedDescendingIcon","SortedAscendingIcon","cursor","gridStyle","YourLoansTable","rows","troves","useGetAllOpenTroves","columns","field","headerName","sortable","renderCell","renderHeader","row","cellClassName","clsx","negative","positive","getRowId","pageSize","hideFooterPagination","disableMultipleSelection","rowHeight","autoHeight","disableColumnMenu","onRowClick","newSelection","components","LoadingOverlay","NoRowsOverlay","ColumnSortedDescendingIcon","ColumnSortedAscendingIcon","disableColumnSelector","disableSelectionOnClick","YourLoans","doYouLoanRefresh","setDoYourLoanRefresh","Selector","openSelector","toggleSelector","dropdownValue","selectedData","setSelectedData","symbolicData","bottom","SelectorContainer","fetchForCollaterals","pageNo","pageIndex","multiTroveGetterContract","getMultiTroveGetter","getMultipleSortedTroves","cr","AllLoansTable","setDoRefresh","selectedTrove","setPageNo","noOfSize","useGetStaticLinkedListSize","collateralTroveMapping","useGetAllTroves","liquidateTrove","borrower","liquidate","useLiquidateTrove","depositTokenDecimals","sortingOrder","zIndex","pagination","rowCount","paginationMode","onPageChange","newPage","page","AllLoans","dropdownModalOpen","setDropdownModalOpen","trovesTypes","setSelectedTrove","SummaryBox","Loan","selectedMode","setSelectedMode","collateralsTrove","colalteral","activeTroveCollaterals","useCollateralForOpenTroves","systemDebt","debts","f","useGetProtocolDebt","prices","gmuDebts","useGetProtocolCollateralInGMU","tokenSymbol","setTotalSupply","PoolCard","poolStaticInfo","lpERC20","lpERC20Balance","lpERC20TotalSupply","yourShare","arthUsdInPool","token3PoolInPool","Card","ImgCon","ButtonPosition","Pools","pools","convertToDate","timestamp","MAXIMUM_BORROWING_RATE","MINIMUM_REDEMPTION_RATE","Fees","baseRateWithoutDecay","minuteDecayFactor","beta","lastFeeOperation","timeOfLatestBlock","_baseRateWithoutDecay","_minuteDecayFactor","_beta","_lastFeeOperation","_timeOfLatestBlock","_recoveryMode","when","millisecondsSinceLastFeeOperation","minutesSinceLastFeeOperation","baseRate","redeemedFractionOfSupply","_getFeesFactory","lastFeeOperationTime","blockTimestamp","toNumber","createFees","total","collateralRatioIsBelowCritical","ConfirmRedeemModal","redemptionRate","arthValue","redeemFee","stabilityFee","stabilityFeeRate","stabilityFeeToken","setLoading","redeemCollateral","arthAmount","fees","truncatedAmount","partialHints","defaultRedemptionRateSlippageTolerance","maxRedemptionRateOrDefault","defaultMaxRedemptionRate","REDEEM_MAX_ITERATIONS","useRedeemCollateral","LeftTopCard","RedeemTabContent","setArthValue","successCollectModal","setSuccessCollectModal","mahaPrice","redemptionFee","getController","arthApprovalStatus","approveARTH","mahaApprovalStatus","approveMAHA","isARTHApproved","isARTHApproving","isMAHAApproved","isMAHAApproving","scrollTo","valueInNumber","bnCollateralAmount","totalCollateralValue","onARTHValueChange","bnArthValue","finalCollateralValue","Redeem","LOADING_DEFAULT_BASIC_STATE","useGetTvlValueInUsd","setState","MobileRowCard","onTroveClick","usdTvl","SingleTrove","SelectLoanTable","SelectLoan","SelectRedeemTable","SelectRedeem","ConfirmClaimModal","collateralPool","StakeArthModal","unClaimedReward","setARTHValue","provideToSP","useStake","depositedStake","withdrawFromSP","useWithdraw","onWithdrawal","poolShare","poolDeposit","remainingETH","ethGain","SinglePool","openStakeModal","setOpenStakeModal","openConfirmClaimModal","setOpenConfirmClaimModal","openConfirmWithdrawModal","setOpenConfirmWithdrawModal","getDepositorETHGain","useETHGain","getCompoundedLUSDDeposit","currentDeposit","useGetPoolShare","useGetRemainingETHGain","useGetPoolDeposit","useGetDepositedAmount","arthTvl","useGetTvlInARTH","onClaim","WithdrawARTHModal","StablizeTable","ConfirmCloseModal","closingStrategy","setClosingStartegy","closeStrategy","closePosition","useCloseStrategy","DSProxyBuildTxState","MobilePositionCard","confirmCloseModal","setConfirmCloseModal","rewards","rewardsEarned","useStrategyEarnings","positions","collat","underlyingCollateralFromBalance","useStrategyExposure","principalAmount","PlatformIcon","YourPosition","useGetLeverageTrove","SignModal","dsProxyBuildTxState","setDSProxyBuildTxState","createDSProxyAction","cb","errorCB","useCreateDSProxy","onSuccessCB","FetchingDetails","MobilePoolCard","t_params","openSignModal","setOpenSignModal","redirection","PoolTable","strategiesTypes","Strategies","TokenisationCard","tokenziseInfo","tokeniseBalance","Desc","wrappedToken","wrappedTokenName","useTokenizationDeposit","disableButton","Deposit","depositTokenSupply","setDepositTokenSupply","tokeniseSupply","setTokeniseSupply","arthUSDGonsInfo","gonsPerFramgment","gonsPrecision","tokenizeToken","depositTokenBalance","output","gonsPerFragment","getARTHInForARTHUSD","ApproveDepositButton","Withdraw","useTokenizationWithdraw","Tokenization","search","toOpen","URLSearchParams","get","found","r","onDepositPress","openDeposit","setOpenDeposit","openWithdraw","setOpenWithdraw","onWithdrawPress","defaultTrove","arrayIndex","ownerAddress","pendingColl","pendingDebt","frontEndTag","ConfirmCloseLoanModal","getTrove","closeTrove","useCloseTrove","balanceNeededAmount","amountNeededMore","OpenedLaon","onModifyLoan","closeLoanSuccessModal","setCloseLoanSuccessModal","useGetTrove","debtAmountBN","collateralValueBN","vaue","LaonInfoLine","LoanDetails","ConfirmAddCollateral","addedValue","troveCollateral","newCR","addColl","addCollAmount","useAddColl","ConfirmRemoveCollateral","withdrawColl","withdrawCollAmount","useWithdrawColl","CollateralModifyLoan","addCollateralValue","setAddCollateralValue","withdrawCollateralValue","setWithdrawCollateralValue","openAddConfirmationModal","setOpenAddConfirmationModal","isWithdrawInputFieldError","setWithdrawIsInputFieldError","openRemoveConfirmationModal","setOpenRemoveConfirmationModal","modifiedCollatreal","addCollateralBN","removeCollateralBN","isModifiedCollateralRatioBelowMin","getApproveAndAddCollButton","onAddCollateralChange","onWithdrawCollateralChange","ConfirmGenerateARTH","currentDebt","addedDebt","withdrawARTH","feeRate","withdrawARTHAmount","withdrawLUSD","useWithdrawARTH","ConfirmPaybackARTH","removedDebt","repayARTH","paybackARTHAmount","useRepayARTH","DebtModifyLoan","paybackDebtAmount","setPaybackDebtAmount","generateDebtAmount","setGenerateDebtAmount","isPaybackFieldError","setIsPaybackFieldError","openPaybackConfirmationModal","setOpenPaybackConfirmationModal","openGenerateConfirmationModal","setOpenGenerateConfirmationModal","borrowRate","modifiedCollatrealRatio","generateDebtBN","paybackDebtBN","bnDebt","isModifiedDebtBelowMinDebt","onGenerateValueChange","onPaybackValueChange","ModifyLoan","setType","LeftTopCardHeader","TabContainer","ActiveTab","TabText","selectedToken","ERC20token","setAmount","Price","contractName","get_virtual_price","useGet3PoolVirtualPrice","poolContractName","amountIn1","amountIn2","amountIn3","amountIn4","amountOut","setAmountOut","poolContract","calc_token_amount","ShareOfPool","firstCoinAmount","underlyingtokensObj","firstCoinERC20","secondCoinERC20","thridCoinERC20","forthCoinERC20","secondCoinAmount","thirdCoinAmount","fourthCoinAmount","lpTokensOut","useGetLpTokenOut","isButtonDisabled","arthUsdHandler","arthUsdIn","busdIn","usdcIn","usdtIn","minLpTokenOut","slippageRounded","slippageAdjustedAmountout","addLiquidityUsingARTHusd","useAddARTHusdLiquidity","arthHandler","addLiquidityUsingARTH","useAddARTHLiquidity","AddLquiditySection","setFirstCoinAmount","openDropDown","setOpenDropDown","setSelectedToken","setUnderlyingtokensObj","underlyingtokensBalObj","setUnderlyingtokensBalObj","firstCoinTokenBalance","isFirstCoinInputGreaterThanBalance","firstCoinApproveStatus","approveFirstCoin","isFirstCoinApproved","isFirstCoinApproving","AddLiquidity","poolName","setPoolStaticInfo","info","Migration","supplyTokenValue","setSupplyTokenValue","receiveTokenValue","Receive","j","dx","dxTokenDecimals","dxBN","get_dy_underlying","outputAmount","BuyContent","tokenAValue","setTokenAValue","listOfATokens","tokenA","setTokenA","tokenAERC20","tokenABalance","openADropDown","setOpenADropDown","setTokenBValue","tokenB","setTokenB","tokenBERC20","tokenBBalance","openBDropDown","setOpenBDropDown","outputFromSwap","useGetUnderlyingOutput","getCRVTradeTokenIndex","underlyingOutput","priceFromSwap","buyHandler","amountIn","buyARTHUSDForExact","useBuyARTHusdForToken","buyARTHHandler","buyARTHForExact","useBuyARTHForToken","priceImpact","tokenAValueInNum","isInputGreaterThanBalance","SellContent","listOfBTokens","sellHandler","sellARTHUSDForExact","useSellARTHusdForToken","sellARTHHandler","sellARTHForExact","useSellARTHForToken","Trade","ComingSoon","Navigation","defaultUrl","path","Page","ModalText","Disclaimer","toggleModal","getItem","setItem","AnchorTag","SnackBarInnerContainer","SnackBarBody","SnackBarParent","CustomizedSnackbars","handleCancel","openSnackbar","isScucess","reason","Snackbar","autoHideDuration","TransitionComponent","Slide","anchorOrigin","vertical","horizontal","SnackHeader","SnackBody","Popups","activePopups","list","popupList","useActivePopups","TransactionSnackbar","notificationCount","useGaTracker","initialized","setInitialized","ReactGA","initialize","pageview","NetworkChange","DisplayView","SignalDot","PositionDiv","NetworkDropDown","DifNetName","ActiveDot","ConfirmationModal","modalTitle","subtitle","yesText","yesAction","noText","noAction","WalletInfo","isCopied","setIsCopied","showConfirmationModal","setShowConfirmationModal","maha","arth","arthusd","mahaBal","arthBal","arthusdBal","hide","addTokenToMetaMask","options","WalletHeader","MetamaskImg","didCopy","copyText","WalletBody","WalletDiv","DesktopWalletInfo","StyledAccountButton","AccountButton","showWalletInfo","setShowWalletInfo","WrongNetworkButton","MobileNetworkChange","chainIds","TransactionWrapper","IconWrapper","pending","primary1","green1","red1","StateWrapper","InfoSection","Title","SingleTransaction","date","confirmedTime","ModalHeader","RightSubHeader","ClearAll","CrossIcon","ModalBody","NoTransaction","CallToAction","StyledTransactionList","newTransactionsFirst","TxModal","onDismiss","useClearAllTransactions","sortedRecentTransactions","sort","DesktopTransactionInfo","MobileWalletInfo","StyledNav","nav","TopMenu","BottomMenu","WalletButton","MobileNav","showTxModal","setShowTxModal","MobileTransactionInfo","openMenu","opacity","DesktopProjectRoute","ProjectDiv","MobileProjectRoute","TopBarContainer","HideonPhone","HideOnBigScreen","StyledTopBar","StyledTopBarInner","TopBar","setAvailableChains","showProjectModal","setShowProjectModal","showMobileMenu","toggleMobileMenu","setShowWarning","updateActiveNetwork","walletId","isMainnet","onWalletClick","onPresent","StyledModalWrapper","StyledModalBackdrop","Modals","isOpen","setIsOpen","setContent","handlePresent","modalContent","handleDismiss","isValidElement","cloneElement","updateGMUPrice","getEntireSystemColl","getEntireSystemDebt","getBorrowingRateWithDecay","getRedemptionRateWithDecay","getBorrowingRate","getRedemptionRate","createReducer","gmuPrice","builder","addCase","payload","walletModalOpen","settingsMenuOpen","removeAfterMs","popup","concat","nanoid","availableNetworks","chainsConfig","approvals","txs","lastCheckedBlockNumber","PERSISTED_KEYS","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","thunk","save","states","preloadedState","load","VISIBILITY_STATE_SUPPORTED","isWindowVisible","visibilityState","Updater","windowVisible","focused","setFocused","listener","removeEventListener","useIsWindowVisible","blockNumberCallback","getBlockNumber","removeListener","debouncedState","delay","debouncedValue","setDebouncedValue","useDebounce","lastBlockNumber","blocksSinceCheck","minutesPending","shouldCheck","getTransactionReceipt","blockHash","contractAddress","transactionHash","transactionIndex","Updaters","Providers","WalletProvider","connectors","injected","walletconnect","bridge","pollingInterval","rpc","AppContent","analyticsState","maxSnack","App","makeUnPassive","ev","preventDefault","body","passive","Boolean","hostname","ReactDOM","render","StrictMode","dsn","integrations","BrowserTracing","tracesSampleRate","navigator","serviceWorker","ready","registration","unregister","module","exports","webpackAsyncContext","req","__webpack_require__","o","resolve","ids"],"mappings":"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AiC,CAChC,KACA,IAED,kCAAmC,CAClC,KACA,IAED,kCAAmC,CAClC,KACA,IAED,qCAAsC,CACrC,KACA,IAED,uCAAwC,CACvC,KACA,IAED,iCAAkC,CACjC,KACA,IAED,mCAAoC,CACnC,KACA,IAED,mCAAoC,CACnC,KACA,IAED,iCAAkC,CACjC,KACA,IAED,sCAAuC,CACtC,KACA,IAED,6BAA8B,CAC7B,KACA,IAED,sBAAuB,CACtB,KACA,IAED,qBAAsB,CACrB,KACA,IAED,wBAAyB,CACxB,KACA,IAED,iBAAkB,CACjB,KACA,IAED,uBAAwB,CACvB,KACA,IAED,sBAAuB,CACtB,KACA,IAED,oBAAqB,CACpB,KACA,IAED,kBAAmB,CAClB,KACA,IAED,mBAAoB,CACnB,KACA,IAED,qBAAsB,CACrB,KAED,oBAAqB,CACpB,KACA,IAED,yBAA0B,CACzB,KACA,IAED,yBAA0B,CACzB,KACA,IAED,kBAAmB,CAClB,KACA,IAED,oBAAqB,CACpB,KACA,IAED,sBAAuB,CACtB,KACA,IAED,kBAAmB,CAClB,KACA,IAED,yBAA0B,CACzB,KACA,IAED,oBAAqB,CACpB,KACA,IAED,qBAAsB,CACrB,KACA,IAED,yBAA0B,CACzB,KACA,IAED,4BAA6B,CAC5B,KACA,IAED,6BAA8B,CAC7B,KACA,IAED,0BAA2B,CAC1B,KACA,IAED,2BAA4B,CAC3B,KACA,IAED,8BAA+B,CAC9B,KACA,IAED,2BAA4B,CAC3B,KACA,IAED,2BAA4B,CAC3B,KACA,IAED,6BAA8B,CAC7B,KACA,IAED,4BAA6B,CAC5B,KACA,IAED,qBAAsB,CACrB,KACA,IAED,uBAAwB,CACvB,KACA,IAED,4BAA6B,CAC5B,KACA,IAED,8BAA+B,CAC9B,KACA,IAED,8BAA+B,CAC9B,KACA,IAED,uBAAwB,CACvB,KACA,IAED,uBAAwB,CACvB,KACA,IAED,yBAA0B,CACzB,KACA,IAED,2BAA4B,CAC3B,KACA,IAED,yBAA0B,CACzB,KACA,IAED,+BAAgC,CAC/B,KACA,IAED,yBAA0B,CACzB,KAED,6BAA8B,CAC7B,KACA,IAED,0BAA2B,CAC1B,KACA,IAED,8BAA+B,CAC9B,KACA,IAED,6BAA8B,CAC7B,KACA,IAED,wBAAyB,CACxB,KACA,IAED,2BAA4B,CAC3B,KACA,IAED,yBAA0B,CACzB,KACA,IAED,sCAAuC,CACtC,KACA,KAED,oCAAqC,CACpC,KACA,KAED,sCAAuC,CACtC,KACA,KAED,oCAAqC,CACpC,KACA,KAED,wBAAyB,CACxB,KACA,KAED,2BAA4B,CAC3B,KACA,KAED,+BAAgC,CAC/B,KACA,KAED,wBAAyB,CACxB,KACA,KAED,kCAAmC,CAClC,KACA,KAED,gCAAiC,CAChC,KACA,KAED,yBAA0B,CACzB,KACA,KAED,wBAAyB,CACxB,KACA,KAED,yBAA0B,CACzB,KACA,KAED,wBAAyB,CACxB,KACA,KAED,yBAA0B,CACzB,KACA,KAED,mCAAoC,CACnC,KACA,KAED,iCAAkC,CACjC,KACA,KAED,yBAA0B,CACzB,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,4BAA6B,CAC5B,KACA,KAED,yBAA0B,CACzB,KACA,KAED,mCAAoC,CACnC,KACA,KAED,iCAAkC,CACjC,KACA,KAED,yBAA0B,CACzB,KACA,KAED,mCAAoC,CACnC,KACA,KAED,iCAAkC,CACjC,KACA,KAED,yBAA0B,CACzB,KACA,KAED,yBAA0B,CACzB,KACA,KAED,yBAA0B,CACzB,KACA,KAED,2BAA4B,CAC3B,KACA,KAED,8BAA+B,CAC9B,KACA,MAGF,SAASw+D,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAE3+D,EAAKy+D,GAC9B,OAAOpkD,QAAQukD,UAAUn2D,MAAK,WAC7B,IAAIquB,EAAI,IAAIxgC,MAAM,uBAAyBmoE,EAAM,KAEjD,MADA3nC,EAAEmS,KAAO,mBACHnS,KAIR,IAAI+nC,EAAM7+D,EAAIy+D,GAAMpqE,EAAKwqE,EAAI,GAC7B,OAAOxkD,QAAQC,IAAIukD,EAAIn9C,MAAM,GAAG1hB,IAAI0+D,EAAoB5nC,IAAIruB,MAAK,WAChE,OAAOi2D,EAAoB/vC,EAAEt6B,EAAI,MAGnCmqE,EAAoBz+D,KAAO,WAC1B,OAAOD,OAAOC,KAAKC,IAEpBw+D,EAAoBnqE,GAAK,IACzBiqE,EAAOC,QAAUC,G","file":"static/js/main.d1a0ee22.chunk.js","sourcesContent":["window.addEventListener(\n  'load',\n  function (event) {\n    var showWarning = document.getElementById('showWarning');\n    var header = document.getElementById('WarningMsg');\n    var sidebar = document.getElementById('sidebar_container');\n    var main_page = document.getElementById('main_page');\n    let showWarningBool = false;\n    if (showWarning) {\n      showWarningBool = showWarning.innerHTML === 'true';\n    }\n\n    const DontShow = () => {\n      if (header) {\n        header.style.display = 'none';\n      }\n      if (sidebar) {\n        sidebar.style.marginTop = 'calc(112px)';\n        sidebar.style.minHeight = 'calc(100vh - 144px)';\n      }\n      if (main_page) {\n        main_page.style.minHeight = 'calc(100vh - 112px)';\n        main_page.style.paddingTop = 'calc(112px)';\n      }\n    };\n\n    const Show = () => {\n      if (header) {\n        header.style.display = 'block';\n      }\n      if (sidebar) {\n        sidebar.style.marginTop = 'calc(112px + 41px)';\n        sidebar.style.minHeight = 'calc(100vh - 144px - 41px)';\n      }\n      if (main_page) {\n        main_page.style.minHeight = 'calc(100vh - 112px - 41px)';\n        main_page.style.paddingTop = 'calc(112px + 41px)';\n      }\n    };\n\n    if (showWarningBool) {\n      window.addEventListener(\n        'scroll',\n        function (event) {\n          var top = this.scrollY;\n          if (top > 180) {\n            DontShow();\n          } else {\n            // Show();\n          }\n        },\n        false,\n      );\n    } else {\n      // DontShow();\n    }\n  },\n  false,\n);\n","import mixpanel from 'mixpanel-browser';\n\n//ToDo: add 'REACT_APP_ISPROD=true' in script for app.arthcoin.com in jenkins\nexport const isProduction = process.env.REACT_APP_ISPROD === 'true';\n\nif (isProduction) {\n  mixpanel.init('b646039d2dd5e1e09deebb592cd041b1');\n} else {\n  mixpanel.init('84c19ce0c48dff4b147960872628919a');\n}\n\nlet env_check = true;\n\nlet actions = {\n  identify: (id) => {\n    if (env_check) {\n      mixpanel.identify(id);\n    }\n  },\n  alias: (id) => {\n    if (env_check) mixpanel.alias(id);\n  },\n  track: (name, props) => {\n    if (env_check) {\n      mixpanel.track(name, props);\n    }\n  },\n  people: {\n    set: (props) => {\n      if (env_check) mixpanel.people.set(props);\n    },\n  },\n};\n\nexport let Mixpanel = actions;\n","import assert from 'assert';\nimport { BigNumber } from 'ethers';\n\nexport const decimalify = (bigNumber: BigNumber): Decimal =>\n  Decimal.fromBigNumberString(bigNumber.toHexString());\n\nconst getDigits = (numDigits: number) => TEN.pow(numDigits);\n\nconst MAX_UINT_256 = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\nconst PRECISION = 18;\nconst ONE = BigNumber.from(1);\nconst TEN = BigNumber.from(10);\nconst DIGITS = getDigits(PRECISION);\n\nconst stringRepresentationFormat = /^[0-9]*(\\.[0-9]*)?(e[-+]?[0-9]+)?$/;\nconst trailingZeros = /0*$/;\nconst magnitudes = ['', 'K', 'M', 'B', 'T'];\n\nconst roundedMul = (x: BigNumber, y: BigNumber) => x.mul(y).add(Decimal.HALF.hex).div(DIGITS);\n\n/**\n * Types that can be converted into a Decimal.\n *\n * @public\n */\nexport type Decimalish = Decimal | number | string;\n\n/**\n * Fixed-point decimal bignumber with 18 digits of precision.\n *\n * @remarks\n * Used by Liquity libraries to precisely represent native currency (e.g. Ether), LUSD and LQTY\n * amounts, as well as derived metrics like collateral ratios.\n *\n * @public\n */\nexport class Decimal {\n  static readonly INFINITY = Decimal.fromBigNumberString(MAX_UINT_256);\n  static readonly ZERO = Decimal.from(0);\n  static readonly HALF = Decimal.from(0.5);\n  static readonly ONE = Decimal.from(1);\n\n  private readonly _bigNumber: BigNumber;\n\n  /** @internal */\n  get hex(): string {\n    return this._bigNumber.toHexString();\n  }\n\n  /** @internal */\n  get bigNumber(): string {\n    return this._bigNumber.toString();\n  }\n\n  private constructor(bigNumber: BigNumber) {\n    if (bigNumber.isNegative()) {\n      throw new Error('negatives not supported by Decimal');\n    }\n\n    this._bigNumber = bigNumber;\n  }\n\n  static fromBigNumberString(bigNumberString: string): Decimal {\n    return new Decimal(BigNumber.from(bigNumberString));\n  }\n\n  private static _fromString(representation: string): Decimal {\n    if (!representation || !representation.match(stringRepresentationFormat)) {\n      throw new Error(`bad decimal format: \"${representation}\"`);\n    }\n\n    if (representation.includes('e')) {\n      // eslint-disable-next-line prefer-const\n      let [coefficient, exponent] = representation.split('e');\n\n      if (exponent.startsWith('-')) {\n        return new Decimal(\n          Decimal._fromString(coefficient)._bigNumber.div(\n            TEN.pow(BigNumber.from(exponent.substr(1))),\n          ),\n        );\n      }\n\n      if (exponent.startsWith('+')) {\n        exponent = exponent.substr(1);\n      }\n\n      return new Decimal(\n        Decimal._fromString(coefficient)._bigNumber.mul(TEN.pow(BigNumber.from(exponent))),\n      );\n    }\n\n    if (!representation.includes('.')) {\n      return new Decimal(BigNumber.from(representation).mul(DIGITS));\n    }\n\n    // eslint-disable-next-line prefer-const\n    let [characteristic, mantissa] = representation.split('.');\n\n    if (mantissa.length < PRECISION) {\n      mantissa += '0'.repeat(PRECISION - mantissa.length);\n    } else {\n      mantissa = mantissa.substr(0, PRECISION);\n    }\n\n    return new Decimal(\n      BigNumber.from(characteristic || 0)\n        .mul(DIGITS)\n        .add(mantissa),\n    );\n  }\n\n  static from(decimalish: Decimalish): Decimal {\n    switch (typeof decimalish) {\n      case 'object':\n        if (decimalish instanceof Decimal) {\n          return decimalish;\n        } else {\n          throw new Error('invalid Decimalish value');\n        }\n      case 'string':\n        return Decimal._fromString(decimalish);\n      case 'number':\n        return Decimal._fromString(decimalish.toString());\n      default:\n        throw new Error('invalid Decimalish value');\n    }\n  }\n\n  private _toStringWithAutomaticPrecision() {\n    const characteristic = this._bigNumber.div(DIGITS);\n    const mantissa = this._bigNumber.mod(DIGITS);\n\n    if (mantissa.isZero()) {\n      return characteristic.toString();\n    } else {\n      const paddedMantissa = mantissa.toString().padStart(PRECISION, '0');\n      const trimmedMantissa = paddedMantissa.replace(trailingZeros, '');\n      return characteristic.toString() + '.' + trimmedMantissa;\n    }\n  }\n\n  private _roundUp(precision: number) {\n    const halfDigit = getDigits(PRECISION - 1 - precision).mul(5);\n    return this._bigNumber.add(halfDigit);\n  }\n\n  private _toStringWithPrecision(precision: number) {\n    if (precision < 0) {\n      throw new Error('precision must not be negative');\n    }\n\n    const value = precision < PRECISION ? this._roundUp(precision) : this._bigNumber;\n    const characteristic = value.div(DIGITS);\n    const mantissa = value.mod(DIGITS);\n\n    if (precision === 0) {\n      return characteristic.toString();\n    } else {\n      const paddedMantissa = mantissa.toString().padStart(PRECISION, '0');\n      const trimmedMantissa = paddedMantissa.substr(0, precision);\n      return characteristic.toString() + '.' + trimmedMantissa;\n    }\n  }\n\n  toString(precision?: number): string {\n    if (this.infinite) {\n      return '∞';\n    } else if (precision !== undefined) {\n      return this._toStringWithPrecision(precision);\n    } else {\n      return this._toStringWithAutomaticPrecision();\n    }\n  }\n\n  prettify(precision = 2): string {\n    const [characteristic, mantissa] = this.toString(precision).split('.');\n    const prettyCharacteristic = characteristic.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n\n    return mantissa !== undefined\n      ? prettyCharacteristic + '.' + mantissa\n      : prettyCharacteristic;\n  }\n\n  shorten(): string {\n    const characteristicLength = this.toString(0).length;\n    const magnitude = Math.min(\n      Math.floor((characteristicLength - 1) / 3),\n      magnitudes.length - 1,\n    );\n\n    const precision = Math.max(3 * (magnitude + 1) - characteristicLength, 0);\n    const normalized = this.div(new Decimal(getDigits(PRECISION + 3 * magnitude)));\n\n    return normalized.prettify(precision) + magnitudes[magnitude];\n  }\n\n  add(addend: Decimalish): Decimal {\n    return new Decimal(this._bigNumber.add(Decimal.from(addend)._bigNumber));\n  }\n\n  sub(subtrahend: Decimalish): Decimal {\n    return new Decimal(this._bigNumber.sub(Decimal.from(subtrahend)._bigNumber));\n  }\n\n  mul(multiplier: Decimalish): Decimal {\n    return new Decimal(this._bigNumber.mul(Decimal.from(multiplier)._bigNumber).div(DIGITS));\n  }\n\n  div(divider: Decimalish): Decimal {\n    divider = Decimal.from(divider);\n\n    if (divider.isZero) {\n      return Decimal.INFINITY;\n    }\n\n    return new Decimal(this._bigNumber.mul(DIGITS).div(divider._bigNumber));\n  }\n\n  /** @internal */\n  _divCeil(divider: Decimalish): Decimal {\n    divider = Decimal.from(divider);\n\n    if (divider.isZero) {\n      return Decimal.INFINITY;\n    }\n\n    return new Decimal(\n      this._bigNumber.mul(DIGITS).add(divider._bigNumber.sub(ONE)).div(divider._bigNumber),\n    );\n  }\n\n  mulDiv(multiplier: Decimalish, divider: Decimalish): Decimal {\n    multiplier = Decimal.from(multiplier);\n    divider = Decimal.from(divider);\n\n    if (divider.isZero) {\n      return Decimal.INFINITY;\n    }\n\n    return new Decimal(this._bigNumber.mul(multiplier._bigNumber).div(divider._bigNumber));\n  }\n\n  pow(exponent: number): Decimal {\n    assert(Number.isInteger(exponent));\n    assert(0 <= exponent && exponent <= 0xffffffff); // Ensure we're safe to use bitwise ops\n\n    if (exponent === 0) {\n      return Decimal.ONE;\n    }\n\n    if (exponent === 1) {\n      return this;\n    }\n\n    let x = this._bigNumber;\n    let y = DIGITS;\n\n    for (; exponent > 1; exponent >>>= 1) {\n      if (exponent & 1) {\n        y = roundedMul(x, y);\n      }\n\n      x = roundedMul(x, x);\n    }\n\n    return new Decimal(roundedMul(x, y));\n  }\n\n  get isZero(): boolean {\n    return this._bigNumber.isZero();\n  }\n\n  get zero(): this | undefined {\n    if (this.isZero) {\n      return this;\n    }\n  }\n\n  get nonZero(): this | undefined {\n    if (!this.isZero) {\n      return this;\n    }\n  }\n\n  get infinite(): this | undefined {\n    if (this.eq(Decimal.INFINITY)) {\n      return this;\n    }\n  }\n\n  get finite(): this | undefined {\n    if (!this.eq(Decimal.INFINITY)) {\n      return this;\n    }\n  }\n\n  /** @internal */\n  get absoluteValue(): this {\n    return this;\n  }\n\n  lt(that: Decimalish): boolean {\n    return this._bigNumber.lt(Decimal.from(that)._bigNumber);\n  }\n\n  eq(that: Decimalish): boolean {\n    return this._bigNumber.eq(Decimal.from(that)._bigNumber);\n  }\n\n  gt(that: Decimalish): boolean {\n    return this._bigNumber.gt(Decimal.from(that)._bigNumber);\n  }\n\n  gte(that: Decimalish): boolean {\n    return this._bigNumber.gte(Decimal.from(that)._bigNumber);\n  }\n\n  lte(that: Decimalish): boolean {\n    return this._bigNumber.lte(Decimal.from(that)._bigNumber);\n  }\n\n  static min(a: Decimalish, b: Decimalish): Decimal {\n    a = Decimal.from(a);\n    b = Decimal.from(b);\n\n    return a.lt(b) ? a : b;\n  }\n\n  static max(a: Decimalish, b: Decimalish): Decimal {\n    a = Decimal.from(a);\n    b = Decimal.from(b);\n\n    return a.gt(b) ? a : b;\n  }\n}\n\ntype DifferenceRepresentation = { sign: '' | '+' | '-'; absoluteValue: Decimal };\n\n/** @alpha */\nexport class Difference {\n  private _number?: DifferenceRepresentation;\n\n  private constructor(number?: DifferenceRepresentation) {\n    this._number = number;\n  }\n\n  static between(d1: Decimalish | undefined, d2: Decimalish | undefined): Difference {\n    if (d1 === undefined || d2 === undefined) {\n      return new Difference(undefined);\n    }\n\n    d1 = Decimal.from(d1);\n    d2 = Decimal.from(d2);\n\n    if (d1.infinite && d2.infinite) {\n      return new Difference(undefined);\n    } else if (d1.infinite) {\n      return new Difference({ sign: '+', absoluteValue: d1 });\n    } else if (d2.infinite) {\n      return new Difference({ sign: '-', absoluteValue: d2 });\n    } else if (d1.gt(d2)) {\n      return new Difference({ sign: '+', absoluteValue: Decimal.from(d1).sub(d2) });\n    } else if (d2.gt(d1)) {\n      return new Difference({ sign: '-', absoluteValue: Decimal.from(d2).sub(d1) });\n    } else {\n      return new Difference({ sign: '', absoluteValue: Decimal.ZERO });\n    }\n  }\n\n  toString(precision?: number): string {\n    if (!this._number) {\n      return 'N/A';\n    }\n\n    return this._number.sign + this._number.absoluteValue.toString(precision);\n  }\n\n  prettify(precision?: number): string {\n    if (!this._number) {\n      return this.toString();\n    }\n\n    return this._number.sign + this._number.absoluteValue.prettify(precision);\n  }\n\n  mul(multiplier: Decimalish): Difference {\n    return new Difference(\n      this._number && {\n        sign: this._number.sign,\n        absoluteValue: this._number.absoluteValue.mul(multiplier),\n      },\n    );\n  }\n\n  get nonZero(): this | undefined {\n    return this._number?.absoluteValue.nonZero && this;\n  }\n\n  get positive(): this | undefined {\n    return this._number?.sign === '+' ? this : undefined;\n  }\n\n  get negative(): this | undefined {\n    return this._number?.sign === '-' ? this : undefined;\n  }\n\n  get absoluteValue(): Decimal | undefined {\n    return this._number?.absoluteValue;\n  }\n\n  get infinite(): this | undefined {\n    return this._number?.absoluteValue.infinite && this;\n  }\n\n  get finite(): this | undefined {\n    return this._number?.absoluteValue.finite && this;\n  }\n}\n\n/** @alpha */\nexport class Percent<\n  T extends {\n    infinite?: T | undefined;\n    absoluteValue?: A | undefined;\n    mul?(hundred: 100): T;\n    toString(precision?: number): string;\n  },\n  A extends {\n    gte(n: string): boolean;\n  }\n> {\n  private _percent: T;\n\n  public constructor(ratio: T) {\n    this._percent = ratio.infinite || (ratio.mul && ratio.mul(100)) || ratio;\n  }\n\n  nonZeroish(precision: number): this | undefined {\n    const zeroish = `0.${'0'.repeat(precision)}5`;\n\n    if (this._percent.absoluteValue?.gte(zeroish)) {\n      return this;\n    }\n  }\n\n  toString(precision: number): string {\n    return (\n      this._percent.toString(precision) +\n      (this._percent.absoluteValue && !this._percent.infinite ? '%' : '')\n    );\n  }\n\n  prettify(): string {\n    if (this._percent.absoluteValue?.gte('1000')) {\n      return this.toString(0);\n    } else if (this._percent.absoluteValue?.gte('10')) {\n      return this.toString(1);\n    } else {\n      return this.toString(2);\n    }\n  }\n}\n","import { BigNumber } from 'ethers';\n\nimport { Decimal } from '../utils/Decimal';\n\nexport const PAGINATION_PAGE_SIZE = 4;\nexport const BETA = 2;\nexport const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000';\nexport const DECIMALS_18 = BigNumber.from(10).pow(18);\nexport const BNZERO = BigNumber.from(0);\nexport const ARTH_GAS_COMPENSATION = DECIMALS_18.mul(5);\nexport const MIN_NET_DEBT = DECIMALS_18.mul(50);\nexport const REDEEM_MAX_ITERATIONS = 70;\nexport const MAX_UINT_256 =\n  '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\nexport const MAX_TRIALS_AT_ONCE = 2500;\nexport const MINUTE_DECAY_FACTOR = BigNumber.from('999037758833783000');\nexport const ONE_INCH_ROUTER_ADDRESS = '0x11111112542d85b3ef69ae05771c2dccff4faa26';\nexport const noOp = () => {};\n\nexport const MINIMUM_BORROWING_RATE = Decimal.from(0.005);\nexport const MAXIMUM_BORROWING_RATE = Decimal.from(0.05);\nexport const MINIMUM_REDEMPTION_RATE = Decimal.from(0.005);\n\nexport const CRITICAL_COLLATERAL_RATIO = Decimal.from(1.5);\nexport const LUSD_LIQUIDATION_RESERVE = Decimal.from(200);\nexport const LUSD_MINIMUM_NET_DEBT = Decimal.from(250);\nexport const LUSD_MINIMUM_DEBT = LUSD_LIQUIDATION_RESERVE.add(LUSD_MINIMUM_NET_DEBT);\nexport const MINIMUM_COLLATERAL_RATIO = Decimal.from(1.1);\n","import { Configuration } from '../protocol/config';\nimport { DECIMALS_18, ZERO_ADDRESS } from '../protocol/constants';\n\nconst configurations: { [env: string]: Configuration } = {\n  56: {\n    chainId: 56,\n    refreshInterval: 10000,\n    gasLimitMultiplier: 1.1,\n    blockchainTokenDecimals: 18,\n    networkName: 'BSC Mainnet',\n    networkDisplayName: 'BSC',\n    networkIconName: 'BSC',\n    etherscanUrl: 'https://bscscan.com',\n    defaultProvider: 'https://bsc-dataseed1.defibit.io/',\n    vFatLink: 'https://vfat.tools/bsc/arth/',\n    defaultCollateral: 'MAHA',\n    blockchainTokenName: 'BNB',\n    decimalOverrides: {},\n    tradingLink: 'https://ellipsis.finance/pool/9',\n    frontEndAddress: ZERO_ADDRESS,\n    networkSetupDocLink:\n      'https://docs.binance.org/smart-chain/developer/rpc.html#mainnetchainid-0x38-56-in-decimal',\n    supportedTokens: [\n      'ARTH',\n      'MAHA',\n      'BUSD',\n      'USDC',\n      'WBNB',\n      'ARTHuval3PS',\n      'USDT',\n      'ARTH.usd',\n      'ARTHMAHA-APE-LP',\n      'ARTHMAHALP',\n      'ARTHBUSDLP',\n      'BUSDUSDT-APE-LP',\n      'BUSDUSDT-APE-LP-S',\n      'BUSDUSDC-APE-LP',\n      'BUSDUSDC-APE-LP-S',\n      '3EPS',\n      '3EPS-S',\n      'ARTHu3PS',\n      'USDT',\n    ],\n    supportedCollaterals: ['BUSD', 'WBNB', 'MAHA'],\n    tradingCollaterals: ['BUSD', 'USDC', 'USDT'],\n    blockchainToken: 'BNB',\n    deployments: require('../protocol/deployments/bsc.json'),\n    crvTradeTokenIndexMapping: {\n      BUSD: 1,\n      USDC: 2,\n      USDT: 3,\n      'ARTH.usd': 0,\n    },\n    poolsStaticInfo: {\n      name: 'ARTH.usd+3eps',\n      symbol: 'ARTHu3PS',\n      lpToken: 'ARTHu3PS',\n      removeLiquidityLink: 'https://ellipsis.finance/pool/9',\n      token3Pool: '3EPS',\n      minterContract: 'ARTHusd3EPSStableSwap',\n      token3PoolUnderlyingTokens: ['BUSD', 'USDC', 'USDT'],\n      desc: '',\n    },\n    liquidityPoolsStaticInfo: [\n      {\n        name: 'ARTH.usd+3eps',\n        symbol: 'ARTHu3PS',\n        lpToken: 'ARTHu3PS',\n        removeLiquidityLink: 'https://ellipsis.finance/pool/9',\n        token3Pool: '3EPS',\n        minterContract: 'ARTHusd3EPSStableSwap',\n        token3PoolUnderlyingTokens: ['BUSD', 'USDC', 'USDT'],\n        desc: '',\n      },\n    ],\n    troveStaticInfo: [\n      {\n        trove: 'BUSD-A',\n        depositToken: 'BUSD',\n        displayName: 'BUSD-A',\n        contractPrefix: 'BUSD-A',\n        crParameters: {\n          mcr: 104999,\n          ccr: 109999,\n        },\n        minDebtAmount: DECIMALS_18.mul(50),\n        isDeprecated: false,\n        liquidationReserve: DECIMALS_18.mul(5),\n      },\n      {\n        trove: 'MAHA',\n        depositToken: 'MAHA',\n        displayName: 'MAHA',\n        contractPrefix: 'MAHA',\n        crParameters: {\n          mcr: 109999,\n          ccr: 149999,\n        },\n        minDebtAmount: DECIMALS_18.mul(250),\n        isDeprecated: false,\n        liquidationReserve: DECIMALS_18.mul(5),\n      },\n\n      {\n        trove: 'WBNB',\n        depositToken: 'WBNB',\n        displayName: 'WBNB',\n        contractPrefix: 'WBNB',\n        crParameters: {\n          mcr: 109999,\n          ccr: 149999,\n        },\n        minDebtAmount: DECIMALS_18.mul(250),\n        isDeprecated: false,\n        liquidationReserve: DECIMALS_18.mul(5),\n      },\n      {\n        trove: 'BUSDUSDC-APE-LP-S',\n        depositToken: 'BUSDUSDC-APE-LP-S',\n        displayName: 'BUSDUSDC-APE-LP-S',\n        contractPrefix: 'BUSDUSDC-APE-LP-S',\n        crParameters: {\n          mcr: 104999,\n          ccr: 109999,\n        },\n        minDebtAmount: DECIMALS_18.mul(50),\n        isDeprecated: false,\n        liquidationReserve: DECIMALS_18.mul(5),\n      },\n      {\n        trove: 'BUSDUSDT-APE-LP-S',\n        depositToken: 'BUSDUSDT-APE-LP-S',\n        displayName: 'BUSDUSDT-APE-LP-S',\n        contractPrefix: 'BUSDUSDT-APE-LP-S',\n        crParameters: {\n          mcr: 104999,\n          ccr: 109999,\n        },\n        minDebtAmount: DECIMALS_18.mul(50),\n        isDeprecated: false,\n        liquidationReserve: DECIMALS_18.mul(5),\n      },\n      {\n        trove: 'BUSD',\n        depositToken: 'BUSD',\n        displayName: 'BUSD',\n        contractPrefix: 'BUSD',\n        crParameters: {\n          mcr: 109999,\n          ccr: 149999,\n        },\n        minDebtAmount: DECIMALS_18.mul(250),\n        isDeprecated: true,\n        liquidationReserve: DECIMALS_18.mul(5),\n      },\n      {\n        trove: 'BUSDUSDC-APE-LP-S-V1',\n        depositToken: 'BUSDUSDC-APE-LP-S',\n        displayName: 'BUSDUSDC-APE-LP-S-V1',\n        contractPrefix: 'BUSDUSDC-APE-LP-S-V1',\n        crParameters: {\n          mcr: 104999,\n          ccr: 109999,\n        },\n        minDebtAmount: DECIMALS_18.mul(50),\n        isDeprecated: true,\n        liquidationReserve: DECIMALS_18.mul(5),\n      },\n      {\n        trove: 'BUSDUSDT-APE-LP-S-V1',\n        depositToken: 'BUSDUSDT-APE-LP-S',\n        displayName: 'BUSDUSDT-APE-LP-S-V1',\n        contractPrefix: 'BUSDUSDT-APE-LP-S-V1',\n        crParameters: {\n          mcr: 104999,\n          ccr: 109999,\n        },\n        minDebtAmount: DECIMALS_18.mul(50),\n        isDeprecated: true,\n        liquidationReserve: DECIMALS_18.mul(5),\n      },\n    ],\n    farmingConfigs: [\n      {\n        name: 'Ellipsis ARTH Gauge',\n        platform: 'Ellipsis',\n        depositTokenKind: 'lp',\n        contract: 'ARTHu3PXBasicStakingV2',\n        depositToken: 'ARTHuval3PS',\n        depositTokenSymbols: ['ARTH.usd', '3EPS'],\n        rewardToken: ['EPX'],\n        rewardTokenKind: 'single',\n        apiKey: 'arthu3epx',\n        addLiquidityLink: 'https://ellipsis.finance/pool/21',\n        willBeRestarted: true,\n      },\n      {\n        name: 'DotDot ARTH Staking',\n        platform: 'DotDot',\n        depositTokenKind: 'lp',\n        contract: 'ARTHuval3PSDotBasicStaking',\n        depositToken: 'ARTHuval3PS',\n        depositTokenSymbols: ['ARTH.usd', '3EPS'],\n        rewardToken: ['EPX', 'DDD'],\n        rewardTokenKind: 'multiple',\n        apiKey: 'arthu3valdoteps',\n        addLiquidityLink: 'https://ellipsis.finance/pool/21',\n        willBeRestarted: true,\n      },\n      {\n        name: 'ARTH.usd+val3eps',\n        platform: 'Ellipsis',\n        depositTokenKind: 'lp',\n        contract: 'ARTHuval3PS-BasicStaking',\n        depositToken: 'ARTHuval3PS',\n        depositTokenSymbols: ['ARTH.usd', '3EPS'],\n        rewardToken: ['MAHA'],\n        rewardTokenKind: 'single',\n        startDate: new Date('2022-04-21T15:00:00.000Z'),\n        apiKey: 'arthu3valeps-v2',\n        addLiquidityLink: 'https://ellipsis.finance/pool/21',\n        endDate: new Date(1653150807000)\n      },\n      {\n        name: 'ARTH.usd+3eps',\n        platform: 'Ellipsis',\n        depositTokenKind: 'lp',\n        contract: 'ARTHu3PSBasicStakingV2',\n        depositToken: 'ARTHu3PS',\n        depositTokenSymbols: ['ARTH.usd', '3EPS'],\n        rewardToken: ['MAHA'],\n        rewardTokenKind: 'single',\n        apiKey: 'arthu3eps-v2',\n        addLiquidityLink: 'https://ellipsis.finance/pool/9',\n        endDate: new Date(1652705033000)\n      },\n      {\n        name: 'ARTH/MAHA Ape LP',\n        platform: 'ApeSwap',\n        depositTokenKind: 'lp',\n        contract: 'ARTHMAHA-APE-LP-Staking',\n        depositToken: 'ARTHMAHA-APE-LP',\n        depositTokenSymbols: ['ARTH', 'MAHA'],\n        rewardToken: ['MAHA'],\n        startDate: new Date('2022-04-12T20:11:02.158Z'),\n        rewardTokenKind: 'single',\n        apiKey: 'arthMahaApe',\n        addLiquidityLink:\n          'https://apeswap.finance/add/0xB69A424Df8C737a122D0e60695382B3Eec07fF4B/0xCE86F7fcD3B40791F63B86C3ea3B8B355Ce2685b',\n        endDate: new Date(1652377426000)\n      },\n      {\n        name: 'ARTH/BUSD LP',\n        platform: 'PancakeSwap',\n        depositTokenKind: 'lp',\n        contract: 'ARTHBUSDBasicStaking',\n        depositToken: 'ARTHBUSDLP',\n        depositTokenSymbols: ['ARTH', 'BUSD'],\n        rewardToken: ['MAHA'],\n        rewardTokenKind: 'single',\n        apiKey: 'arthBusd',\n        addLiquidityLink:\n          'https://pancakeswap.finance/add/0xB69A424Df8C737a122D0e60695382B3Eec07fF4B/0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56',\n        endDate: new Date(1649765592000)\n      },\n      {\n        name: 'ARTH/MAHA LP',\n        platform: 'PancakeSwap',\n        depositTokenKind: 'lp',\n        contract: 'ARTHMAHABasicStaking',\n        depositToken: 'ARTHMAHALP',\n        depositTokenSymbols: ['ARTH', 'MAHA'],\n        rewardToken: ['MAHA'],\n        rewardTokenKind: 'single',\n        apiKey: 'arthMaha',\n        addLiquidityLink:\n          'https://pancakeswap.finance/add/0xB69A424Df8C737a122D0e60695382B3Eec07fF4B/0xCE86F7fcD3B40791F63B86C3ea3B8B355Ce2685b',\n        endDate: new Date(1649765694000)\n      },\n    ],\n    tokeniseStaticInfo: [\n      {\n        depositToken: 'ARTH',\n        tokeniseToken: 'ARTH.usd',\n        platform: '',\n        rewardFee: 0,\n        link: 'https://arth.mahadao.com/#/loans/your-loans',\n        description:\n          \"Convert your ARTH into ARTH.usd which is a positive rebase token that is 100% backed by ARTH and maintains it's value at 1$\",\n        isTokeniseLP: false,\n      },\n      {\n        depositToken: 'BUSDUSDT-APE-LP',\n        tokeniseToken: 'BUSDUSDT-APE-LP-S',\n        platform: 'ApeSwap',\n        rewardFee: 0,\n        link:\n          'https://app.apeswap.finance/add/0x55d398326f99059ff775485246999027b3197955/0xe9e7cea3dedca5984780bafc599bd69add087d56',\n        description: 'The Apeswap BUSD/USDT Liquidity Mining program tokenized.',\n        isTokeniseLP: true,\n      },\n      {\n        depositToken: 'BUSDUSDC-APE-LP',\n        tokeniseToken: 'BUSDUSDC-APE-LP-S',\n        platform: 'ApeSwap',\n        rewardFee: 0,\n        link:\n          'https://apeswap.finance/add/0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d/0xe9e7cea3dedca5984780bafc599bd69add087d56',\n        description: 'The Apeswap BUSD/USDC Liquidity Mining program tokenized.',\n        isTokeniseLP: true,\n      },\n      // {\n      //   depositToken: '3EPS',\n      //   tokeniseToken: '3EPS-S',\n      //   platform: 'ellipsis',\n      //   rewardFee: 0,\n      //   link: 'https://ellipsis.finance/pool/3eps',\n      //   description:\n      //     'The Ellipsis 3EPS (BUSD/USDT/USDC) pool tokenized. Get rewards in Ellipsis',\n      //   isTokeniseLP: true,\n      // },\n    ],\n    strategiesStaticInfo: [\n      {\n        trove: 'BUSDUSDC-APE-LP-S',\n        depositTokens: ['BUSD'],\n        borrowTokens: ['BUSD', 'USDC'],\n        displayName: 'BUSD/USDC ApeSwap Staking',\n        rewardToken: 'BANANA',\n        maxLeverage: 5,\n        maxNonStakersLeverage: 3,\n        platform: 'ApeSwap',\n        contract: 'BUSDUSDC-APE-LP-S-Strategy',\n        minCollateralGMU: 50,\n        stakingPools: ['ARTH.usd+3eps'],\n        isDeprecated: false,\n      },\n      // {\n      //   trove: 'BUSDUSDT-APE-LP-S',\n      //   depositTokens: ['BUSD'],\n      //   borrowTokens: ['BUSD', 'USDT'],\n      //   displayName: 'BUSD/USDT ApeSwap Staking',\n      //   rewardToken: 'BANANA',\n      //   maxLeverage: 5,\n      //   maxNonStakersLeverage: 3,\n      //   platform: 'ApeSwap',\n      //   contract: 'BUSDUSDT-APE-LP-S-Strategy',\n      //   minCollateralGMU: 50,\n      //   stakingPools: ['ARTH.usd+3eps'],\n      //   isDeprecated: false,\n      // },\n      {\n        trove: 'BUSDUSDC-APE-LP-S-V1',\n        depositTokens: ['BUSD'],\n        borrowTokens: ['BUSD', 'USDC'],\n        displayName: 'BUSD/USDC ApeSwap Staking v1',\n        rewardToken: 'BANANA',\n        maxLeverage: 5,\n        maxNonStakersLeverage: 3,\n        platform: 'ApeSwap',\n        contract: 'BUSDUSDC-APE-LP-S-V1-Strategy',\n        minCollateralGMU: 50,\n        stakingPools: ['ARTH.usd+3eps'],\n        isDeprecated: true,\n      },\n      {\n        trove: 'BUSDUSDT-APE-LP-S-V1',\n        depositTokens: ['BUSD'],\n        borrowTokens: ['BUSD', 'USDT'],\n        displayName: 'BUSD/USDT ApeSwap Staking v1',\n        rewardToken: 'BANANA',\n        maxLeverage: 5,\n        maxNonStakersLeverage: 3,\n        platform: 'ApeSwap',\n        contract: 'BUSDUSDT-APE-LP-S-V1-Strategy',\n        minCollateralGMU: 50,\n        stakingPools: ['ARTH.usd+3eps'],\n        isDeprecated: true,\n      },\n    ],\n    whitelistedUsers: [\n      '0x0dd44846a3cc5b4D82DCD29D78d7291112608f0c',\n      '0xF152dA370FA509f08685Fa37a09BA997E41Fb65b',\n    ],\n  },\n};\n\nexport default configurations;\n","import { Configuration } from '../protocol/config';\nimport { DECIMALS_18, ZERO_ADDRESS } from '../protocol/constants';\n\nconst configurations: { [env: string]: Configuration } = {\n  1: {\n    chainId: 1,\n    refreshInterval: 10000,\n    gasLimitMultiplier: 1.1,\n    blockchainTokenDecimals: 18,\n    networkName: 'Ethereum',\n    networkDisplayName: 'ETH',\n    networkIconName: 'ETH',\n    etherscanUrl: 'https://etherscan.io',\n    defaultProvider:\n      'https://shy-silent-grass.quiknode.pro/94c847bf5de231bb794ddf50954f49eae04b1f7c/',\n    vFatLink: null,\n    defaultCollateral: 'WETH',\n    tradingCollaterals: [],\n    poolsStaticInfo: {\n      name: '',\n      symbol: '',\n      lpToken: '',\n      removeLiquidityLink: '',\n      token3Pool: '',\n      minterContract: '',\n      token3PoolUnderlyingTokens: [],\n      desc: '',\n    },\n    liquidityPoolsStaticInfo: [],\n    crvTradeTokenIndexMapping: {},\n    blockchainTokenName: 'ETH',\n    frontEndAddress: ZERO_ADDRESS,\n    networkSetupDocLink:\n      'https://docs.binance.org/smart-chain/developer/rpc.html#mainnetchainid-0x38-56-in-decimal',\n    blockchainToken: 'ETH',\n    supportedTokens: ['ARTH', 'MAHA', 'WETH', 'MAHAETH-SLP', 'ARTH.usd', 'FRAXARTHu-CRV-LP'],\n    supportedCollaterals: ['WETH'],\n    decimalOverrides: {},\n    tradingLink: 'https://curve.fi/factory-crypto/60',\n    deployments: require('../protocol/deployments/ethereum.json'),\n    troveStaticInfo: [\n      {\n        trove: 'WETH',\n        depositToken: 'WETH',\n        displayName: 'WETH',\n        contractPrefix: 'WETH',\n        crParameters: {\n          mcr: 107999, // 108%\n          ccr: 129999, // 130%\n        },\n        liquidationReserve: DECIMALS_18.mul(50),\n        minDebtAmount: DECIMALS_18.mul(50),\n        isDeprecated: false,\n      },\n    ],\n    farmingConfigs: [\n      {\n        name: 'MAHA/ETH SushiSwap',\n        platform: 'Sushiswap',\n        depositTokenKind: 'lp',\n        contract: 'MAHAETH-SLP-BasicStaking',\n        depositToken: 'MAHAETH-SLP',\n        depositTokenSymbols: ['MAHA', 'WETH'],\n        rewardToken: ['MAHA'],\n        rewardTokenKind: 'single',\n        startDate: new Date('2022-04-20T15:00:00.000Z'),\n        apiKey: 'ethMahaSushi',\n        addLiquidityLink:\n          'https://app.sushi.com/add/ETH/0xB4d930279552397bbA2ee473229f89Ec245bc365?tokens=ETH&tokens=0xB4d930279552397bbA2ee473229f89Ec245bc365&chainId=1',\n        endDate: new Date(1653056722000)\n      },\n      {\n        name: 'FRAX/ARTH.usd Curve',\n        platform: 'Curve',\n        depositTokenKind: 'lp',\n        contract: 'FRAXARTHu-CRV-LP-BasicStaking',\n        depositToken: 'FRAXARTHu-CRV-LP',\n        depositTokenSymbols: ['FRAX', 'ARTH.usd'],\n        rewardToken: ['MAHA'],\n        startDate: new Date('2022-04-29T15:00:00.000Z'),\n        rewardTokenKind: 'single',\n        apiKey: 'fraxArthCurve',\n        addLiquidityLink: 'https://curve.fi/factory/111/deposit',\n        endDate: new Date(1653831333000)\n      },\n    ],\n    tokeniseStaticInfo: [\n      {\n        depositToken: 'ARTH',\n        tokeniseToken: 'ARTH.usd',\n        platform: '',\n        rewardFee: 0,\n        link: 'https://arth.mahadao.com/#/loans/your-loans',\n        description:\n          \"Convert your ARTH into ARTH.usd which is a positive rebase token that is 100% backed by ARTH and maintains it's value at 1$\",\n        isTokeniseLP: false,\n      },\n    ],\n    strategiesStaticInfo: [],\n    whitelistedUsers: ['0x0dd44846a3cc5b4D82DCD29D78d7291112608f0c'],\n  },\n};\n\nexport default configurations;\n","import { Configuration } from '../protocol/config';\nimport { DECIMALS_18, ZERO_ADDRESS } from '../protocol/constants';\n\nconst configurations: { [env: string]: Configuration } = {\n  137: {\n    chainId: 137,\n    refreshInterval: 10000,\n    gasLimitMultiplier: 1.1,\n    blockchainTokenDecimals: 18,\n    networkName: 'Matic Mainnet',\n    networkDisplayName: 'Polygon',\n    networkIconName: 'Polygon',\n    etherscanUrl: 'https://polygonscan.com',\n    tradingLink:\n      'https://quickswap.exchange/#/swap?inputCurrency=0x2791bca1f2de4661ed88a30c99a7a9449aa84174&outputCurrency=0xe52509181feb30eb4979e29ec70d50fd5c44d590',\n    defaultProvider: 'https://polygon-rpc.com/',\n    vFatLink: 'https://vfat.tools/polygon/arth/',\n    defaultCollateral: 'WMATIC',\n    blockchainTokenName: 'MATIC',\n    decimalOverrides: {\n      'DAIUSDC-ALP': 9,\n      'DAIUSDC-ALP-S': 9,\n      ARTHUSDCLP: 12,\n      USDT: 6,\n      USDC: 6,\n      'USDCUSDT-QLP-S': 6,\n      'USDCUSDT-QLP': 6,\n    },\n    frontEndAddress: ZERO_ADDRESS,\n    networkSetupDocLink:\n      'https://docs.polygon.technology/docs/develop/metamask/config-polygon-on-metamask/',\n    blockchainToken: 'MATIC',\n    supportedCollaterals: ['USDCUSDT-QLP-S', 'WMATIC', 'DAI', 'WETH'],\n    supportedTokens: [\n      '3CRV',\n      'ARTH',\n      'MAHA',\n      'WMATIC',\n      'WETH',\n      'dQuick',\n      'USDC',\n      'USDT',\n      'DAI',\n      'ARTH.usd',\n      'ARTHMAHALP',\n      'ARTHUSDCLP',\n      'DAIUSDC-ALP-S',\n      'DAIUSDC-ALP',\n      'USDCUSDT-QLP-S',\n      'USDCUSDT-QLP',\n      'ARTHu3Pool',\n    ],\n    tradingCollaterals: ['DAI', 'USDC', 'USDT'],\n    crvTradeTokenIndexMapping: {\n      DAI: 1,\n      USDC: 2,\n      USDT: 3,\n      'ARTH.usd': 0,\n    },\n    poolsStaticInfo: {\n      name: 'ARTH.usd+3pool',\n      symbol: 'ARTHu3CRV',\n      lpToken: 'ARTHu3Pool',\n      removeLiquidityLink: 'https://ellipsis.finance/pool/9',\n      token3Pool: '3CRV',\n      minterContract: 'ARTHusd3Pool',\n      token3PoolUnderlyingTokens: ['DAI', 'USDC', 'USDT'],\n      desc: '',\n    },\n    liquidityPoolsStaticInfo: [\n      {\n        name: 'ARTH.usd+3pool',\n        symbol: 'ARTHu3CRV',\n        lpToken: 'ARTHu3Pool',\n        removeLiquidityLink: 'https://ellipsis.finance/pool/9',\n        token3Pool: '3CRV',\n        minterContract: 'ARTHusd3Pool',\n        token3PoolUnderlyingTokens: ['DAI', 'USDC', 'USDT'],\n        desc: '',\n      },\n    ],\n    troveStaticInfo: [\n      {\n        trove: 'DAI',\n        depositToken: 'DAI',\n        displayName: 'DAI',\n        contractPrefix: 'DAI',\n        liquidationReserve: DECIMALS_18.mul(5),\n        crParameters: {\n          mcr: 109999,\n          ccr: 149999,\n        },\n        minDebtAmount: DECIMALS_18.mul(250),\n        isDeprecated: false,\n      },\n      {\n        trove: 'WMATIC',\n        depositToken: 'WMATIC',\n        displayName: 'WMATIC',\n        contractPrefix: 'WMATIC',\n        crParameters: {\n          mcr: 109999,\n          ccr: 149999,\n        },\n        minDebtAmount: DECIMALS_18.mul(250),\n        isDeprecated: false,\n        liquidationReserve: DECIMALS_18.mul(5),\n      },\n\n      {\n        trove: 'WETH',\n        depositToken: 'WETH',\n        displayName: 'WETH',\n        contractPrefix: 'WETH',\n        crParameters: {\n          mcr: 109999,\n          ccr: 149999,\n        },\n        liquidationReserve: DECIMALS_18.mul(5),\n        minDebtAmount: DECIMALS_18.mul(250),\n        isDeprecated: false,\n      },\n      {\n        trove: 'USDCUSDT-QLP-S',\n        depositToken: 'USDCUSDT-QLP-S',\n        displayName: 'USDCUSDT-QLP-S',\n        contractPrefix: 'USDCUSDT-QLP-S',\n        crParameters: {\n          mcr: 104999,\n          ccr: 109999,\n        },\n        liquidationReserve: DECIMALS_18.mul(5),\n        minDebtAmount: DECIMALS_18.mul(50),\n        isDeprecated: false,\n      },\n    ],\n    deployments: require('../protocol/deployments/polygon.json'),\n    farmingConfigs: [\n      {\n        name: 'ARTH.usd+3pool',\n        platform: 'Curve',\n        depositTokenKind: 'lp',\n        contract: 'ARTHu3PoolBasicStaking',\n        depositToken: 'ARTHu3Pool',\n        depositTokenSymbols: ['ARTH.usd', '3CRV'],\n        rewardToken: ['MAHA'],\n        rewardTokenKind: 'single',\n        apiKey: 'arthu3pool',\n        addLiquidityLink: 'https://polygon.curve.fi/factory/182/deposit',\n        endDate: new Date(1652705070000)\n      },\n      {\n        name: 'ARTH/MAHA LP',\n        platform: 'QuickSwap',\n        depositTokenKind: 'lp',\n        contract: 'ARTHMAHABasicStaking',\n        depositToken: 'ARTHMAHALP',\n        depositTokenSymbols: ['ARTH', 'MAHA'],\n        rewardToken: ['MAHA'],\n        rewardTokenKind: 'single',\n        apiKey: 'arthMaha',\n        addLiquidityLink:\n          'https://quickswap.exchange/#/add/0xE52509181FEb30EB4979E29EC70D50FD5C44D590/0xeDd6cA8A4202d4a36611e2fff109648c4863ae19',\n        endDate: new Date(1652377566000)\n\n      },\n      {\n        name: 'ARTH/USDC LP',\n        platform: 'QuickSwap',\n        depositTokenKind: 'lp',\n        contract: 'ARTHUSDCBasicStaking',\n        depositToken: 'ARTHUSDCLP',\n        depositTokenSymbols: ['ARTH', 'USDC'],\n        rewardToken: ['MAHA'],\n        rewardTokenKind: 'single',\n        apiKey: 'arthUsdc',\n        addLiquidityLink:\n          'https://quickswap.exchange/#/add/0xE52509181FEb30EB4979E29EC70D50FD5C44D590/0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174',\n        endDate: new Date(1649767610000)\n      },\n    ],\n    strategiesStaticInfo: [\n      {\n        trove: 'USDCUSDT-QLP-S',\n        depositTokens: ['USDC'],\n        borrowTokens: ['USDT', 'USDC'],\n        displayName: 'USDC/USDT Quickswap Staking',\n        rewardToken: 'dQuick',\n        maxLeverage: 5,\n        maxNonStakersLeverage: 3,\n        platform: 'QuickSwap',\n        contract: 'USDCUSDT-QLP-S-Strategy',\n        minCollateralGMU: 50,\n        stakingPools: ['ARTH.usd+3pool'],\n        isDeprecated: false,\n      },\n    ],\n    tokeniseStaticInfo: [\n      {\n        depositToken: 'ARTH',\n        tokeniseToken: 'ARTH.usd',\n        platform: '',\n        rewardFee: 0,\n        link: 'https://arth.mahadao.com/#/loans/your-loans',\n        description: 'ARTH.usd is a positive rebase token backed by ARTH that is valued at 1$',\n        isTokeniseLP: false,\n      },\n      {\n        depositToken: 'USDCUSDT-QLP',\n        tokeniseToken: 'USDCUSDT-QLP-S',\n        platform: 'quickswap',\n        rewardFee: 0,\n        link: 'https://quickswap.exchange/#/add/0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174/0xc2132D05D31c914a87C6611C10748AEb04B58e8F',\n        description: 'The QuickSwap USDC/USDT Liquidity Mining program tokenized.',\n        isTokeniseLP: true,\n      },\n    ],\n    whitelistedUsers: ['0x0dd44846a3cc5b4D82DCD29D78d7291112608f0c'],\n  },\n};\n\nexport default configurations;\n","import { isProduction } from './analytics/Mixpanel';\nimport bsc from './config/bsc';\nimport bscTestnet from './config/bscTestnet';\nimport ethereum from './config/ethereum';\nimport polygon from './config/polygon';\nimport polygonMumbai from './config/polygonMumbai';\nimport { Configuration } from './protocol/config';\n\nconst configurations: { [env: string]: Configuration } = {\n  ...ethereum,\n  ...bsc,\n  // ...bscTestnet,\n  // ...polygonMumbai,\n  ...polygon,\n};\n\nif (process.env.REACT_APP_ALPHA === 'true') {\n  delete configurations[97];\n  delete configurations[137];\n  delete configurations[56];\n}\n\nif (isProduction) {\n  delete configurations[97];\n  delete configurations[80001];\n}\n\nexport default configurations;\n\nexport const getSupportedChains = (): number[] =>\n  Object.keys(configurations).map((i) => Number(i));\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const updateChainId = createAction<{ chainId: number }>('app/updateChainId');\n\nexport const updateAvailableChains = createAction<{ chains: Array<number> }>(\n  'app/updateAvailableChains',\n);\n","import { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { getSupportedChains } from '../../config';\nimport { AppDispatch, AppState } from '../index';\n\nimport { updateAvailableChains, updateChainId } from './actions';\n\n/**\n * Returns the active chainId\n */\nexport function useGetActiveChainId(): number {\n  const updateId = useGetUpdateActiveChainId();\n  const updateIds = useUpdateAvailableChains();\n  const id = useSelector((state: AppState) => {\n    return state.chains.active;\n  });\n  const avaiableIds = getSupportedChains();\n  if (avaiableIds.includes(id)) {\n    return id;\n  } else {\n    const changedId = avaiableIds[0];\n    updateIds(avaiableIds);\n    updateId(changedId);\n    return changedId;\n  }\n}\n\n/**\n * Used to update the active chainId\n * @param chainId to update the active chainId\n */\nexport function useGetUpdateActiveChainId(): (chainId: number) => void {\n  const chains = getSupportedChains();\n  const dispatch = useDispatch<AppDispatch>();\n\n  return useCallback(\n    (chainId: number) => {\n      if (chains.includes(chainId)) {\n        dispatch(\n          updateChainId({\n            chainId: chainId,\n          }),\n        );\n      } else {\n        console.log(`chainId: ${chainId} is not supported on this app`);\n      }\n    },\n    [chains, dispatch],\n  );\n}\n\n/**\n * Used to update the avaiable Chains\n */\nexport function useGetAvaiableChains(): Array<number> {\n  return useSelector((state: AppState) => {\n    return state.chains.availableNetworks;\n  });\n}\n\n/**\n * Used to add the new chain to the available chains array\n * @param chainId to add it to available chains array\n */\nexport function useAddAvaiableChains(): (chainId: number) => void {\n  const dispatch = useDispatch<AppDispatch>();\n\n  const chains = useSelector((state: AppState) => {\n    return state.chains.availableNetworks;\n  });\n\n  return useCallback(\n    (chainId: number) => {\n      if (chains.includes(chainId)) {\n        console.log(`Trying to add the already present chainId ${chainId}`);\n        return;\n      } else {\n        const updatingChains = chains;\n        updatingChains.push(chainId);\n        dispatch(\n          updateAvailableChains({\n            chains: updatingChains,\n          }),\n        );\n      }\n    },\n    [chains, dispatch],\n  );\n}\n\nexport function useUpdateAvailableChains(): (chainId: number[]) => void {\n  const dispatch = useDispatch<AppDispatch>();\n\n  return useCallback(\n    (chainId: number[]) => {\n      dispatch(\n        updateAvailableChains({\n          chains: chainId,\n        }),\n      );\n    },\n    [dispatch],\n  );\n}\n","export const dark = {\n  500: '#151414',\n  400: '#1F1E1E',\n  300: '#2A2827',\n  200: '#363130',\n  100: '#423B38',\n};\n\nexport const light = {\n  500: '#D9D5D3',\n  400: '#E2DFDF',\n  300: '#EBEAEA',\n  200: '#F5F5F5',\n  100: '#FAFAFA',\n};\n\nexport const primary = {\n  500: '#D74D26',\n  400: '#F7653B',\n  300: '#FF7F57',\n  200: '#FFA981',\n  100: '#FEE2D5',\n};\n\nexport const red = {\n  500: '#BA1E38',\n  400: '#EF3050',\n  300: '#FA4C69',\n  200: '#FF9EAE',\n  100: '#FFDCE2',\n};\n\nexport const green = {\n  500: '#178A50',\n  400: '#11AF60',\n  300: '#20C974',\n  200: '#88E0B4',\n  100: '#C4F7DD',\n};\n\nexport const yellow = {\n  500: '#B87503',\n  400: '#F09700',\n  300: '#FCB400',\n  200: '#FFD66E',\n  100: '#FFEAB6',\n};\n\nexport const purple = {\n  500: '#5427AE',\n  400: '#682AE5',\n  300: '#7A3CF6',\n  200: '#BD9CFF',\n  100: '#DFCFFF',\n};\n\nexport const transparent = {\n  500: '#FFFFFF08',\n  400: '#FFFFFF16',\n  300: '#FFFFFF32',\n  200: '#FFFFFF64',\n  100: '#FFFFFF88',\n};\n\nexport const transparentog = 'transparent';\n\nexport const pink = {\n  200: '#F47F57',\n  300: '#FF7F57',\n  400: '#FD5656',\n};\n\nexport const grey = {\n  100: '#f5f5f5',\n  200: '#eeeeee',\n  300: '#e0e0e0',\n  400: '#bdbdbd',\n  500: '#9e9e9e',\n  600: '#757575',\n  700: '#616161',\n  800: '#424242',\n  900: '#212121',\n};\n\nexport const gradients = {\n  brown_gradient: 'linear-gradient(180deg, #48423E 0%, #373030 100%)',\n  orange_gradient: 'linear-gradient(38.44deg, #F47F57 15.81%, #FD5656 87.57%)',\n  gray_linear: 'linear-gradient(180deg, #2A2827 0%, rgba(42, 40, 39, 0) 100%)',\n  dark_linear: 'linear-gradient(180deg, #2D2D2D 0%, #1C1C1C 100%)',\n};\n\nexport const black = '#000000';\n\nexport const white = '#FFFFFF';\n\nexport const teal = {\n  200: '#64ffda',\n};\n","import {\n  black,\n  dark,\n  gradients,\n  green,\n  grey,\n  light,\n  pink,\n  primary,\n  purple,\n  red,\n  teal,\n  transparent,\n  transparentog,\n  white,\n  yellow,\n} from './colors';\n\nconst theme = {\n  borderRadius: 12,\n  color: {\n    black,\n    grey,\n    dark,\n    pink,\n    purple,\n    primary,\n    red,\n    green,\n    secondary: {\n      main: teal[200],\n    },\n    light,\n    white,\n    teal,\n    transparent,\n    transparentog,\n    gradients,\n    yellow,\n  },\n  siteWidth: 1200,\n  spacing: {\n    1: 4,\n    2: 8,\n    3: 16,\n    4: 24,\n    5: 32,\n    6: 48,\n    7: 64,\n  },\n  topBarSize: 72,\n};\n\nexport default theme;\n","import React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport Loader from 'react-spinners/PulseLoader';\nimport styled from 'styled-components';\n\nimport { Mixpanel } from '../../../analytics/Mixpanel';\nimport config from '../../../config';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport fileTheme from '../../index';\n\nexport interface tracking_params {\n  position?: string;\n  collateral?: string;\n  action?: 'initial' | 'confirm' | 'cancel';\n  amount?: number;\n  other?: object;\n}\n\nexport interface ButtonProps {\n  children?: React.ReactNode;\n  disabled?: boolean;\n  href?: string;\n  onClick?: () => void;\n  size?: 'sm' | 'md' | 'lg';\n  text?: string;\n  to?: string;\n  theme?: 'default' | 'secondary' | 'tertiary';\n  variant?: 'default' | 'transparent' | 'outlined' | 'rounded';\n  loading?: boolean;\n  tracking_id?: string;\n  tracking_params?: tracking_params;\n  value?: object;\n}\n\nfunction variantToStyle(variant: string = 'default', color: any) {\n  if (variant === 'transparent') {\n    return {\n      fg: {\n        normal: color.white,\n      },\n      bg: {\n        normal: color.transparentog,\n        hover: color.dark[100],\n        selected: color.dark[300],\n      },\n      border: {\n        normal: `1px solid ${color.transparent[300]}`,\n        hover: `1px solid ${color.dark[100]}`,\n        radius: '6px',\n        radiusHover: '6px',\n      },\n    };\n  } else if (variant === 'outlined') {\n    return {\n      fg: { normal: color.transparent[100], hover: color.transparent[100] },\n      bg: {\n        normal: color.transparentog,\n        hover: color.transparentog,\n        disabled: color.transparentog,\n      },\n      border: {\n        normal: `1px solid ${color.transparent[300]}`,\n        hover: `1px solid ${color.transparent[200]}`,\n      },\n    };\n  } else if (variant === 'rounded') {\n    return {\n      fg: { normal: color.primary[300] },\n      bg: { normal: color.transparent[100], disabled: color.transparentog },\n      border: { radius: '19px', radiusHover: '19px' },\n    };\n  } else {\n    return {\n      fg: {},\n      bg: {},\n      border: {},\n    };\n  }\n}\n\nconst Button: React.FC<ButtonProps> = ({\n  children,\n  disabled,\n  href,\n  onClick,\n  size,\n  text,\n  to,\n  theme,\n  variant,\n  loading = false,\n  tracking_id = '',\n  tracking_params = {},\n}) => {\n  const { color, spacing } = fileTheme;\n  const chainId = useGetActiveChainId();\n\n  const variantStyle = variantToStyle(variant, color);\n  let fg = {\n    normal: theme === 'secondary' ? color.teal[200] : color.white,\n    hover: color.white,\n    selected: theme === 'secondary' ? color.teal[200] : color.white,\n    disabled: '',\n    ...variantStyle.fg,\n  };\n  let bg = {\n    normal: `linear-gradient(38.44deg, ${color.pink[200]} 15.81%, ${color.pink[400]} 87.57%)`,\n    hover: color.pink[300],\n    selected: `linear-gradient(180deg, ${color.pink[200]} -11.33%, ${color.pink[400]} 100%)`,\n    disabled: color.transparent[300],\n    ...variantStyle.bg,\n  };\n  let border = {\n    normal: '0',\n    hover: '0',\n    radius: '6px',\n    radiusHover: variantStyle.border.radiusHover || '6px',\n    ...variantStyle.border,\n  };\n\n  let boxShadow: string;\n  let buttonSize: number;\n  let buttonPadding: number;\n  let fontSize: number;\n  switch (size) {\n    case 'sm':\n      buttonPadding = spacing[3];\n      buttonSize = 36;\n      fontSize = 14;\n      break;\n    case 'lg':\n      buttonPadding = spacing[4];\n      buttonSize = 44;\n      fontSize = 14;\n      break;\n    case 'md':\n      buttonPadding = spacing[4];\n      buttonSize = 34;\n      fontSize = 14;\n      break;\n    default:\n      buttonPadding = spacing[4];\n      buttonSize = 44;\n      fontSize = 14;\n  }\n\n  const ButtonChild = useMemo(() => {\n    if (to) {\n      return <StyledLink to={to}>{text}</StyledLink>;\n    } else if (href) {\n      return (\n        <StyledExternalLink href={href} target=\"__blank\">\n          {text}\n        </StyledExternalLink>\n      );\n    } else {\n      return text;\n    }\n  }, [href, text, to]);\n\n  return (\n    <StyledButton\n      boxShadow={'0'}\n      fg={fg}\n      bg={bg}\n      border={border}\n      disabled={disabled || loading}\n      fontSize={fontSize}\n      onClick={() => {\n        const params = {\n          networkName: config[chainId]?.networkDisplayName || '',\n          ...tracking_params,\n        };\n        if (tracking_id) {\n          Mixpanel.track(`buttonClick:${tracking_id.toLowerCase()}`, params);\n        }\n        if (onClick) onClick();\n      }}\n      padding={buttonPadding}\n      size={buttonSize}\n      id={tracking_id}\n    >\n      {!loading && children}\n      {!loading && ButtonChild}\n      <Loader color={'#ffffff'} loading={loading} size={10} margin={2} />\n    </StyledButton>\n  );\n};\n\ninterface StyledButtonProps {\n  fg: { normal: string; hover: string; selected: string; disabled: string };\n  bg: { normal: string; hover: string; selected: string; disabled: string };\n  border: { normal: string; hover: string; radius: string; radiusHover: string };\n  boxShadow: string;\n  disabled?: boolean;\n  fontSize: number;\n  padding: number;\n  size: number;\n}\n\nconst StyledButton = styled.button<StyledButtonProps>`\n  position: relative;\n  color: ${({ fg }) => fg.normal};\n  background: ${({ bg }) => bg.normal};\n  border: ${({ border }) => border.normal};\n  border-radius: ${({ border }) => border.radius};\n  box-shadow: ${(props) => props.boxShadow};\n  pointer-events: ${(props) => (!props.disabled ? undefined : 'none')};\n\n  align-items: center;\n  text-align: center;\n  white-space: nowrap;\n  cursor: pointer;\n  display: flex;\n  font-size: 14px;\n  font-weight: 600;\n  height: ${({ size }) => size}px;\n  justify-content: center;\n  outline: none !important;\n  padding: 10px 22px;\n  width: 100%;\n\n  &:hover {\n    color: ${({ fg }) => fg.hover};\n    background: ${({ bg }) => bg.hover};\n    border: ${({ border }) => border.hover};\n    border-radius: ${({ border }) => border.radiusHover};\n  }\n  &:focus {\n    color: ${({ fg }) => fg.selected};\n    background: ${({ bg }) => bg.selected};\n  }\n  /*&:focus: {\n    outline: none;\n  }*/\n  &:disabled {\n    color: ${({ fg }) => fg.disabled};\n    background: ${({ bg }) => bg.disabled};\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n`;\n\nconst StyledLink = styled(Link)`\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 38px;\n  justify-content: center;\n  margin: 0 ${(props) => -props.theme.spacing[4]}px;\n  padding: 0 ${(props) => props.theme.spacing[4]}px;\n  text-decoration: none;\n  position: absolute;\n  width: inherit;\n`;\n\nconst StyledExternalLink = styled.a`\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 38px;\n  justify-content: center;\n  margin: 0 ${(props) => -props.theme.spacing[4]}px;\n  padding: 0 ${(props) => props.theme.spacing[4]}px;\n  text-decoration: none;\n  position: absolute;\n  width: inherit;\n`;\n\nexport default Button;\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport interface TextWrapperProps {\n  fontFamily?: 'Inter' | 'Syne';\n  fontStyle?: string;\n  fontWeight?: 'bold' | 300 | 600;\n  fontSize?: 32 | 24 | 18 | 16 | 14 | 12;\n  FletterSpacing?: string;\n  Fcolor?: string;\n  text: string | JSX.Element;\n  align?: 'left' | 'center' | 'right';\n  className?: string;\n}\n\nconst TextWrapper = (props: TextWrapperProps) => {\n  const {\n    fontFamily = 'Inter',\n    fontStyle = 'normal',\n    fontWeight = 300,\n    fontSize = 14,\n    FletterSpacing = 'normal',\n    Fcolor = '#FFFFFF',\n    text = '',\n    className = '',\n    align = 'left',\n  } = props;\n\n  if (typeof text === \"string\") {\n    return (\n      <StyledText\n        fontFamily={fontFamily}\n        fontSize={fontSize}\n        fontWeight={fontWeight}\n        fontStyle={fontStyle}\n        letterSpacing={FletterSpacing}\n        fcolor={Fcolor}\n        style={{ color: Fcolor }}\n        className={className}\n        align={align}\n      >\n        {text}\n      </StyledText>\n    );\n  } else {\n    return (\n      <StyledDiv\n        fontFamily={fontFamily}\n        fontSize={fontSize}\n        fontWeight={fontWeight}\n        fontStyle={fontStyle}\n        letterSpacing={FletterSpacing}\n        fcolor={Fcolor}\n        style={{ color: Fcolor }}\n        className={className}\n        align={align}\n      >\n        {text}\n      </StyledDiv>\n    )\n  }\n};\n\nexport default TextWrapper;\n\ninterface StyledTextProps {\n  fontFamily: 'Inter' | 'Syne';\n  fontStyle: string;\n  fontWeight: 'bold' | 300 | 600;\n  fontSize: 32 | 24 | 18 | 16 | 14 | 12;\n  letterSpacing: string;\n  align: 'left' | 'center' | 'right';\n  fcolor: string;\n}\n\nconst StyledText = styled.p<StyledTextProps>`\n  font-family: ${(props) => props.fontFamily};\n  font-style: ${(props) => props.fontStyle};\n  font-weight: ${(props) => props.fontWeight};\n  font-size: ${(props) => props.fontSize}px;\n  letter-spacing: ${(props) => props.letterSpacing};\n  text-align: ${(props) => props.align};\n`;\n\nconst StyledDiv = styled.div<StyledTextProps>`\n  font-family: ${(props) => props.fontFamily};\n  font-style: ${(props) => props.fontStyle};\n  font-weight: ${(props) => props.fontWeight};\n  font-size: ${(props) => props.fontSize}px;\n  letter-spacing: ${(props) => props.letterSpacing};\n  text-align: ${(props) => props.align};\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport ComingSoonImg from '../../../assets/images/ComingSoon.svg';\nimport theme from '../../index';\nimport Button from '../Button';\nimport TextWrapper from '../TextWrapper';\n\nconst NoPageFound = () => {\n  return (\n    <MainPageContainer>\n      <MainContainer className=\"single-line-center-center\">\n        <div className=\"text-center\">\n          <img src={ComingSoonImg} alt={'ComingSoon'} className=\"m-b-24\" />\n          <TextWrapper\n            text={'Oops!'}\n            fontWeight={'bold'}\n            fontSize={32}\n            fontFamily={'Syne'}\n            className=\"m-b-4\"\n            align={'center'}\n          />\n          <TextWrapper\n            text={\n              'The page you are looking for was move, removed, renamed or might never existed.'\n            }\n            fontWeight={300}\n            Fcolor={theme.color.transparent[100]}\n            className=\"m-b-32\"\n            align={'center'}\n          />\n          <ButtonContainer>\n            <Button to={'/loans/all-loans'}>Home</Button>\n          </ButtonContainer>\n        </div>\n      </MainContainer>\n    </MainPageContainer>\n  );\n};\n\nexport default NoPageFound;\n\nconst MainPageContainer = styled.div`\n  width: 100vw;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  margin-top: 112px;\n  min-height: calc(100vh - 112px);\n  padding: 0 60px 80px;\n  @media (max-width: 600px) {\n    padding: 0;\n  }\n`;\nconst ButtonContainer = styled.div`\n  max-width: 150px;\n  margin: auto;\n`;\n\nconst MainContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  padding: 0 20px;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Mixpanel } from '../../analytics/Mixpanel';\nimport config from '../../config';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport theme from '../../theme';\nimport TextWrapper from '../../theme/components/TextWrapper';\n\nconst Footer = () => {\n  const chainId = useGetActiveChainId();\n\n  const trackButtons = (value: string) => {\n    Mixpanel.track(`buttonClick:footer_${value}`, {\n      networkName: config[chainId]?.networkDisplayName || '',\n    });\n  };\n\n  return (\n    <FooterContainer className=\"single-line-center-center\">\n      <div\n        onClick={() => {\n          trackButtons('website');\n          window.open('https://mahadao.com');\n        }}\n        className=\"p-l-8 p-r-8\"\n      >\n        <TextWrapper\n          text={'Website'}\n          className=\"pointer\"\n          Fcolor={theme.color.transparent[100]}\n        />\n      </div>\n      <div\n        onClick={() => {\n          trackButtons('twitter');\n          window.open('https://twitter.com/TheMahaDAO');\n        }}\n        className=\"p-l-8 p-r-8\"\n      >\n        <TextWrapper\n          text={'Twitter'}\n          className=\"pointer\"\n          Fcolor={theme.color.transparent[100]}\n        />\n      </div>\n      <div\n        onClick={() => {\n          trackButtons('github');\n          window.open('https://github.com/mahadao');\n        }}\n        className=\"p-l-8 p-r-8\"\n      >\n        <TextWrapper\n          text={'Github'}\n          className=\"pointer\"\n          Fcolor={theme.color.transparent[100]}\n        />\n      </div>\n      <div\n        onClick={() => {\n          trackButtons('discord');\n          window.open('https://discord.com/invite/mahadao');\n        }}\n        className=\"p-l-8 p-r-8\"\n      >\n        <TextWrapper\n          text={'Discord'}\n          className=\"pointer\"\n          Fcolor={theme.color.transparent[100]}\n        />\n      </div>\n      <div\n        onClick={() => {\n          trackButtons('buyMaha');\n          window.open(\n            'https://app.uniswap.org/#/swap?outputCurrency=0xb4d930279552397bba2ee473229f89ec245bc365',\n          );\n        }}\n        className=\"p-l-8 p-r-8\"\n      >\n        <TextWrapper\n          text={'Buy MAHA'}\n          className=\"pointer\"\n          Fcolor={theme.color.transparent[100]}\n        />\n      </div>\n    </FooterContainer>\n  );\n};\n\nexport default Footer;\n\nconst FooterContainer = styled.div`\n  position: absolute;\n  padding: 0 16px;\n  bottom: 24px;\n  flex-wrap: wrap;\n`;\n","import React, { useState } from 'react';\n\nimport DefaultIcon from '../../../assets/icons/misc/Default.svg';\n\nexport interface IconLoaderProps {\n  iconName:\n    | 'QuickSwap'\n    | 'PancakeSwap'\n    | 'ArrowUp'\n    | 'ArrowDown'\n    | 'ArrowLeft'\n    | 'ArrowRight'\n    | 'ArrowLink'\n    | 'ArrowFilledUp'\n    | 'ArrowTailUp'\n    | 'ArrowTailDown'\n    | 'ArrowTailLeft'\n    | 'ArrowTailRight'\n    | 'ARTHlg'\n    | 'Mahalg'\n    | 'Checked'\n    | 'Empty'\n    | 'GreenCheck'\n    | 'CreameFinance'\n    | 'PickleFinance'\n    | 'Sushiswap'\n    | 'Uniswap'\n    | 'Yfi'\n    | 'CosmicFinance'\n    | 'Cryption'\n    | 'Dfyn'\n    | 'Firbird'\n    | 'Polydex'\n    | 'YearnFinance'\n    | 'Info'\n    | 'Error'\n    | 'Warning'\n    | 'Discord'\n    | 'Facebook'\n    | 'Forum'\n    | 'Github'\n    | 'Instagram'\n    | 'Medium'\n    | 'Reddit'\n    | 'Telegram'\n    | 'Twitter'\n    | 'Alert'\n    | 'Pending'\n    | 'Success'\n    | 'Caution'\n    | 'ARTH.usd'\n    | 'ARTH'\n    | 'ARTHX'\n    | 'MAHA'\n    | 'superMAHA'\n    | 'CNT'\n    | 'COSMIC'\n    | 'DFYN'\n    | 'ETH'\n    | 'HOPE'\n    | 'POLYGON'\n    | 'USDC'\n    | 'WBTC'\n    | 'WETH'\n    | 'DAI'\n    | 'Sync'\n    | 'InfoToolTip'\n    | 'Cross'\n    | 'Calendar'\n    | 'Menu'\n    | 'Transaction'\n    | 'Wallet'\n    | 'Copy'\n    | 'Copied'\n    | 'Search'\n    | 'Polygon'\n    | 'Bsc'\n    | 'Gov'\n    | 'Starter'\n    | 'Add'\n    | 'Delete'\n    | 'DeleteFaded'\n    | 'Settings'\n    | 'Default'\n    | 'BentoMenu'\n    | string;\n  iconType?:\n    | 'arrow'\n    | 'infoTip'\n    | 'exchangePlatform'\n    | 'products'\n    | 'socialMedia'\n    | 'status'\n    | 'tokenSymbol'\n    | 'misc'\n    | 'brandLogo'\n    | 'checkbox'\n    | 'chains';\n  height?: number | 'auto';\n  width?: number | 'auto';\n  className?: string;\n  onClick?: () => void;\n}\n\nconst IconLoader = (props: IconLoaderProps) => {\n  const {\n    iconName,\n    iconType = 'misc',\n    height = 'auto',\n    width = 'auto',\n    className = '',\n    onClick,\n  } = props;\n\n  const [Icon, setIcon] = useState<string>(DefaultIcon);\n\n  import(`../../../assets/icons/${iconType}/${iconName}.svg`)\n    .then((image) => {\n      setIcon(image.default);\n    })\n    .catch((err) => {\n      setIcon(DefaultIcon);\n      console.log('IconLoader catch error', err);\n    });\n\n  return (\n    <img\n      src={Icon}\n      alt={iconName}\n      width={width}\n      height={height}\n      className={className}\n      onClick={() => {\n        if (onClick) onClick();\n      }}\n    />\n  );\n};\n\nexport default IconLoader;\n","import React, { useState } from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport styled from 'styled-components';\n\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport IconLoader from '../../theme/components/IconLoader';\n\nconst Sidebar = () => {\n  const activeChainId = useGetActiveChainId();\n  const { pathname } = useLocation();\n  const [openExpandable, setOpenExpandable] = useState<boolean>(false);\n\n  return (\n    <SidebarDiv>\n      <SidebarConatiner id={'sidebar_container'}>\n        <TopSideBar>\n          {/*<StyledLink exact activeClassName=\"activeSidebar\" to=\"/\">\n            Analytics\n          </StyledLink>*/}\n          <StyledLink\n            activeClassName=\"activeSidebar\"\n            to=\"/strategies/all-strategies\"\n            isActive={() =>\n              pathname.includes(\"strategies\")\n            }\n          >\n            Strategies\n          </StyledLink>\n          <StyledLink exact activeClassName=\"activeSidebar\" to=\"/farming\">\n            Farming\n          </StyledLink>\n          <ExpandableMenu onClick={() => setOpenExpandable(!openExpandable)}>\n            <div className={'single-line-center-between'}>\n              <span>Loans</span>\n              <IconLoader iconName={openExpandable ? 'ArrowUp' : 'ArrowDown'} iconType={'arrow'} />\n            </div>\n          </ExpandableMenu>\n          <ExpandedSection visible={openExpandable}>\n            <StyledLink exact activeClassName=\"activeSidebar\" to=\"/loan/add\">\n              Open New Loan\n            </StyledLink>\n            <StyledLink\n              activeClassName=\"activeSidebar\"\n              to=\"/loans/all-loans\">\n              Overview\n            </StyledLink>\n            <StyledLink exact activeClassName=\"activeSidebar\" to=\"/stability-pool\">\n              Stability Pool\n            </StyledLink>\n            <StyledLink exact activeClassName=\"activeSidebar\" to=\"/redeem\">\n              Redeem\n            </StyledLink>\n            <StyledLink exact activeClassName=\"activeSidebar\" to=\"/tokenization\">\n              Tokenize\n            </StyledLink>\n          </ExpandedSection>\n          <StyledLink exact activeClassName=\"activeSidebar\" to=\"/trade\">\n            Trade\n          </StyledLink>\n          <StyledLink\n            activeClassName=\"activeSidebar\"\n            to=\"/pools\"\n            isActive={() =>\n              pathname.includes(\"pools\")\n            }>\n            Pools\n          </StyledLink>\n          {/* <StyledLink\n            activeClassName=\"activeSidebar\"\n            to=\"/migration\"\n            isActive={() =>\n              pathname.includes('migration')\n            }>\n            Migration\n          </StyledLink> */}\n          {/* <StyledLinkHref href={config[activeChainId].tradingLink} target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Trade</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref> */}\n          <StyledLinkHref href={'https://defillama.com/protocol/mahadao'} target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Analytics</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref>\n          {(activeChainId === 97 || activeChainId === 80001) && (\n            <StyledLink exact activeClassName=\"activeSidebar\" to=\"/faucet\">\n              Faucet\n            </StyledLink>\n          )}\n        </TopSideBar>\n        <BottomSideBar>\n          <StyledLinkHref href=\"https://docs.arthcoin.com/\" target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Documentation</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref>\n          <StyledLinkHref href=\"https://www.youtube.com/watch?v=8lFdzDkRXhw&list=PL2bcCoQ5RXeGh-Gkh1QZE_SjevMIDdtgN&index=9\" target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Video Tutorials</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref>\n          <StyledLinkHref href=\"https://forms.gle/XNWxUs5AKgbZeED26\" target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Report a Bug</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref>\n        </BottomSideBar>\n      </SidebarConatiner>\n    </SidebarDiv>\n  );\n};\n\nexport default Sidebar;\n\nconst SidebarDiv = styled.div`\n  min-width: 200px;\n  max-width: 200px;\n  min-height: 100vh;\n  max-height: 100vh;\n  @media (max-width: 800px) {\n    display: none;\n  }\n`;\n\nconst SidebarConatiner = styled.div`\n  width: 200px;\n  background: #1f1e1e;\n  border-radius: 6px;\n  border: 1px solid;\n  border-image-source: linear-gradient(\n    180deg,\n    rgba(255, 255, 255, 0.1) 0%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  position: fixed;\n  top: 0;\n  padding: 16px;\n  margin-top: calc(112px);\n  min-height: calc(100vh - 144px);\n\n  @media (max-width: 600px) {\n    margin-top: calc(112px);\n    min-height: calc(100vh - 144px);\n  }\n`;\n\nconst StyledLink = styled(NavLink)`\n  padding: 8px 16px;\n  width: 100%;\n  border-radius: 2px;\n  display: block;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff88;\n  margin-bottom: 8px;\n  &:hover {\n    outline: 1px solid rgba(255, 255, 255, 0.08);\n    color: #ffffff88;\n    opacity: 1;\n  }\n  &:active {\n    background: rgba(255, 255, 255, 0.01);\n    border-radius: 2px;\n    width: 100%;\n    color: #ffffff88;\n    opacity: 1;\n  }\n`;\n\nconst StyledLinkHref = styled.a`\n  padding: 8px 16px;\n  width: 100%;\n  border-radius: 2px;\n  display: block;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff88;\n  margin-bottom: 8px;\n  &:hover {\n    outline: 1px solid rgba(255, 255, 255, 0.08);\n    color: #ffffff88;\n    opacity: 1;\n  }\n  &:active {\n    background: rgba(255, 255, 255, 0.01);\n    border-radius: 2px;\n    width: 100%;\n    color: #ffffff88;\n    opacity: 1;\n  }\n`;\n\nconst ExpandableMenu = styled.div`\n  padding: 8px 16px;\n  width: 100%;\n  border-radius: 2px;\n  display: block;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff88;\n  margin-bottom: 8px;\n  cursor: pointer;\n  &:hover {\n    outline: 1px solid rgba(255, 255, 255, 0.08);\n    color: #ffffff88;\n    opacity: 1;\n  }\n  &:active {\n    background: rgba(255, 255, 255, 0.01);\n    border-radius: 2px;\n    width: 100%;\n    color: #ffffff88;\n    opacity: 1;\n  }\n`\n\nconst ExpandedSection = styled.div<{ visible: boolean }>`\n  padding: 12px;\n  border-radius: 4px;\n  background: rgba(255, 255, 255, 0.02);\n  height: ${(props) => props.visible ? 'auto' : '0px'};\n  display: ${(props) => props.visible ? 'block' : 'none'};\n  transition: 0.5s ease-in-out;\n`\n\nconst TopSideBar = styled.div`\n  padding-bottom: 177px;\n`;\n\nconst BottomSideBar = styled.div`\n  position: absolute;\n  bottom: 0;\n  padding: 16px 0;\n  width: calc(100% - 32px);\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Footer from '../../../components/Footer';\nimport Sidebar from '../../../components/Sidebar';\n\ninterface IProps {\n  children: any;\n}\n\nexport default ({ children }: IProps) => {\n  return (\n    <MainPageContainer>\n      <Sidebar />\n      <StyledPage>\n        <StyledMain id={'main_page'}>\n          {children}\n          <Footer />\n        </StyledMain>\n      </StyledPage>\n    </MainPageContainer>\n  );\n};\n\nconst StyledPage = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n`;\n\nconst StyledMain = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  min-height: calc(100vh - 112px);\n  padding-bottom: 80px;\n  padding-top: calc(112px);\n\n  @media (max-width: 600px) {\n    padding-top: calc(112px);\n  }\n`;\n\nconst MainPageContainer = styled.div`\n  padding: 0 60px;\n  width: 100vw;\n  display: flex;\n  @media (max-width: 600px) {\n    padding: 0;\n  }\n`;\n","import { createAction } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nexport type BalanceOfType = { bal: BigNumber; who: string; token: string };\nexport const updateBalanceOf = createAction<BalanceOfType>('token/updateBalanceOf');\n\nexport type ApprovalOfType = { bal: BigNumber; from: string; to: string };\nexport const updateApprovalOf = createAction<ApprovalOfType>('token/updateApprovalOf');\n","import { Dispatch } from '@reduxjs/toolkit';\n\nimport config from '../../config';\nimport { IMulticallInput } from '../../protocol/Mulitcall';\nimport { Protocol } from '../../protocol/Protocol';\n\nimport * as Actions from './actions';\n\nexport const initUser = (core: Protocol, dispatch: Dispatch, chainId: number) => {\n  setTimeout(() => _initUser(core, dispatch, chainId), 100);\n};\n\nconst _initUser = (core: Protocol, dispatch: Dispatch, chainId: number) => {\n  for (const token of config[chainId].supportedTokens) {\n    core.multicall[chainId].on(`BALANCE_OF_${token}`, (bal) =>\n      dispatch(\n        Actions.updateBalanceOf({\n          bal,\n          who: core.myAccount,\n          token: core.tokens(token, chainId).address,\n        }),\n      ),\n    );\n  }\n\n  const addCallsArray: Array<IMulticallInput> = [];\n  for (const token of config[chainId].supportedTokens) {\n    addCallsArray.push({\n      key: `BALANCE_OF_${token}`,\n      target: core.tokens(token, chainId).address,\n      call: ['balanceOf(address)(uint256)', core.myAccount],\n      convertResult: (val) => val,\n    });\n  }\n\n  core.multicall[chainId].addCalls(addCallsArray);\n};\n","import { createAction } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nexport type DefaultBNType = { val: BigNumber; for: string; collateral: string };\nexport type DefaultBoolType = { val: boolean; for: string; collateral: string };\n\nexport const getPendingLUSDDebtReward = createAction<DefaultBNType>(\n  'trove/getPendingLUSDDebtReward',\n);\nexport const getPendingETHReward = createAction<DefaultBNType>('trove/getPendingETHReward');\nexport const hasPendingRewards = createAction<DefaultBoolType>('trove/hasPendingRewards');\n","import { Dispatch } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport { IMulticallInput } from '../../protocol/Mulitcall';\nimport { Protocol } from '../../protocol/Protocol';\n\nimport * as Actions from './actions';\n\nexport const initUser = (core: Protocol, dispatch: Dispatch, chainId: number) => {\n  const _registerVariable = (\n    fn: string[],\n    to: string,\n    reduxAction: any,\n    convertResult: any,\n  ) => {\n    const input: IMulticallInput = {\n      key: `TROVE:${fn}:${to}`,\n      target: to,\n      call: fn,\n      convertResult,\n    };\n\n    core.multicall[chainId].on(input.key, (val) => {\n      dispatch(reduxAction(val));\n    });\n\n    return input;\n  };\n\n  const registerTroveManagerCalls = () => {\n    const calls: IMulticallInput[] = [];\n    const collaterals = core.getAllTroves(chainId);\n    // const collaterals = core.getCollateralTypes(chainId);\n\n    const who = core.myAccount;\n\n    collaterals.forEach((collateral) => {\n      const tm = core.getTroveManager(collateral, chainId);\n\n      calls.push(\n        _registerVariable(\n          ['getPendingETHReward(address)(uint256)', who],\n          tm.address,\n          Actions.getPendingETHReward,\n          (val: BigNumber) => ({ val, who, collateral }),\n        ),\n        _registerVariable(\n          ['getPendingLUSDDebtReward(address)(uint256)', who],\n          tm.address,\n          Actions.getPendingLUSDDebtReward,\n          (val: BigNumber) => ({ val, who, collateral }),\n        ),\n        _registerVariable(\n          ['hasPendingRewards(address)(bool)', who],\n          tm.address,\n          Actions.hasPendingRewards,\n          (val: boolean) => ({ val, who, collateral }),\n        ),\n      );\n    });\n\n    return calls;\n  };\n\n  const calls = registerTroveManagerCalls();\n  core.multicall[chainId].addCalls(calls);\n};\n","import assert from 'assert';\n\nimport {\n  CRITICAL_COLLATERAL_RATIO,\n  LUSD_LIQUIDATION_RESERVE,\n  MINIMUM_BORROWING_RATE,\n  MINIMUM_COLLATERAL_RATIO,\n} from '../protocol/constants';\n\nimport { Decimal, Decimalish } from './Decimal';\n\n/** @internal */ export type _CollateralDeposit<T> = { depositCollateral: T };\n/** @internal */ export type _CollateralWithdrawal<T> = { withdrawCollateral: T };\n/** @internal */ export type _LUSDBorrowing<T> = { borrowLUSD: T };\n/** @internal */ export type _LUSDRepayment<T> = { repayLUSD: T };\n\n/** @internal */ export type _NoCollateralDeposit = Partial<_CollateralDeposit<undefined>>;\n/** @internal */ export type _NoCollateralWithdrawal = Partial<\n  _CollateralWithdrawal<undefined>\n>;\n/** @internal */ export type _NoLUSDBorrowing = Partial<_LUSDBorrowing<undefined>>;\n/** @internal */ export type _NoLUSDRepayment = Partial<_LUSDRepayment<undefined>>;\n\n/** @internal */\nexport type _CollateralChange<T> =\n  | (_CollateralDeposit<T> & _NoCollateralWithdrawal)\n  | (_CollateralWithdrawal<T> & _NoCollateralDeposit);\n\n/** @internal */\nexport type _NoCollateralChange = _NoCollateralDeposit & _NoCollateralWithdrawal;\n\n/** @internal */\nexport type _DebtChange<T> =\n  | (_LUSDBorrowing<T> & _NoLUSDRepayment)\n  | (_LUSDRepayment<T> & _NoLUSDBorrowing);\n\n/** @internal */\nexport type _NoDebtChange = _NoLUSDBorrowing & _NoLUSDRepayment;\n\n/**\n * Parameters of an {@link TransactableLiquity.openTrove | openTrove()} transaction.\n *\n * @remarks\n * The type parameter `T` specifies the allowed value type(s) of the particular `TroveCreationParams`\n * object's properties.\n *\n * <h2>Properties</h2>\n *\n * <table>\n *\n *   <tr>\n *     <th> Property </th>\n *     <th> Type </th>\n *     <th> Description </th>\n *   </tr>\n *\n *   <tr>\n *     <td> depositCollateral </td>\n *     <td> T </td>\n *     <td> The amount of collateral that's deposited. </td>\n *   </tr>\n *\n *   <tr>\n *     <td> borrowLUSD </td>\n *     <td> T </td>\n *     <td> The amount of LUSD that's borrowed. </td>\n *   </tr>\n *\n * </table>\n *\n * @public\n */\nexport type TroveCreationParams<T = unknown> = _CollateralDeposit<T> &\n  _NoCollateralWithdrawal &\n  _LUSDBorrowing<T> &\n  _NoLUSDRepayment;\n\n/**\n * Parameters of a {@link TransactableLiquity.closeTrove | closeTrove()} transaction.\n *\n * @remarks\n * The type parameter `T` specifies the allowed value type(s) of the particular `TroveClosureParams`\n * object's properties.\n *\n * <h2>Properties</h2>\n *\n * <table>\n *\n *   <tr>\n *     <th> Property </th>\n *     <th> Type </th>\n *     <th> Description </th>\n *   </tr>\n *\n *   <tr>\n *     <td> withdrawCollateral </td>\n *     <td> T </td>\n *     <td> The amount of collateral that's withdrawn. </td>\n *   </tr>\n *\n *   <tr>\n *     <td> repayLUSD? </td>\n *     <td> T </td>\n *     <td> <i>(Optional)</i> The amount of LUSD that's repaid. </td>\n *   </tr>\n *\n * </table>\n *\n * @public\n */\nexport type TroveClosureParams<T> = _CollateralWithdrawal<T> &\n  _NoCollateralDeposit &\n  Partial<_LUSDRepayment<T>> &\n  _NoLUSDBorrowing;\n\n/**\n * Parameters of an {@link TransactableLiquity.adjustTrove | adjustTrove()} transaction.\n *\n * @remarks\n * The type parameter `T` specifies the allowed value type(s) of the particular\n * `TroveAdjustmentParams` object's properties.\n *\n * Even though all properties are optional, a valid `TroveAdjustmentParams` object must define at\n * least one.\n *\n * Defining both `depositCollateral` and `withdrawCollateral`, or both `borrowLUSD` and `repayLUSD`\n * at the same time is disallowed, and will result in a type-checking error.\n *\n * <h2>Properties</h2>\n *\n * <table>\n *\n *   <tr>\n *     <th> Property </th>\n *     <th> Type </th>\n *     <th> Description </th>\n *   </tr>\n *\n *   <tr>\n *     <td> depositCollateral? </td>\n *     <td> T </td>\n *     <td> <i>(Optional)</i> The amount of collateral that's deposited. </td>\n *   </tr>\n *\n *   <tr>\n *     <td> withdrawCollateral? </td>\n *     <td> T </td>\n *     <td> <i>(Optional)</i> The amount of collateral that's withdrawn. </td>\n *   </tr>\n *\n *   <tr>\n *     <td> borrowLUSD? </td>\n *     <td> T </td>\n *     <td> <i>(Optional)</i> The amount of LUSD that's borrowed. </td>\n *   </tr>\n *\n *   <tr>\n *     <td> repayLUSD? </td>\n *     <td> T </td>\n *     <td> <i>(Optional)</i> The amount of LUSD that's repaid. </td>\n *   </tr>\n *\n * </table>\n *\n * @public\n */\nexport type TroveAdjustmentParams<T = unknown> =\n  | (_CollateralChange<T> & _NoDebtChange)\n  | (_DebtChange<T> & _NoCollateralChange)\n  | (_CollateralChange<T> & _DebtChange<T>);\n\n/**\n * Describes why a Trove could not be created.\n *\n * @remarks\n * See {@link TroveChange}.\n *\n * <h2>Possible values</h2>\n *\n * <table>\n *\n *   <tr>\n *     <th> Value </th>\n *     <th> Reason </th>\n *   </tr>\n *\n *   <tr>\n *     <td> \"missingLiquidationReserve\" </td>\n *     <td> A Trove's debt cannot be less than the liquidation reserve. </td>\n *   </tr>\n *\n * </table>\n *\n * More errors may be added in the future.\n *\n * @public\n */\nexport type TroveCreationError = 'missingLiquidationReserve';\n\n/**\n * Represents the change between two Trove states.\n *\n * @remarks\n * Returned by {@link Trove.whatChanged}.\n *\n * Passed as a parameter to {@link Trove.apply}.\n *\n * @public\n */\nexport type TroveChange<T> =\n  | { type: 'invalidCreation'; invalidTrove: Trove; error: TroveCreationError }\n  | { type: 'creation'; params: TroveCreationParams<T> }\n  | { type: 'closure'; params: TroveClosureParams<T> }\n  | { type: 'adjustment'; params: TroveAdjustmentParams<T>; setToZero?: 'collateral' | 'debt' };\n\n// This might seem backwards, but this way we avoid spamming the .d.ts and generated docs\ntype InvalidTroveCreation = Extract<TroveChange<never>, { type: 'invalidCreation' }>;\ntype TroveCreation<T> = Extract<TroveChange<T>, { type: 'creation' }>;\ntype TroveClosure<T> = Extract<TroveChange<T>, { type: 'closure' }>;\ntype TroveAdjustment<T> = Extract<TroveChange<T>, { type: 'adjustment' }>;\n\nconst invalidTroveCreation = (\n  invalidTrove: Trove,\n  error: TroveCreationError,\n): InvalidTroveCreation => ({\n  type: 'invalidCreation',\n  invalidTrove,\n  error,\n});\n\nconst troveCreation = <T>(params: TroveCreationParams<T>): TroveCreation<T> => ({\n  type: 'creation',\n  params,\n});\n\nconst troveClosure = <T>(params: TroveClosureParams<T>): TroveClosure<T> => ({\n  type: 'closure',\n  params,\n});\n\nconst troveAdjustment = <T>(\n  params: TroveAdjustmentParams<T>,\n  setToZero?: 'collateral' | 'debt',\n): TroveAdjustment<T> => ({\n  type: 'adjustment',\n  params,\n  setToZero,\n});\n\nconst valueIsDefined = <T>(entry: [string, T | undefined]): entry is [string, T] =>\n  entry[1] !== undefined;\n\ntype AllowedKey<T> = Exclude<\n  {\n    [P in keyof T]: T[P] extends undefined ? never : P;\n  }[keyof T],\n  undefined\n>;\n\nconst allowedTroveCreationKeys: AllowedKey<TroveCreationParams>[] = [\n  'depositCollateral',\n  'borrowLUSD',\n];\n\nfunction checkAllowedTroveCreationKeys<T>(\n  entries: [string, T][],\n): asserts entries is [AllowedKey<TroveCreationParams>, T][] {\n  const badKeys = entries\n    .filter(([k]) => !(allowedTroveCreationKeys as string[]).includes(k))\n    .map(([k]) => `'${k}'`);\n\n  if (badKeys.length > 0) {\n    throw new Error(`TroveCreationParams: property ${badKeys.join(', ')} not allowed`);\n  }\n}\n\nconst troveCreationParamsFromEntries = <T>(\n  entries: [AllowedKey<TroveCreationParams>, T][],\n): TroveCreationParams<T> => {\n  const params = Object.fromEntries(entries) as Record<AllowedKey<TroveCreationParams>, T>;\n  const missingKeys = allowedTroveCreationKeys\n    .filter((k) => !(k in params))\n    .map((k) => `'${k}'`);\n\n  if (missingKeys.length > 0) {\n    throw new Error(`TroveCreationParams: property ${missingKeys.join(', ')} missing`);\n  }\n\n  return params;\n};\n\nconst decimalize = <T>([k, v]: [T, Decimalish]): [T, Decimal] => [k, Decimal.from(v)];\nconst nonZero = <T>([, v]: [T, Decimal]): boolean => !v.isZero;\n\n/** @internal */\nexport const _normalizeTroveCreation = (\n  params: Record<string, Decimalish | undefined>,\n): TroveCreationParams<Decimal> => {\n  const definedEntries = Object.entries(params).filter(valueIsDefined);\n  checkAllowedTroveCreationKeys(definedEntries);\n  const nonZeroEntries = definedEntries.map(decimalize);\n\n  return troveCreationParamsFromEntries(nonZeroEntries);\n};\n\nconst allowedTroveAdjustmentKeys: AllowedKey<TroveAdjustmentParams>[] = [\n  'depositCollateral',\n  'withdrawCollateral',\n  'borrowLUSD',\n  'repayLUSD',\n];\n\nfunction checkAllowedTroveAdjustmentKeys<T>(\n  entries: [string, T][],\n): asserts entries is [AllowedKey<TroveAdjustmentParams>, T][] {\n  const badKeys = entries\n    .filter(([k]) => !(allowedTroveAdjustmentKeys as string[]).includes(k))\n    .map(([k]) => `'${k}'`);\n\n  if (badKeys.length > 0) {\n    throw new Error(`TroveAdjustmentParams: property ${badKeys.join(', ')} not allowed`);\n  }\n}\n\nconst collateralChangeFrom = <T>({\n  depositCollateral,\n  withdrawCollateral,\n}: Partial<Record<AllowedKey<TroveAdjustmentParams>, T>>): _CollateralChange<T> | undefined => {\n  if (depositCollateral !== undefined && withdrawCollateral !== undefined) {\n    throw new Error(\n      \"TroveAdjustmentParams: 'depositCollateral' and 'withdrawCollateral' \" +\n        \"can't be present at the same time\",\n    );\n  }\n\n  if (depositCollateral !== undefined) {\n    return { depositCollateral };\n  }\n\n  if (withdrawCollateral !== undefined) {\n    return { withdrawCollateral };\n  }\n};\n\nconst debtChangeFrom = <T>({\n  borrowLUSD,\n  repayLUSD,\n}: Partial<Record<AllowedKey<TroveAdjustmentParams>, T>>): _DebtChange<T> | undefined => {\n  if (borrowLUSD !== undefined && repayLUSD !== undefined) {\n    throw new Error(\n      \"TroveAdjustmentParams: 'borrowLUSD' and 'repayLUSD' can't be present at the same time\",\n    );\n  }\n\n  if (borrowLUSD !== undefined) {\n    return { borrowLUSD };\n  }\n\n  if (repayLUSD !== undefined) {\n    return { repayLUSD };\n  }\n};\n\nconst troveAdjustmentParamsFromEntries = <T>(\n  entries: [AllowedKey<TroveAdjustmentParams>, T][],\n): TroveAdjustmentParams<T> => {\n  const params = Object.fromEntries(entries) as Partial<\n    Record<AllowedKey<TroveAdjustmentParams>, T>\n  >;\n\n  const collateralChange = collateralChangeFrom(params);\n  const debtChange = debtChangeFrom(params);\n\n  if (collateralChange !== undefined && debtChange !== undefined) {\n    return { ...collateralChange, ...debtChange };\n  }\n\n  if (collateralChange !== undefined) {\n    return collateralChange;\n  }\n\n  if (debtChange !== undefined) {\n    return debtChange;\n  }\n\n  throw new Error('TroveAdjustmentParams: must include at least one non-zero parameter');\n};\n\n/** @internal */\nexport const _normalizeTroveAdjustment = (\n  params: Record<string, Decimalish | undefined>,\n): TroveAdjustmentParams<Decimal> => {\n  const definedEntries = Object.entries(params).filter(valueIsDefined);\n  checkAllowedTroveAdjustmentKeys(definedEntries);\n  const nonZeroEntries = definedEntries.map(decimalize).filter(nonZero);\n\n  return troveAdjustmentParamsFromEntries(nonZeroEntries);\n};\n\nconst applyFee = (borrowingRate: Decimalish, debtIncrease: Decimal) =>\n  debtIncrease.mul(Decimal.ONE.add(borrowingRate));\n\nconst unapplyFee = (borrowingRate: Decimalish, debtIncrease: Decimal) =>\n  debtIncrease._divCeil(Decimal.ONE.add(borrowingRate));\n\nconst NOMINAL_COLLATERAL_RATIO_PRECISION = Decimal.from(100);\n\n/**\n * A combination of collateral and debt.\n *\n * @public\n */\nexport class Trove {\n  /** Amount of native currency (e.g. Ether) collateralized. */\n  readonly collateral: Decimal;\n\n  /** Amount of LUSD owed. */\n  readonly debt: Decimal;\n\n  /** @internal */\n  constructor(collateral = Decimal.ZERO, debt = Decimal.ZERO) {\n    this.collateral = collateral;\n    this.debt = debt;\n  }\n\n  get isEmpty(): boolean {\n    return this.collateral.isZero && this.debt.isZero;\n  }\n\n  /**\n   * Amount of LUSD that must be repaid to close this Trove.\n   *\n   * @remarks\n   * This doesn't include the liquidation reserve, which is refunded in case of normal closure.\n   */\n  get netDebt(): Decimal {\n    if (this.debt.lt(LUSD_LIQUIDATION_RESERVE)) {\n      throw new Error(`netDebt should not be used when debt < ${LUSD_LIQUIDATION_RESERVE}`);\n    }\n\n    return this.debt.sub(LUSD_LIQUIDATION_RESERVE);\n  }\n\n  /** @internal */\n  get _nominalCollateralRatio(): Decimal {\n    return this.collateral.mulDiv(NOMINAL_COLLATERAL_RATIO_PRECISION, this.debt);\n  }\n\n  /** Calculate the Trove's collateralization ratio at a given price. */\n  collateralRatio(price: Decimalish): Decimal {\n    return this.collateral.mulDiv(price, this.debt);\n  }\n\n  /**\n   * Whether the Trove is undercollateralized at a given price.\n   *\n   * @returns\n   * `true` if the Trove's collateralization ratio is less than the\n   * {@link MINIMUM_COLLATERAL_RATIO}.\n   */\n  collateralRatioIsBelowMinimum(price: Decimalish): boolean {\n    return this.collateralRatio(price).lt(MINIMUM_COLLATERAL_RATIO);\n  }\n\n  /**\n   * Whether the collateralization ratio is less than the {@link CRITICAL_COLLATERAL_RATIO} at a\n   * given price.\n   *\n   * @example\n   * Can be used to check whether the Liquity protocol is in recovery mode by using it on the return\n   * value of {@link ReadableLiquity.getTotal | getTotal()}. For example:\n   *\n   * ```typescript\n   * const total = await liquity.getTotal();\n   * const price = await liquity.getPrice();\n   *\n   * if (total.collateralRatioIsBelowCritical(price)) {\n   *   // Recovery mode is active\n   * }\n   * ```\n   */\n  collateralRatioIsBelowCritical(price: Decimalish): boolean {\n    return this.collateralRatio(price).lt(CRITICAL_COLLATERAL_RATIO);\n  }\n\n  /** Whether the Trove is sufficiently collateralized to be opened during recovery mode. */\n  isOpenableInRecoveryMode(price: Decimalish): boolean {\n    return this.collateralRatio(price).gte(CRITICAL_COLLATERAL_RATIO);\n  }\n\n  /** @internal */\n  toString(): string {\n    return `{ collateral: ${this.collateral}, debt: ${this.debt} }`;\n  }\n\n  equals(that: Trove): boolean {\n    return this.collateral.eq(that.collateral) && this.debt.eq(that.debt);\n  }\n\n  add(that: Trove): Trove {\n    return new Trove(this.collateral.add(that.collateral), this.debt.add(that.debt));\n  }\n\n  addCollateral(collateral: Decimalish): Trove {\n    return new Trove(this.collateral.add(collateral), this.debt);\n  }\n\n  addDebt(debt: Decimalish): Trove {\n    return new Trove(this.collateral, this.debt.add(debt));\n  }\n\n  subtract(that: Trove): Trove {\n    const { collateral, debt } = that;\n\n    return new Trove(\n      this.collateral.gt(collateral) ? this.collateral.sub(collateral) : Decimal.ZERO,\n      this.debt.gt(debt) ? this.debt.sub(debt) : Decimal.ZERO,\n    );\n  }\n\n  subtractCollateral(collateral: Decimalish): Trove {\n    return new Trove(\n      this.collateral.gt(collateral) ? this.collateral.sub(collateral) : Decimal.ZERO,\n      this.debt,\n    );\n  }\n\n  subtractDebt(debt: Decimalish): Trove {\n    return new Trove(this.collateral, this.debt.gt(debt) ? this.debt.sub(debt) : Decimal.ZERO);\n  }\n\n  multiply(multiplier: Decimalish): Trove {\n    return new Trove(this.collateral.mul(multiplier), this.debt.mul(multiplier));\n  }\n\n  setCollateral(collateral: Decimalish): Trove {\n    return new Trove(Decimal.from(collateral), this.debt);\n  }\n\n  setDebt(debt: Decimalish): Trove {\n    return new Trove(this.collateral, Decimal.from(debt));\n  }\n\n  private _debtChange({ debt }: Trove, borrowingRate: Decimalish): _DebtChange<Decimal> {\n    return debt.gt(this.debt)\n      ? { borrowLUSD: unapplyFee(borrowingRate, debt.sub(this.debt)) }\n      : { repayLUSD: this.debt.sub(debt) };\n  }\n\n  private _collateralChange({ collateral }: Trove): _CollateralChange<Decimal> {\n    return collateral.gt(this.collateral)\n      ? { depositCollateral: collateral.sub(this.collateral) }\n      : { withdrawCollateral: this.collateral.sub(collateral) };\n  }\n\n  /**\n   * Calculate the difference between this Trove and another.\n   *\n   * @param that - The other Trove.\n   * @param borrowingRate - Borrowing rate to use when calculating a borrowed amount.\n   *\n   * @returns\n   * An object representing the change, or `undefined` if the Troves are equal.\n   */\n  whatChanged(\n    that: Trove,\n    borrowingRate: Decimalish = MINIMUM_BORROWING_RATE,\n  ): TroveChange<Decimal> | undefined {\n    if (this.collateral.eq(that.collateral) && this.debt.eq(that.debt)) {\n      return undefined;\n    }\n\n    if (this.isEmpty) {\n      if (that.debt.lt(LUSD_LIQUIDATION_RESERVE)) {\n        return invalidTroveCreation(that, 'missingLiquidationReserve');\n      }\n\n      return troveCreation({\n        depositCollateral: that.collateral,\n        borrowLUSD: unapplyFee(borrowingRate, that.netDebt),\n      });\n    }\n\n    if (that.isEmpty) {\n      return troveClosure(\n        this.netDebt.nonZero\n          ? { withdrawCollateral: this.collateral, repayLUSD: this.netDebt }\n          : { withdrawCollateral: this.collateral },\n      );\n    }\n\n    return this.collateral.eq(that.collateral)\n      ? troveAdjustment<Decimal>(\n          this._debtChange(that, borrowingRate),\n          that.debt.zero ? 'debt' : undefined,\n        )\n      : this.debt.eq(that.debt)\n      ? troveAdjustment<Decimal>(\n          this._collateralChange(that),\n          that.collateral.zero ? 'collateral' : undefined,\n        )\n      : troveAdjustment<Decimal>(\n          {\n            ...this._debtChange(that, borrowingRate),\n            ...this._collateralChange(that),\n          },\n          (that.debt.zero ? 'debt' : undefined) ??\n            (that.collateral.zero ? 'collateral' : undefined),\n        );\n  }\n\n  /**\n   * Make a new Trove by applying a {@link TroveChange} to this Trove.\n   *\n   * @param change - The change to apply.\n   * @param borrowingRate - Borrowing rate to use when adding a borrowed amount to the Trove's debt.\n   */\n  apply(\n    change: TroveChange<Decimal> | undefined,\n    borrowingRate: Decimalish = MINIMUM_BORROWING_RATE,\n  ): Trove {\n    if (!change) {\n      return this;\n    }\n\n    switch (change.type) {\n      case 'invalidCreation':\n        if (!this.isEmpty) {\n          throw new Error(\"Can't create onto existing Trove\");\n        }\n\n        return change.invalidTrove;\n\n      case 'creation': {\n        if (!this.isEmpty) {\n          throw new Error(\"Can't create onto existing Trove\");\n        }\n\n        const { depositCollateral, borrowLUSD } = change.params;\n\n        return new Trove(\n          depositCollateral,\n          LUSD_LIQUIDATION_RESERVE.add(applyFee(borrowingRate, borrowLUSD)),\n        );\n      }\n\n      case 'closure':\n        if (this.isEmpty) {\n          throw new Error(\"Can't close empty Trove\");\n        }\n\n        return _emptyTrove;\n\n      case 'adjustment': {\n        const {\n          setToZero,\n          params: { depositCollateral, withdrawCollateral, borrowLUSD, repayLUSD },\n        } = change;\n\n        const collateralDecrease = withdrawCollateral ?? Decimal.ZERO;\n        const collateralIncrease = depositCollateral ?? Decimal.ZERO;\n        const debtDecrease = repayLUSD ?? Decimal.ZERO;\n        const debtIncrease = borrowLUSD ? applyFee(borrowingRate, borrowLUSD) : Decimal.ZERO;\n\n        return setToZero === 'collateral'\n          ? this.setCollateral(Decimal.ZERO).addDebt(debtIncrease).subtractDebt(debtDecrease)\n          : setToZero === 'debt'\n          ? this.setDebt(Decimal.ZERO)\n              .addCollateral(collateralIncrease)\n              .subtractCollateral(collateralDecrease)\n          : this.add(new Trove(collateralIncrease, debtIncrease)).subtract(\n              new Trove(collateralDecrease, debtDecrease),\n            );\n      }\n    }\n  }\n\n  /**\n   * Calculate the result of an {@link TransactableLiquity.openTrove | openTrove()} transaction.\n   *\n   * @param params - Parameters of the transaction.\n   * @param borrowingRate - Borrowing rate to use when calculating the Trove's debt.\n   */\n  static create(params: TroveCreationParams<Decimalish>, borrowingRate?: Decimalish): Trove {\n    return _emptyTrove.apply(troveCreation(_normalizeTroveCreation(params)), borrowingRate);\n  }\n\n  /**\n   * Calculate the parameters of an {@link TransactableLiquity.openTrove | openTrove()} transaction\n   * that will result in the given Trove.\n   *\n   * @param that - The Trove to recreate.\n   * @param borrowingRate - Current borrowing rate.\n   */\n  static recreate(that: Trove, borrowingRate?: Decimalish): TroveCreationParams<Decimal> {\n    const change = _emptyTrove.whatChanged(that, borrowingRate);\n    assert(change?.type === 'creation');\n    return change.params;\n  }\n\n  /**\n   * Calculate the result of an {@link TransactableLiquity.adjustTrove | adjustTrove()} transaction\n   * on this Trove.\n   *\n   * @param params - Parameters of the transaction.\n   * @param borrowingRate - Borrowing rate to use when adding to the Trove's debt.\n   */\n  adjust(params: TroveAdjustmentParams<Decimalish>, borrowingRate?: Decimalish): Trove {\n    return this.apply(troveAdjustment(_normalizeTroveAdjustment(params)), borrowingRate);\n  }\n\n  /**\n   * Calculate the parameters of an {@link TransactableLiquity.adjustTrove | adjustTrove()}\n   * transaction that will change this Trove into the given Trove.\n   *\n   * @param that - The desired result of the transaction.\n   * @param borrowingRate - Current borrowing rate.\n   */\n  adjustTo(that: Trove, borrowingRate?: Decimalish): TroveAdjustmentParams<Decimal> {\n    const change = this.whatChanged(that, borrowingRate);\n    assert(change?.type === 'adjustment');\n    return change.params;\n  }\n}\n\n/** @internal */\nexport const _emptyTrove = new Trove();\n\n/**\n * Represents whether a UserTrove is open or not, or why it was closed.\n *\n * @public\n */\nexport type UserTroveStatus =\n  | 'nonExistent'\n  | 'open'\n  | 'closedByOwner'\n  | 'closedByLiquidation'\n  | 'closedByRedemption';\n\n/**\n * A Trove that is associated with a single owner.\n *\n * @remarks\n * The SDK uses the base {@link Trove} class as a generic container of collateral and debt, for\n * example to represent the {@link ReadableLiquity.getTotal | total collateral and debt} locked up\n * in the protocol.\n *\n * The `UserTrove` class extends `Trove` with extra information that's only available for Troves\n * that are associated with a single owner (such as the owner's address, or the Trove's status).\n *\n * @public\n */\nexport class UserTrove extends Trove {\n  /** Address that owns this Trove. */\n  readonly ownerAddress: string;\n\n  /** Provides more information when the UserTrove is empty. */\n  readonly status: UserTroveStatus;\n\n  /** @internal */\n  constructor(\n    ownerAddress: string,\n    status: UserTroveStatus,\n    collateral?: Decimal,\n    debt?: Decimal,\n  ) {\n    super(collateral, debt);\n\n    this.ownerAddress = ownerAddress;\n    this.status = status;\n  }\n\n  equals(that: UserTrove): boolean {\n    return (\n      super.equals(that) &&\n      this.ownerAddress === that.ownerAddress &&\n      this.status === that.status\n    );\n  }\n\n  /** @internal */\n  toString(): string {\n    return (\n      `{ ownerAddress: \"${this.ownerAddress}\"` +\n      `, collateral: ${this.collateral}` +\n      `, debt: ${this.debt}` +\n      `, status: \"${this.status}\" }`\n    );\n  }\n}\n\n/**\n * A Trove in its state after the last direct modification.\n *\n * @remarks\n * The Trove may have received collateral and debt shares from liquidations since then.\n * Use {@link TroveWithPendingRedistribution.applyRedistribution | applyRedistribution()} to\n * calculate the Trove's most up-to-date state.\n *\n * @public\n */\nexport class TroveWithPendingRedistribution extends UserTrove {\n  private readonly stake: Decimal;\n  private readonly snapshotOfTotalRedistributed: Trove;\n\n  /** @internal */\n  constructor(\n    ownerAddress: string,\n    status: UserTroveStatus,\n    collateral?: Decimal,\n    debt?: Decimal,\n    stake = Decimal.ZERO,\n    snapshotOfTotalRedistributed = _emptyTrove,\n  ) {\n    super(ownerAddress, status, collateral, debt);\n\n    this.stake = stake;\n    this.snapshotOfTotalRedistributed = snapshotOfTotalRedistributed;\n  }\n\n  applyRedistribution(totalRedistributed: Trove): UserTrove {\n    const afterRedistribution = this.add(\n      totalRedistributed.subtract(this.snapshotOfTotalRedistributed).multiply(this.stake),\n    );\n\n    return new UserTrove(\n      this.ownerAddress,\n      this.status,\n      afterRedistribution.collateral,\n      afterRedistribution.debt,\n    );\n  }\n\n  equals(that: TroveWithPendingRedistribution): boolean {\n    return (\n      super.equals(that) &&\n      this.stake.eq(that.stake) &&\n      this.snapshotOfTotalRedistributed.equals(that.snapshotOfTotalRedistributed)\n    );\n  }\n}\n","import { ethers } from 'ethers';\n\nimport { Configuration } from '../protocol/config';\nimport { web3ProviderFrom } from '../protocol/ether-utils';\n\nexport function getDefaultProvider(config: Configuration): ethers.providers.BaseProvider {\n  const _window: { ethereum?: any; web3?: any } = window;\n\n  // // Modern dapp browsers.\n  if (_window.ethereum) {\n    try {\n      // // Request account access\n      // const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\n      // App.YOUR_ADDRESS = accounts[0];\n    } catch (error) {\n      // User denied account access...\n      console.error('User denied account access');\n    }\n\n    return new ethers.providers.Web3Provider(_window.ethereum);\n  }\n\n  // // Legacy dapp browsers...\n  if (_window.web3) {\n    return new ethers.providers.Web3Provider(_window.web3.currentProvider);\n  }\n\n  // If no injected web3 instance is detected, fall back to backup node\n  return new ethers.providers.JsonRpcProvider(config.defaultProvider);\n}\n\nexport function getGanacheProvider(config: Configuration): ethers.providers.JsonRpcProvider {\n  return new ethers.providers.JsonRpcProvider(\n    web3ProviderFrom(config.defaultProvider),\n    config.chainId,\n  );\n}\n","import { Provider } from '@ethersproject/abstract-provider';\nimport { Signer } from '@ethersproject/abstract-signer';\nimport { TransactionResponse } from '@ethersproject/providers';\nimport { BigNumber, Contract } from 'ethers';\nimport { formatUnits } from 'ethers/lib/utils';\n\nclass ERC20 {\n  protected contract: Contract;\n\n  address: string;\n  symbol: string;\n  decimal: number;\n\n  constructor(address: string, provider: Signer | Provider, symbol: string, decimal = 18) {\n    this.contract = new Contract(address, ABI, provider);\n    this.address = address;\n    this.symbol = symbol;\n    this.decimal = decimal;\n  }\n\n  connect(signerOrProvider: Signer | Provider) {\n    this.contract = new Contract(this.address, ABI, signerOrProvider);\n  }\n\n  get estimateGas() {\n    return this.contract.estimateGas;\n  }\n\n  totalSupply(): Promise<BigNumber> {\n    return this.contract.totalSupply();\n  }\n\n  balanceOf(account: string): Promise<BigNumber> {\n    return this.contract.balanceOf(account);\n  }\n\n  transfer(recipient: string, amount: BigNumber): Promise<TransactionResponse> {\n    return this.contract.transfer(recipient, amount);\n  }\n\n  allowance(owner: string, spender: string): Promise<BigNumber> {\n    return this.contract.allowance(owner, spender);\n  }\n\n  approve(spender: string, amount: BigNumber): Promise<TransactionResponse> {\n    return this.contract.approve(spender, amount);\n  }\n\n  transferFrom(\n    sender: string,\n    recipient: string,\n    amount: BigNumber,\n  ): Promise<TransactionResponse> {\n    return this.contract.transferFro(sender, recipient, amount);\n  }\n\n  async displayedBalanceOf(account: string): Promise<string> {\n    const balance = await this.balanceOf(account);\n    return formatUnits(balance, this.decimal);\n  }\n\n  async displayedTotalSupply(): Promise<string> {\n    const supply = await this.totalSupply();\n    return Number(formatUnits(supply, this.decimal)).toFixed(0);\n  }\n}\n\nexport default ERC20;\n\nexport const ABI = [\n  {\n    name: 'Approval',\n    type: 'event',\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: 'address', name: 'owner', type: 'address' },\n      { indexed: true, internalType: 'address', name: 'spender', type: 'address' },\n      { indexed: false, internalType: 'uint256', name: 'value', type: 'uint256' },\n    ],\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: 'address', name: 'from', type: 'address' },\n      { indexed: true, internalType: 'address', name: 'to', type: 'address' },\n      { indexed: false, internalType: 'uint256', name: 'value', type: 'uint256' },\n    ],\n    name: 'Transfer',\n    type: 'event',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'totalSupply',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'symbol',\n    outputs: [{ internalType: 'string', name: '', type: 'string' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: 'address', name: 'account', type: 'address' }],\n    name: 'balanceOf',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: 'address', name: 'recipient', type: 'address' },\n      { internalType: 'uint256', name: 'amount', type: 'uint256' },\n    ],\n    name: 'transfer',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [\n      { internalType: 'address', name: 'owner', type: 'address' },\n      { internalType: 'address', name: 'spender', type: 'address' },\n    ],\n    name: 'allowance',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: 'address', name: 'spender', type: 'address' },\n      { internalType: 'uint256', name: 'amount', type: 'uint256' },\n    ],\n    name: 'approve',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: 'address', name: 'sender', type: 'address' },\n      { internalType: 'address', name: 'recipient', type: 'address' },\n      { internalType: 'uint256', name: 'amount', type: 'uint256' },\n    ],\n    name: 'transferFrom',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n];\n","import { EventEmitter } from 'events';\n\nconst multicall = require('@makerdao/multicall');\n\nexport interface IMulticallInput {\n  key: string;\n  target: string;\n  call: (string | number)[];\n  convertResult: (val: any) => any;\n}\n\nexport default class Multicall extends EventEmitter {\n  calls: IMulticallInput[] = [];\n  watcher: any;\n  rpcUrl: string;\n  address: string;\n\n  constructor(rpcUrl: string, address: string) {\n    super();\n    this.rpcUrl = rpcUrl;\n    this.address = address;\n    this.calls = [];\n    this._recreateWatcher();\n  }\n\n  addCall = (data: IMulticallInput): string => {\n    this.calls.push(data);\n    this._recreateWatcher();\n    this.watcher.tap(() => this._getMutlicallCalls([data]));\n    return data.key;\n  };\n\n  removeCall = (key: string): string => {\n    const index = this.calls.findIndex((d) => d.key === key);\n    if (index <= 0) return;\n    this.calls = this.calls.splice(index, 1);\n    this._recreateWatcher();\n  };\n\n  addCalls = (data: IMulticallInput[]): string[] => {\n    data.forEach((d) => this.calls.push(d));\n    this._recreateWatcher();\n    this.watcher.tap(() => this._getMutlicallCalls(data));\n    return data.map((d) => d.key);\n  };\n\n  private _getMutlicallCalls = (calls: IMulticallInput[]) => {\n    return calls.map((c) => ({\n      target: c.target,\n      call: c.call,\n      returns: [[c.key, c.convertResult]],\n    }));\n  };\n\n  private _processUpdates = (update: { type: any; value: any }) => {\n    this.emit(update.type, update.value);\n  };\n\n  private _recreateWatcher = () => {\n    if (this.watcher) this.watcher.stop();\n\n    const config = {\n      rpcUrl: this.rpcUrl,\n      multicallAddress: this.address,\n    };\n\n    this.watcher = multicall.createWatcher(this._getMutlicallCalls(this.calls), config);\n    this.watcher.subscribe(this._processUpdates);\n\n    // Start the watcher polling.\n    this.watcher.start();\n  };\n}\n","import ARTHController from './abi/ARTHController.json';\nimport ARTHShares from './abi/ARTHShares.json';\nimport ARTHStablecoin from './abi/ARTHStablecoin.json';\nimport ARTHUSDWrapper from './abi/ARTHUSDWrapper.json';\nimport ActivePool from './abi/ActivePool.json';\nimport BasicStaking from './abi/BasicStaking.json';\nimport BasicStakingSpecificReward from './abi/BasicStakingSpecificReward.json';\nimport Boardroom from './abi/Boardroom.json';\nimport BorrowerOperations from './abi/BorrowerOperations.json';\nimport CollSurplusPool from './abi/CollSurplusPool.json';\nimport CommunityIssuance from './abi/CommunityIssuance.json';\nimport Controller from './abi/Controller.json';\nimport CurveSwapRouter from './abi/CurveSwapRouter.json';\nimport DefaultPool from './abi/DefaultPool.json';\nimport DotDotStaking from './abi/DotDotStaking.json';\nimport ERC20Mock from './abi/ERC20Mock.json';\nimport EcosystemFund from './abi/EcosystemFund.json';\nimport EllipsisStaking from './abi/EllipsisStaking.json';\nimport Faucet from './abi/Faucet.json';\nimport FlashLoanLeverage from './abi/FlashLoanLeverage.json';\nimport FlashLoanMinter from './abi/FlashLoanMinter.json';\nimport GMUOracle from './abi/GMUOracle.json';\nimport GasPool from './abi/GasPool.json';\nimport Governance from './abi/Governance.json';\nimport HintHelpers from './abi/HintHelpers.json';\nimport IERC20 from './abi/IERC20.json';\nimport ILeverageStrategy from './abi/ILeverageStrategy.json';\nimport IStableSwap from './abi/IStableSwap.json';\nimport IWETH from './abi/IWETH.json';\nimport IWrapper from './abi/IWrapper.json';\nimport IZapDepositor from './abi/IZapDepositor.json';\nimport IncentivePool from './abi/IncentivePool.json';\nimport LPExpsoure from './abi/LPExpsoure.json';\nimport LQTYStaking from './abi/LQTYStaking.json';\nimport LQTYToken from './abi/LQTYToken.json';\nimport LUSDToken from './abi/LUSDToken.json';\nimport LeverageAccount from './abi/LeverageAccount.json';\nimport LeverageAccountRegistry from './abi/LeverageAccountRegistry.json';\nimport LiquityLUSDToken from './abi/LiquityLUSDToken.json';\nimport LockupContractFactory from './abi/LockupContractFactory.json';\nimport MahaToken from './abi/MahaToken.json';\nimport MockAggregator from './abi/MockAggregator.json';\nimport MockMaha from './abi/MockMaha.json';\nimport MockUniswapOracle from './abi/MockUniswapOracle.json';\nimport MultiTroveGetter from './abi/MultiTroveGetter.json';\nimport Multicall from './abi/Multicall.json';\nimport PoolToken from './abi/PoolToken.json';\nimport PriceFeed from './abi/PriceFeed.json';\nimport PriceFeedTestnet from './abi/PriceFeedTestnet.json';\nimport ProxyRegistry from './abi/ProxyRegistry.json';\nimport SortedTroves from './abi/SortedTroves.json';\nimport StabilityPool from './abi/StabilityPool.json';\nimport StableSwap from './abi/StableSwap.json';\nimport TroveManager from './abi/TroveManager.json';\nimport UniswapPairOracle from './abi/UniswapPairOracle.json';\nimport UniswapV2Factory from './abi/UniswapV2Factory.json';\nimport UniswapV2Pair from './abi/UniswapV2Pair.json';\nimport UniswapV2Router02 from './abi/UniswapV2Router02.json';\nimport WMaticExposure from './abi/WMaticExposure.json';\nimport WStakingRewards from './abi/WStakingRewards.json';\n\ntype IABIS = {\n  [key: string]: any[];\n};\n\nconst ret: IABIS = {\n  ActivePool,\n  ARTHController,\n  ARTHShares,\n  ARTHStablecoin,\n  BasicStaking,\n  EllipsisStaking,\n  DotDotStaking,\n  LeverageAccount,\n  BasicStakingSpecificReward,\n  Boardroom,\n  ILeverageStrategy,\n  BorrowerOperations,\n  CollSurplusPool,\n  LPExpsoure,\n  CommunityIssuance,\n  Controller,\n  DefaultPool,\n  LeverageAccountRegistry,\n  EcosystemFund,\n  ERC20Mock,\n  Faucet,\n  FlashLoanLeverage,\n  FlashLoanMinter,\n  GasPool,\n  GMUOracle,\n  Governance,\n  HintHelpers,\n  IERC20,\n  IWETH,\n  IWrapper,\n  LiquityLUSDToken,\n  LockupContractFactory,\n  LQTYStaking,\n  LQTYToken,\n  LUSDToken,\n  MahaToken,\n  WMaticExposure,\n  MockAggregator,\n  MockMaha,\n  MockUniswapOracle,\n  Multicall,\n  MultiTroveGetter,\n  PoolToken,\n  PriceFeed,\n  PriceFeedTestnet,\n  ProxyRegistry,\n  SortedTroves,\n  StabilityPool,\n  IncentivePool,\n  TroveManager,\n  UniswapPairOracle,\n  UniswapV2Factory,\n  UniswapV2Pair,\n  UniswapV2Router02,\n  WStakingRewards,\n  ARTHUSDWrapper,\n  CurveSwapRouter,\n  IStableSwap,\n  IZapDepositor,\n  StableSwap,\n};\n\nexport default ret;\n","import { BigNumber, Contract, Overrides, ethers } from 'ethers';\nimport Web3 from 'web3';\n\nimport * as tokenState from '../state/token/controller';\nimport * as troveState from '../state/trove/controller';\nimport { decimalify } from '../utils/Decimal';\nimport { Trove } from '../utils/Trove';\nimport { getDefaultProvider } from '../utils/provider';\n\nimport ERC20 from './ERC20';\nimport Multicall from './Mulitcall';\nimport {\n  Configuration,\n  FarmingConfigurations,\n  StrategiesStaticInfo,\n  TokeniseStaticInfo,\n  TroveStaticInfo,\n  configKeys,\n  PoolsStaticInfo,\n} from './config';\nimport ABIS from './deployments/abi';\n\n/**\n * An API module of ARTH contracts.\n * All contract-interacting domain logic should be defined in here.\n */\nexport class Protocol {\n  myAccount: string;\n\n  web3: Web3;\n\n  _signer?: ethers.Signer;\n\n  _config: {\n    [chainId: number]: Configuration;\n  };\n\n  _contracts: {\n    [chainId: number]: { [name: string]: Contract };\n  };\n\n  provider: ethers.providers.BaseProvider;\n\n  _tokens: {\n    [chainId: number]: { [name: string]: ERC20 };\n  };\n\n  tradingPairs: {\n    [name: string]: ERC20[];\n  };\n\n  assetLockContracts: {\n    [name: string]: Array<Contract | ERC20>;\n  };\n\n  multicall: { [chainId: number]: Multicall };\n\n  _activeNetwork: number;\n\n  constructor(cfg: { [chainId: number]: Configuration }, chainId: number) {\n    this._activeNetwork = chainId;\n    this._contracts = {\n      56: {},\n      137: {},\n    };\n    this._tokens = {\n      56: {},\n      137: {},\n    };\n    this._tokens = {\n      56: {},\n      137: {},\n    };\n\n    // @ts-ignore\n    this.multicall = { 56: {}, 137: {} };\n    for (const [chainIdString, config] of Object.entries(cfg)) {\n      const chainId = Number(chainIdString);\n      const { deployments } = config;\n      this.provider = getDefaultProvider(config);\n      const networkConfig: { [name: string]: Contract } = {};\n      const tokens: { [name: string]: ERC20 } = {};\n\n      for (const [name, deployment] of Object.entries(deployments)) {\n        if (!deployment.abi) continue;\n        //to push all erc20 tokens in tokens array\n        if (cfg[chainId].supportedTokens.includes(name)) {\n          tokens[name] = new ERC20(\n            deployments[name].address,\n            this.provider,\n            name,\n            cfg[chainId].decimalOverrides[name] || 18,\n          );\n        }\n\n        //to push all others as contracts\n        networkConfig[name] = new Contract(deployment.address, ABIS[deployment.abi], this.provider);\n      }\n      this._contracts[chainId] = networkConfig;\n      this._tokens[chainId] = tokens;\n      this.multicall[chainId] = new Multicall(\n        cfg[chainId].defaultProvider,\n        deployments.Multicall.address,\n      );\n    }\n\n    this._config = cfg;\n  }\n\n  /**\n   * @param provider From an unlocked wallet. (e.g. Metamask)\n   * @param account An address of unlocked wallet account.\n   */\n  unlockWallet(provider: any, account: string, dispatch: any, chainId: number) {\n    // @ts-ignore\n    const newProvider = new ethers.providers.Web3Provider(provider);\n    this.config('chainId', this._activeNetwork);\n    this.web3 = new Web3(provider);\n    this.provider = newProvider;\n    this._signer = newProvider.getSigner(0);\n    this.myAccount = account;\n\n    for (const [chainId, contracts] of Object.entries(this._contracts)) {\n      for (const [name, contract] of Object.entries(contracts)) {\n        this._contracts[Number(chainId)][name] = contract.connect(this._signer);\n      }\n    }\n\n    for (const tokens of Object.values(this._tokens)) {\n      for (const token of Object.values(tokens)) {\n        if (token && token.address) token.connect(this._signer);\n      }\n    }\n\n\n    tokenState.initUser(this, dispatch, chainId);\n    troveState.initUser(this, dispatch, chainId);\n  }\n\n  get isUnlocked(): boolean {\n    return !!this.myAccount;\n  }\n\n  getContractAt = (abiName: string, address: string) => {\n    const contract = new Contract(address, ABIS[abiName], this.provider);\n    return contract.connect(this._signer);\n  };\n\n  signer = () => {\n    return this._signer;\n  };\n\n  getBlockTimestamp = () => {\n    return Math.floor(Date.now() / 1000);\n  };\n\n  getAllWhitelistedUser = (chainId: number): string[] => {\n    // @ts-ignore\n    const data: Array<string> = this.config('whitelistedUsers', chainId);\n    return data;\n  };\n\n  isUserWhiteListed = (chainId: number, account: string): boolean => {\n    return this.getAllWhitelistedUser(chainId).includes(account);\n  }\n\n  getAllTroves = (chainId: number, account?: string): string[] => {\n    // @ts-ignore\n    const data: Array<TroveStaticInfo> = this.config('troveStaticInfo', chainId);\n    const filteredData = data.filter((data) => {\n      if (!data.isDeprecated) {\n        return data\n      } else {\n        // if (this.isUserWhiteListed(chainId, account)) {\n          return data\n        // }\n      }\n    });\n    if (account) {\n      return filteredData.map((value) => value.trove);\n    } else {\n      return data.map((value) => value.trove);\n    }\n  };\n\n  getAllStrategies = (chainId: number, account?: string): StrategiesStaticInfo[] => {\n    // @ts-ignore\n    const data: Array<StrategiesStaticInfo> = this.config('strategiesStaticInfo', chainId);\n    const filteredData = data.filter((data) => {\n      if (!data.isDeprecated) {\n        return data\n      } else {\n        if (this.isUserWhiteListed(chainId, account)) {\n          return data\n        }\n      }\n    });\n    if (account) {\n      return filteredData\n    } else {\n      return data\n    }\n  };\n\n  getAllTokeniseInfo = (chainId: number): Array<TokeniseStaticInfo> => {\n    // @ts-ignore\n    const data: Array<TokeniseStaticInfo> = this.config('tokeniseStaticInfo', chainId);\n    return data;\n  };\n\n  getCollateralTypes = (chainId: number): string[] => {\n    // @ts-ignore\n    return this.config('supportedCollaterals', chainId);\n  };\n\n  getTradingCollateralTypes = (chainId: number): string[] => {\n    // @ts-ignore\n    return this.config('tradingCollaterals', chainId);\n  };\n\n  getPool = (chainId: number): PoolsStaticInfo => {\n    // @ts-ignore\n    return this.config('poolsStaticInfo', chainId);\n  }\n\n  getLiquidityPools = (chainId: number): PoolsStaticInfo[] => {\n    // @ts-ignore\n    return this.config('liquidityPoolsStaticInfo', chainId);\n  }\n\n  getLiquidityPoolsName = (chainId: number): string[] => {\n    // @ts-ignore\n    const data: Array<PoolsStaticInfo> = this.config('liquidityPoolsStaticInfo', chainId);\n    return data.map((value) => value.name);\n  };\n\n  getDefaultCollateral = (chainId: number): string => {\n    // @ts-ignore\n    return this.config('defaultCollateral', chainId);\n  };\n\n  getFarmingPools = (chainId: number): FarmingConfigurations[] => {\n    // @ts-ignore\n    return this.config('farmingConfigs', chainId);\n  };\n\n  getLeverageScript = (contractPrefix: string, chainId: number): Contract => {\n    // @ts-ignore\n    return this.contracts('WMATICLeverageScript', chainId);\n  };\n\n  getFees = (chainId: number): FarmingConfigurations[] => {\n    // @ts-ignore\n    return this.config('farmingConfigs', chainId);\n  };\n\n  getTotal = async (contractPrefix: string, chainId: number): Promise<Trove> => {\n    const [activePool, defaultPool] = await Promise.all([\n      this.getActivePoolTrove(contractPrefix, chainId),\n      this.getDefaultPoolTrove(contractPrefix, chainId),\n    ]);\n\n    return activePool.add(defaultPool);\n  };\n\n  getActivePoolTrove = async (contractPrefix: string, chainId: number): Promise<Trove> => {\n    const activePool = this.getActivePool(contractPrefix, chainId);\n\n    const [activeCollateral, activeDebt] = await Promise.all(\n      [activePool.getETH(), activePool.getLUSDDebt()].map((getBigNumber) =>\n        getBigNumber.then(decimalify),\n      ),\n    );\n\n    return new Trove(activeCollateral, activeDebt);\n  };\n\n  async getDefaultPoolTrove(contractPrefix: string, chainId: number): Promise<Trove> {\n    const defaultPool = this.getDefaultPool(contractPrefix, chainId);\n\n    const [liquidatedCollateral, closedDebt] = await Promise.all(\n      [defaultPool.getETH(), defaultPool.getLUSDDebt()].map((getBigNumber) =>\n        getBigNumber.then(decimalify),\n      ),\n    );\n\n    return new Trove(liquidatedCollateral, closedDebt);\n  }\n\n  /* gasOptions(gas: BigNumber): Overrides {\n    // @ts-ignore\n    const multiplied = Math.floor(gas.toNumber() * this.config('gasLimitMultiplier'));\n    return {\n      gasLimit: BigNumber.from(multiplied),\n    };\n  }*/\n\n  updateActiveNetwork(chainId: number, dispatch: any) {\n    this._activeNetwork = chainId;\n    tokenState.initUser(this, dispatch, chainId);\n    troveState.initUser(this, dispatch, chainId);\n  }\n\n  tokens(id: string, chainId: number): ERC20 {\n    return this._tokens[chainId][id];\n  }\n\n  config(id: configKeys, chainId: number) {\n    return this._config[chainId][id];\n  }\n\n  contracts(name: string, chainId: number) {\n    return this._contracts[chainId][name];\n  }\n\n  getCRVTradeTokenIndex(token: string, chainId: number): number {\n    return this._config[chainId]['crvTradeTokenIndexMapping'][token] || 0;\n  }\n\n  getMultiTroveGetter(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}MultiTroveGetter`, chainId);\n    // return this.contracts[`${token}MultiTroveGetter`];\n  }\n\n  getGovernance(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}Governance`, chainId);\n  }\n\n  getLeverageAccountRegistry(chainId: number) {\n    return this.contracts(`LeverageAccountRegistry`, chainId);\n  }\n\n  getHintHelper(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}HintHelpers`, chainId);\n  }\n\n  getTroveManager(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}TroveManager`, chainId);\n  }\n\n  getBorrowerOperations(token: string, chainId: number) {\n    return this.contracts(`${token}BorrowerOperations`, chainId);\n  }\n\n  getCollSurplusPool(token: string, chainId: number) {\n    return this.contracts(`${token}CollSurplusPool`, chainId);\n  }\n\n  getPriceFeed(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}PriceFeed`, chainId);\n  }\n\n  getActivePool(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}ActivePool`, chainId);\n  }\n\n  getDefaultPool(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}DefaultPool`, chainId);\n  }\n\n  getSortedTroves(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}SortedTroves`, chainId);\n  }\n\n  getStabilityPool(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}StabilityPool`, chainId);\n  }\n\n  getController(contractPrefix: string, chainId: number) {\n    if (chainId === 56 || chainId === 97) {\n      return null;\n    } else {\n      return this.contracts(`${contractPrefix}Controller`, chainId);\n    }\n  }\n}\n","import React, { createContext, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport config from '../../config';\nimport BasisCash from '../../protocol';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\n\nexport interface BasisCashContext {\n  core: BasisCash;\n}\n\nexport const Context = createContext<BasisCashContext>({ core: null });\n\ninterface IProps {\n  children: any;\n}\n\nexport const BasisCashProvider = (props: IProps) => {\n  const { children } = props;\n  const chainId = useGetActiveChainId();\n  const { ethereum, account } = useWallet();\n  const [core, setCore] = useState<BasisCash>();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!core && config) {\n      const newCore = new BasisCash(config, chainId);\n      if (account) {\n        newCore.unlockWallet(ethereum, account, dispatch, chainId);\n      }\n      setCore(newCore);\n    } else if (account) {\n      core.unlockWallet(ethereum, account, dispatch, chainId);\n    }\n  }, [account, core, dispatch, ethereum, chainId]);\n\n  return <Context.Provider value={{ core }}>{children}</Context.Provider>;\n};\n","import { useContext } from 'react';\n\nimport { Context } from '../contexts/BasisCashProvider';\n\nconst useCore = () => {\n  const { core } = useContext(Context);\n  return core;\n};\n\nexport default useCore;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport TextWrapper from '../TextWrapper';\n\ninterface IProps {\n  title: string;\n  subTitle: string;\n  showLearnMore?: boolean;\n  learnMoreLink?: string;\n  className?: string;\n}\n\nconst PageHeader = (props: IProps) => {\n  const { title, subTitle, showLearnMore = false, learnMoreLink = '', className = '' } = props;\n\n  return (\n    <Header className={`text-left m-b-40 ${className}`}>\n      <TextWrapper\n        text={title}\n        fontFamily={'Syne'}\n        fontSize={24}\n        FletterSpacing={'0.1rem'}\n        fontWeight={'bold'}\n        className={'m-b-4'}\n      />\n      <SubtitleDiv className=\"single-line-center-start\">\n        <TextWrapper\n          text={subTitle}\n          fontWeight={300}\n          fontSize={16}\n          Fcolor={'#ffffff88'}\n          className={'m-r-12'}\n        />\n        {showLearnMore && (\n          <LearnMoreLink href={learnMoreLink} target={'_blank'}>\n            <TextWrapper\n              text={'Learn more'}\n              fontWeight={300}\n              fontSize={16}\n              Fcolor={'#FF7F57'}\n            />\n          </LearnMoreLink>\n        )}\n      </SubtitleDiv>\n    </Header>\n  );\n};\n\nexport default PageHeader;\n\nconst Header = styled.div`\n  @media (max-width: 600px) {\n    padding: 0 16px;\n  }\n`;\n\nconst SubtitleDiv = styled.div`\n  @media (max-width: 800px) {\n    display: block;\n  }\n`;\n\nconst LearnMoreLink = styled.a`\n  @media (max-width: 800px) {\n    p {\n      margin-top: 8px;\n    }\n  }\n`;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const chainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getGovernance(contractPrefix, chainId);\n    const value = await contract.getStabilityFee();\n    setValue({ isLoading: false, value: value });\n  }, [core, contractPrefix, account]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch stability token and fee: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import { createAction } from '@reduxjs/toolkit';\n\nexport type PopupContent = {\n  txn?: {\n    hash: string;\n    success: boolean;\n    loading?: boolean;\n    summary?: string;\n  };\n  error?: {\n    message: string;\n    stack: string;\n  };\n};\n\nexport const updateBlockNumber = createAction<{ chainId: number; blockNumber: number }>(\n  'app/updateBlockNumber',\n);\n\nexport const toggleWalletModal = createAction<void>('app/toggleWalletModal');\n\nexport const toggleSettingsMenu = createAction<void>('app/toggleSettingsMenu');\n\nexport const addPopup = createAction<{\n  key?: string;\n  removeAfterMs?: number | null;\n  content: PopupContent;\n}>('app/addPopup');\n\nexport const removePopup = createAction<{ key: string }>('app/removePopup');\n","import { useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { AppState } from '../index';\n\nimport {\n  PopupContent,\n  addPopup,\n  removePopup,\n  toggleSettingsMenu,\n  toggleWalletModal,\n} from './actions';\n\nexport function useBlockNumber(): number | undefined {\n  const { chainId } = useWallet();\n  return useSelector((state: AppState) => state.application.blockNumber[chainId ?? -1]);\n}\n\nexport function useWalletModalOpen(): boolean {\n  return useSelector((state: AppState) => state.application.walletModalOpen);\n}\n\nexport function useWalletModalToggle(): () => void {\n  const dispatch = useDispatch();\n  return useCallback(() => dispatch(toggleWalletModal()), [dispatch]);\n}\n\nexport function useSettingsMenuOpen(): boolean {\n  return useSelector((state: AppState) => state.application.settingsMenuOpen);\n}\n\nexport function useToggleSettingsMenu(): () => void {\n  const dispatch = useDispatch();\n  return useCallback(() => dispatch(toggleSettingsMenu()), [dispatch]);\n}\n\n// Returns a function that allows adding a popup.\nexport function useAddPopup(): (content: PopupContent, key?: string) => void {\n  const dispatch = useDispatch();\n\n  return useCallback(\n    (content: PopupContent, key?: string) => {\n      dispatch(addPopup({ content, key }));\n    },\n    [dispatch],\n  );\n}\n\n// Returns a function that allows removing a popup via its key.\nexport function useRemovePopup(): (key: string) => void {\n  const dispatch = useDispatch();\n  return useCallback(\n    (key: string) => {\n      dispatch(removePopup({ key }));\n    },\n    [dispatch],\n  );\n}\n\n// Get the list of active popups.\nexport function useActivePopups(): AppState['application']['popupList'] {\n  const list = useSelector((state: AppState) => state.application.popupList);\n  return useMemo(() => list.filter((item) => item.show), [list]);\n}\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { BNZERO } from '../../../protocol/constants';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { BasicState } from '../../../utils/interface';\nimport useCore from '../../useCore';\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<BasicState>({ isLoading: true, value: BNZERO });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BNZERO });\n      return;\n    }\n\n    const contract = core.getSortedTroves(contractPrefix, activeChainId);\n    const value = await contract.getSize();\n    setValue({ isLoading: false, value: value });\n  }, [account, core, contractPrefix, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch linked list size: ${err}`));\n    }\n  }, [core.isUnlocked, blockNumber, account, fetchValue]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useSelector } from 'react-redux';\n\nimport { AppState } from '../../../state';\n\nexport default (token: string) => {\n  const borrowingRateWithDecay = useSelector(\n    (app: AppState) => app.analytics.borrowingRateWithDecay,\n  );\n\n  return { isLoading: false, value: borrowingRateWithDecay[token] || BigNumber.from(0) };\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { AppState } from '../../../state';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (token: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n\n  const entireSystemColl = useSelector((app: AppState) => app.analytics.entireSystemColl);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    setValue({ isLoading: false, value: entireSystemColl[token] || BigNumber.from(0) });\n  }, [account, entireSystemColl, token]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch system debt: ${err}`));\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue]);\n\n  return value;\n};\n","import config from '../config';\n\nexport const troveDetails = (data: string, chainId: number) => {\n  return config[chainId].troveStaticInfo.find((item) => item.trove === data);\n};\n\nexport const liquidityPoolsDetails = (name: string, chainId: number) => {\n  return config[chainId].liquidityPoolsStaticInfo.find((item) => item.name === name);\n};\n\nexport const collateralDetails = (data: string, chainId: number) => {\n  return config[chainId].troveStaticInfo.find((item) => item.depositToken === data);\n};\n\nexport const strategyDetails = (data: string, chainId: number) => {\n  return config[chainId].strategiesStaticInfo.find(\n    (item) => item.depositTokens.findIndex((p) => p === data) >= 0,\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { AppState } from '../../../state';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: boolean;\n};\n\nexport default (trove: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: false });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  // const collateralGMUPrices = useSelector((app: AppState) => app.analytics.gmuPrice);\n  // const collateralGMUPrice = collateralGMUPrices[troveDetail.depositToken];\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: false });\n      return;\n    }\n\n    // if (!collateralGMUPrice) {\n    //   return;\n    // }\n\n    const priceFeedContract = core.getPriceFeed(troveDetail.contractPrefix, activeChainId);\n    const price = await priceFeedContract.callStatic.fetchPrice();\n    const contract = core.getTroveManager(troveDetail.contractPrefix, activeChainId);\n    const value = await contract.checkRecoveryMode(price);\n    setValue({ isLoading: false, value: value });\n  }, [core, account, activeChainId, troveDetail]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch checkRecoveryMode() for ${trove}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue, trove, activeChainId]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { AppState } from '../../../state';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (token: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n\n  const redemptionRateWithDecay = useSelector(\n    (app: AppState) => app.analytics.redemptionRateWithDecay,\n  );\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    setValue({ isLoading: false, value: redemptionRateWithDecay[token] || BigNumber.from(0) });\n  }, [account, redemptionRateWithDecay, token]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch redemptionRateWithDecay() for ${token}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue, token]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { AppState } from '../../../state';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (trove: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  // const collateralGMUPrices = useSelector((app: AppState) => app.analytics.gmuPrice);\n  // const collateralGMUPrice = collateralGMUPrices[troveDetail.depositToken] || BigNumber.from(0);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    // if (!collateralGMUPrice) {\n    //   return;\n    // }\n\n    const priceFeedContract = core.getPriceFeed(troveDetail.contractPrefix, activeChainId);\n    const price = await priceFeedContract.callStatic.fetchPrice();\n    const contract = core.getTroveManager(troveDetail.contractPrefix, activeChainId);\n    const value = await contract.getTCR(price);\n    setValue({ isLoading: false, value: value });\n  }, [core, account, troveDetail, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch getTCR() for ${trove}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue, trove, activeChainId]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../state/application/hooks';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default () => {\n  const [price, setPrice] = useState<State>({\n    isLoading: true,\n    value: BigNumber.from(1).pow(18),\n  });\n\n  const core = useCore();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    setPrice({\n      isLoading: false,\n      value: await core.tokens('ARTH', activeChainId).totalSupply(),\n    });\n  }, [activeChainId, core]);\n\n  useEffect(() => {\n    fetchValue().catch((err) => console.error(`Failed to fetch ARTH supply: ${err.stack}`));\n  }, [blockNumber, setPrice, core, fetchValue]);\n\n  return price;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { AppState } from '../../state';\nimport { useBlockNumber } from '../../state/application/hooks';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (token: string, contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const activeChainId = useGetActiveChainId();\n  const erc20Token = core.tokens(token, activeChainId);\n  // const gmuPrice = useSelector((state: AppState) => state.analytics.gmuPrice);\n\n  const fetchValue = useCallback(async () => {\n    if (!account && !erc20Token) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getPriceFeed(token, activeChainId);\n    const price: BigNumber = await contract.callStatic.fetchPrice();\n    const calcValue =\n      price.div(BigNumber.from(10).pow(18 - erc20Token.decimal)) || BigNumber.from(0);\n\n    if (!value.value.eq(calcValue)) {\n      setValue({\n        isLoading: false,\n        value: calcValue,\n      });\n    }\n\n  }, [account, activeChainId, core, erc20Token.decimal, token, value.value]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch price: ${err}`));\n    }\n  }, [core.isUnlocked, fetchValue]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport useCore from '../useCore';\n\nimport useGetARTHInStabilityPool from './stabilityPool/useGetARTHInStabilityPool';\nimport useARTHCirculatingSupply from './useARTHCirculatingSupply';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n  percent: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({\n    isLoading: true,\n    value: BigNumber.from(0),\n    percent: BigNumber.from(0),\n  });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const arthCirculatingSupply = useARTHCirculatingSupply();\n  const arthInStabilityPool = useGetARTHInStabilityPool(contractPrefix);\n\n  const fetchValue = useCallback(async () => {\n    if (!account || arthCirculatingSupply.value.lte(0)) {\n      setValue({ isLoading: false, value: BigNumber.from(0), percent: BigNumber.from(0) });\n      return;\n    }\n\n    if (arthCirculatingSupply.isLoading || arthInStabilityPool.isLoading) {\n      return;\n    }\n\n    const percent = arthInStabilityPool.value\n      .mul(BigNumber.from(10).pow(18))\n      .div(arthCirculatingSupply.value);\n    setValue({ isLoading: false, value: arthInStabilityPool.value, percent: percent });\n  }, [account, arthCirculatingSupply, arthInStabilityPool]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch arth in circulating supply with %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.totalLUSDDeposits();\n    setValue({ isLoading: false, value: value });\n  }, [core, contractPrefix, account]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch getDepositorETHGain() for ${contractPrefix}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport useCore from '../useCore';\n\nimport useGetEntireSystemCollateral from './troveManager/useGetEntireSystemCollateral';\nimport useCollateralPriceFeed from './useCollateralPriceFeed';\nimport { useGetActiveChainId } from \"../../state/chains/hooks\";\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n  gmuValue: BigNumber;\n};\n\nexport default (token: string, contractPrefix: string) => {\n  const [value, setValue] = useState<State>({\n    isLoading: true,\n    value: BigNumber.from(0),\n    gmuValue: BigNumber.from(0),\n  });\n\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n  const { account } = useWallet();\n  const collateralGMUPrice = useCollateralPriceFeed(token, contractPrefix);\n  const entireSystemCollateral = useGetEntireSystemCollateral(contractPrefix);\n  const erc20Token = core.tokens(token, chainId);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0), gmuValue: BigNumber.from(0) });\n      return;\n    }\n\n    if (collateralGMUPrice.isLoading || entireSystemCollateral.isLoading) {\n      return;\n    }\n\n    const gmuValue = entireSystemCollateral.value\n      .mul(collateralGMUPrice.value)\n      .div(BigNumber.from(10).pow(18 + (18 - (18 - erc20Token.decimal))))\n\n    setValue({ isLoading: false, value: entireSystemCollateral.value, gmuValue: gmuValue });\n  }, [account, collateralGMUPrice.isLoading, collateralGMUPrice.value, entireSystemCollateral.isLoading, entireSystemCollateral.value, erc20Token.decimal]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch arth in circulating supply with %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Tooltip, withStyles } from '@material-ui/core';\n\nimport theme from '../../index';\nimport IconLoader from '../IconLoader';\n\ntype props = {\n  toolTipText?: string;\n  className?: string;\n};\n\nconst HtmlTooltip = withStyles(() => ({\n  tooltip: {\n    backgroundColor: theme.color.dark[200],\n    color: 'white',\n    fontWeight: 300,\n    fontSize: '13px',\n    borderRadius: '6px',\n    padding: '20px',\n  },\n}))(Tooltip);\n\nconst ToolTip: React.FC<props> = (props) => {\n  const { toolTipText = 'hello', className = '' } = props;\n\n  const [open, setOpen] = React.useState<boolean>(false);\n\n  const show = () => {\n    setOpen(true);\n  };\n\n  const hide = () => {\n    setOpen(false);\n  };\n\n  return (\n    <HtmlTooltip\n      title={\n        <React.Fragment>\n          <ToolTipFont>{toolTipText}</ToolTipFont>\n        </React.Fragment>\n      }\n      aria-label=\"add\"\n      disableHoverListener\n      onMouseEnter={() => show()}\n      onClick={() => show()}\n      onMouseLeave={() => hide()}\n      open={open || false}\n    >\n      <div className=\"single-line-center-center\">\n        <IconLoader iconName={'InfoToolTip'} className=\"pointer m-l-4\" />\n      </div>\n    </HtmlTooltip>\n  );\n};\n\nexport default ToolTip;\n\nconst ToolTipFont = styled.p`\n  padding: 0;\n  margin: 0;\n`;\n","import { BigNumber } from 'ethers';\nimport { formatUnits, parseUnits } from 'ethers/lib/utils';\n\nimport ERC20 from '../protocol/ERC20';\n\nexport const getDisplayBalance = (balance: BigNumber, decimals = 18, fractionDigits = 3) => {\n  const formattedBalance: string = getBalance(balance, decimals);\n  const decimalsPointIndex = formattedBalance.indexOf('.');\n  if (decimalsPointIndex === -1) return formattedBalance;\n  return (\n    formattedBalance.slice(0, decimalsPointIndex) +\n    '.' +\n    formattedBalance.slice(decimalsPointIndex + 1, decimalsPointIndex + 1 + fractionDigits)\n  );\n};\n\nexport const getFullDisplayBalance = (balance: BigNumber, decimals = 18) => {\n  return getDisplayBalance(balance, decimals);\n};\n\nexport const getDisplayBalanceToken = (\n  balance: BigNumber,\n  token: ERC20,\n  fractionDigits = 3,\n) => {\n  return getDisplayBalance(balance, token.decimal, fractionDigits);\n};\n\nexport function getBalance(balance: BigNumber, decimals = 18): string {\n  try {\n    return formatUnits(balance, decimals);\n  } catch (err) {\n    return '0';\n  }\n}\n\nexport const truncateMiddle = function (\n  fullStr: string = '12345678922500025',\n  strLen: number,\n  separator?: string,\n) {\n  if (fullStr.length <= strLen) return fullStr;\n\n  separator = separator || '...';\n\n  var sepLen = separator.length,\n    charsToShow = strLen - sepLen,\n    frontChars = Math.ceil(charsToShow / 3),\n    backChars = Math.floor(charsToShow / 3);\n\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n\nexport const formatToBN = (value: number | string, decimals = 18): BigNumber => {\n  try {\n    const [beforeDecimals, afterDecimal] = `${value}`.split('.');\n\n    const beforeDecimalsPrecisionText = beforeDecimals?.slice(0, 18) || '0';\n    const afterDecimalsPrecisionText = afterDecimal?.slice(0, decimals) || '0';\n    const fixedPrecisionValue = `${beforeDecimalsPrecisionText}.${afterDecimalsPrecisionText}`;\n\n    return BigNumber.from(parseUnits(`${fixedPrecisionValue}`, decimals));\n  } catch (error) {\n    return BigNumber.from('0');\n  }\n};\n","import { BigNumber } from 'ethers';\nimport Numeral from 'numeral';\nimport React, { useMemo } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport useGetIsFrontendRegistered from '../../hooks/state/borrowerOperations/useGetIsFrontendRegistered';\nimport useGetStabilityFeeAndToken from '../../hooks/state/governance/useGetStabilityFee';\nimport useLinkedListSize from '../../hooks/state/sortedTroves/useGetLinkedListSize';\nimport useGetBorrowingFeeRateWithDecay from '../../hooks/state/troveManager/useGetBorrowingFeeRateWithDecay';\nimport useGetEntireSystemCollateral from '../../hooks/state/troveManager/useGetEntireSystemCollateral';\nimport useGetEntireSystemDebt from '../../hooks/state/troveManager/useGetEntireSystemDebt';\nimport useGetIsRecoveryMode from '../../hooks/state/troveManager/useGetIsRecoveryMode';\nimport useGetRedemptionFeeRateWithDecay from '../../hooks/state/troveManager/useGetRedemptionFeeRateWithDecay';\nimport useGetTotalCollateralRatio from '../../hooks/state/troveManager/useGetTotalCollateralRatio';\nimport useTotalSupply from '../../hooks/state/useARTHCirculatingSupply';\nimport useCollateralPriceFeed from '../../hooks/state/useCollateralPriceFeed';\nimport useGetARTHInStabilityPoolWithPercent from '../../hooks/state/useGetARTHInStabilityPoolWithPercent';\nimport useGetCollateralWithGMUValue from '../../hooks/state/useGetCollateralWithGMUValue';\nimport { DECIMALS_18 } from '../../protocol/constants';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport ToolTip from '../../theme/components/Tooltip';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport { troveDetails } from '../../utils/tokenDetails';\nimport useCore from \"../../hooks/useCore\";\n\ntype Props = {\n  trove: string;\n};\n\nconst LoanInfo = ({ trove }: Props) => {\n  const core = useCore();\n  const totalSupply = useTotalSupply();\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n  const tvl = useGetCollateralWithGMUValue(troveDetail.depositToken, troveDetail.contractPrefix);\n  const isRecoveryMode = useGetIsRecoveryMode(trove);\n  const vaultLinkedListSize = useLinkedListSize(troveDetail.contractPrefix);\n  const stabiltyFee = useGetStabilityFeeAndToken(troveDetail.contractPrefix);\n  const entireSystemDebt = useGetEntireSystemDebt(troveDetail.contractPrefix);\n  const collateralGMUPrice = useCollateralPriceFeed(troveDetail.depositToken, troveDetail.contractPrefix);\n  const totalCollteralRatio = useGetTotalCollateralRatio(trove);\n  const isFrontEndRegistered = useGetIsFrontendRegistered(troveDetail.contractPrefix);\n  const borrowingFeeRate = useGetBorrowingFeeRateWithDecay(troveDetail.contractPrefix);\n  const redemptionFeeRate = useGetRedemptionFeeRateWithDecay(troveDetail.contractPrefix);\n  const entireSystemCollateral = useGetEntireSystemCollateral(troveDetail.contractPrefix);\n  const amountOfARTHInStabilityPool = useGetARTHInStabilityPoolWithPercent(\n    troveDetail.contractPrefix,\n  );\n  const erc20Token = core.tokens(troveDetail.depositToken, activeChainId);\n\n  const recoveryModelPriceThreshold = useMemo(() => {\n    if (\n      collateralGMUPrice.isLoading ||\n      entireSystemCollateral.isLoading ||\n      entireSystemDebt.isLoading\n    )\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (collateralGMUPrice.value.lte(0) || entireSystemDebt.value.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    if (!isRecoveryMode.value) {\n      const thresholdCR = DECIMALS_18.mul(troveDetail.crParameters.mcr).div(10000);\n\n      return {\n        isLoading: false,\n        value: thresholdCR\n          .mul(entireSystemDebt.value)\n          .div(entireSystemCollateral.value)\n          .div(100)\n          .div(BigNumber.from(10).pow(18 - erc20Token.decimal)),\n      };\n    }\n\n    const thresholdCR = DECIMALS_18.mul(troveDetail.crParameters.ccr).div(10000);\n    return {\n      isLoading: false,\n      value: thresholdCR.mul(entireSystemDebt.value).div(entireSystemCollateral.value).div(100),\n    };\n  }, [entireSystemDebt, isRecoveryMode, collateralGMUPrice, entireSystemCollateral]);\n\n  return (\n    <div className=\"material-primary\">\n      <TextWrapper className={'m-b-12'} text={'Protocol Statistics'} fontWeight={600} />\n\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'TVL'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The Total Value Locked (TVL) is the total value of ${troveDetail.depositToken.toUpperCase()} locked as collateral in the system, given in ${troveDetail.trove.toUpperCase()} and $GMU.`}\n          />\n        </div>\n\n        {tvl.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={\n              Numeral(getDisplayBalance(tvl.value, 18, 6)).format('0,0.000a') +\n              ` ${troveDetail.trove.toUpperCase()}` +\n              ' (' +\n              Numeral(getDisplayBalance(tvl.gmuValue, 18, 6)).format('0,0.000a') +\n              ' $GMU)'\n            }\n            fontWeight={600}\n          />\n        )}\n      </div>\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={`${troveDetail.trove.toUpperCase()} Price`} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The current price of GMU Value of ${troveDetail.trove.toUpperCase()}.`}\n          />\n        </div>\n\n        {collateralGMUPrice.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={\n              Numeral(getDisplayBalance(collateralGMUPrice.value, 18, 6)).format('0,0.000') +\n              ' $GMU'\n            }\n            fontWeight={600}\n          />\n        )}\n      </div>\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper\n            text={`Loans with ${troveDetail.trove.toUpperCase()}`}\n            Fcolor={'#FFFFFF88'}\n          />\n          <ToolTip\n            toolTipText={`The total No. of active Loans for ${troveDetail.trove.toUpperCase()} in the Protocol.`}\n          />\n        </div>\n        {vaultLinkedListSize.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper text={vaultLinkedListSize.value.toString()} fontWeight={600} />\n        )}\n      </div>\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'ARTH Supply'} Fcolor={'#FFFFFF88'} />\n          <ToolTip toolTipText={`The total ARTH minted by the Protocol.`} />\n        </div>\n        {totalSupply.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={Numeral(getDisplayBalance(totalSupply.value, 18, 6)).format('0,0.000a')}\n            fontWeight={600}\n          />\n        )}\n      </div>\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'ARTH Debt'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The total Debt minted by the loans for ${troveDetail.trove.toUpperCase()}.`}\n          />\n        </div>\n        {entireSystemDebt.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={Numeral(getDisplayBalance(entireSystemDebt.value, 18, 6)).format('0,0.000a')}\n            fontWeight={600}\n          />\n        )}\n      </div>\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'ARTH in Stability Pool'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The total ARTH currently held in the Stability Pool, expressed as an amount and a fraction of the ARTH Circulating Supply.`}\n          />\n        </div>\n        {amountOfARTHInStabilityPool.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={\n              Numeral(getDisplayBalance(amountOfARTHInStabilityPool.value, 18, 6)).format(\n                '0,0.000a',\n              ) +\n              ' (' +\n              Numeral(getDisplayBalance(amountOfARTHInStabilityPool.percent, 18, 3)).format(\n                '0,0.000%',\n              ) +\n              ')'\n            }\n            fontWeight={600}\n          />\n        )}\n      </div>\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'Total Collateral Ratio'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The ratio of the GMU value of the entire system collateral at the current ${troveDetail.trove.toUpperCase()}/ARTH price, to the entire system debt.`}\n          />\n        </div>\n        {totalCollteralRatio.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={\n              vaultLinkedListSize.value.gt(0)\n                ? Numeral(getDisplayBalance(totalCollteralRatio.value, 18, 6)).format(\n                  '0,0.000%',\n                )\n                : '0%'\n            }\n            fontWeight={600}\n          />\n        )}\n      </div>\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'Recovery Mode'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`Recovery Mode is activated when the Total Collateral Ratio (TCR) falls below 150%. When active,\n              your loan can be liquidated if its collateral ratio is below the TCR. The maximum collateral\n              you can lose from liquidation is capped at 110% of your loan's debt. Operations are also restricted\n              that would negatively impact the TCR.`}\n          />\n        </div>\n        {isRecoveryMode.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper text={isRecoveryMode.value ? 'Yes' : 'No'} fontWeight={600} />\n        )}\n      </div>\n      <div className=\"single-line-center-between m-b-32\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper\n            text={\n              !isRecoveryMode.value\n                ? 'Recovery Mode Price Threshold'\n                : `Normal Mode Price Threshold`\n            }\n            Fcolor={'#FFFFFF88'}\n          />\n          <ToolTip\n            toolTipText={\n              !isRecoveryMode.value\n                ? `The GMU value of ${troveDetail.trove.toUpperCase()} below which the Total Collateral Ratio will drop below 150% and the system will enter Recovery Mode.`\n                : `The GMU value of ${troveDetail.trove.toUpperCase()} above which the Total Collateral Ratio will go above 150% and the system will enter Normal Mode.`\n            }\n          />\n        </div>\n        {recoveryModelPriceThreshold.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={\n              '~' +\n              Numeral(getDisplayBalance(recoveryModelPriceThreshold.value, 18, 3)).format(\n                '0,0.000',\n              ) +\n              ' $GMU'\n            }\n            fontWeight={600}\n            align={'right'}\n          />\n        )}\n      </div>\n      <TextWrapper className={'m-b-12'} text={'Fees'} fontWeight={600} />\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'One-time borrowing fee'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The one-time borrowing fee is a one-off fee charged as a percentage of the borrowed amount (in ARTH) and is part of a loan's debt. The fee varies between 0.5% and 5% depending on ARTH redemption volumes.`}\n          />\n        </div>\n        {borrowingFeeRate.isLoading || isRecoveryMode.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={\n              isRecoveryMode.value\n                ? '0%'\n                : Numeral(getDisplayBalance(borrowingFeeRate.value, 18, 6)).format('0,0.000%')\n            }\n            fontWeight={600}\n          />\n        )}\n      </div>\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'Redemption fee'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The redemption fee is charged as a percentage of the redeemed ${troveDetail.depositToken.toUpperCase()}. The redemption fee is set algorithimatically based on demand and starts at 0.5%.`}\n          />\n        </div>\n        {redemptionFeeRate.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={Numeral(getDisplayBalance(redemptionFeeRate.value, 18, 6)).format('0,0.000%')}\n            fontWeight={600}\n          />\n        )}\n      </div>\n      <div className=\"single-line-center-between m-b-32\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'MAHA fee'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The MAHA fee is an extra fee charged during redemption as a percentage of the redeemed ${troveDetail.trove.toUpperCase()} in MAHA. This fee is controlled by governance.`}\n          />\n        </div>\n        {stabiltyFee.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={Numeral(getDisplayBalance(stabiltyFee.value, 18, 6)).format('0,0.000%')}\n            fontWeight={600}\n          />\n        )}\n      </div>\n      <TextWrapper text={'Frontend'} fontWeight={600} className=\"m-b-16\" />\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'Share of one-time fee'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`A rate by the Frontend Operator that determines the fraction of borrowing fee that will be paid out to the Frontend operated by using this Frontend. Remaining share of borrowing fee is paid out to the Ecosystem Fund.`}\n          />\n        </div>\n        {isFrontEndRegistered.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={isFrontEndRegistered.isRegistered ? '50.000%' : '0.000%'}\n            fontWeight={600}\n          />\n        )}\n      </div>\n      {/* <div className=\"single-line-center-between m-b-8\">\n        <TextWrapper\n          toolTipText={\n            `A rate between 0 and 100% set by the Frontend Operator. It determines how much of the earnings from the Stability Pool will be payed out to the owner of the deposit.`\n          }\n          text={'Kickback Rate'}\n          Fcolor={'#FFFFFF88'}\n        />\n        {\n          frontEndKickback.isLoading\n            ? <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n            : <TextWrapper\n              text={\n                Numeral(getDisplayBalance(frontEndKickback.value.kickbackRate, 18, 3)).format('0,0.000%')\n              }\n              fontWeight={600}\n            />\n        }\n      </div> */}\n    </div>\n  );\n};\n\nexport default LoanInfo;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { AppState } from '../../../state';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (token: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n\n  const entireSystemDebt = useSelector((app: AppState) => app.analytics.entireSystemDebt);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    setValue({ isLoading: false, value: entireSystemDebt[token] || BigNumber.from(0) });\n  }, [account, entireSystemDebt, token]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch system debt: ${err}`));\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue]);\n\n  return value;\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  isRegistered: boolean;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, isRegistered: false });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const activeChainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, isRegistered: false });\n      return;\n    }\n\n    const contract = core.getBorrowerOperations(contractPrefix, activeChainId);\n    const flag = await contract.frontEnds(core.config('frontEndAddress', activeChainId));\n    setValue({ isLoading: false, isRegistered: flag });\n  }, [core, contractPrefix, account]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch frontend registration status %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport IconLoader from '../../theme/components/IconLoader';\n\nexport interface InputProps {\n  dropDownValues: string[];\n  ondropDownValueChange: (data: string) => void;\n}\n\nconst CustomDropDown: React.FC<InputProps> = (props) => {\n  const { dropDownValues, ondropDownValueChange } = props;\n  return (\n    <CustomDropDownContainer>\n      {dropDownValues.map((item, index) => {\n        return (\n          <CustomDropDownLi\n            onClick={() => {\n              ondropDownValueChange(item);\n            }}\n            key={index}\n          >\n            <IconLoader iconName={item} iconType={'tokenSymbol'} width={24} height={24} />\n            <CustomDropDownLiText>{item}</CustomDropDownLiText>\n          </CustomDropDownLi>\n        );\n      })}\n    </CustomDropDownContainer>\n  );\n};\n\nconst CustomDropDownContainer = styled.div`\n  position: absolute;\n  top: 50px;\n  right: 0;\n  z-index: 13;\n  background: #1f1e1e;\n  border-radius: 6px;\n  overflow: hidden;\n`;\n\nconst CustomDropDownLi = styled.div`\n  display: flex;\n  flex-direction: row;\n  height: 48px;\n  padding: 0 35px 0 12px;\n  align-items: center;\n\n  &:hover {\n    background: rgba(62, 62, 62, 0.31);\n  }\n`;\n\nconst CustomDropDownLiText = styled.span`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.64);\n  margin-left: 5px;\n`;\n\nexport default CustomDropDown;\n","export const NumberInputRegex = /^\\d+(\\.\\d*)?$/;\nexport const mediatoryRegex = /^[0]+\\d+(\\.\\d+)?$/;\nexport const RestrictDecimalsDigitsInputRegex = /^[0-9]{0,18}(\\.[0-9]{0,6})?$/;\nexport const RestrictDecimalsDigitsInputRegexSlippage = /^[0-9]{0,3}(\\.[0-9]{0,3})?$/;\n\nexport const ValidateNumber = (val: string) => {\n  return NumberInputRegex.test(val);\n};\n\nexport const checkForAfterDecimalDigits = (val: string, decimals = 6) => {\n  let regex: RegExp = /^[0-9]{0,14}(\\.[0-9]{0,6})?$/;\n\n  if (decimals === 8) regex = /^[0-9]{0,14}(\\.[0-9]{0,8})?$/;\n  else if (decimals === 9) regex = /^[0-9]{0,14}(\\.[0-9]{0,9})?$/;\n  else if (decimals === 18) regex = /^[0-9]{0,14}(\\.[0-9]{0,18})?$/;\n\n  return regex.test(val);\n};\n\nexport const checkForAfterDecimalDigitsSlippage = (val: string) => {\n  return RestrictDecimalsDigitsInputRegexSlippage.test(val);\n};\n\nexport const initZeroCheck = (val: string) => {\n  return mediatoryRegex.test(val);\n};\n\nexport const removeLeadZeros = (val: string) => {\n  while (val.charAt(0) === '0') val = val.slice(1);\n  return val;\n};\n\nexport const correctString = (val: string) => {\n  if (initZeroCheck(val)) return removeLeadZeros(val);\n  return val;\n};\n","import React, { CSSProperties, useCallback, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport { InputBase } from '@material-ui/core';\n\nimport IconLoader from '../../theme/components/IconLoader';\nimport CustomDropDown from '../CustomDropDown';\n\nimport { ValidateNumber, checkForAfterDecimalDigits, correctString } from './RegexValidation';\n\ntype props = {\n  ILabelValue: string;\n  IBalanceValue: string;\n  showBalance?: boolean;\n  ILabelInfoValue?: string;\n  value?: string;\n  warningMsg?: string\n  DefaultValue: string;\n  LogoSymbol: string;\n  hasDropDown?: boolean;\n  disabled?: boolean;\n  SymbolText: string;\n  setText?: (val: string) => void;\n  inputMode?: 'none' | 'text' | 'tel' | 'url' | 'email' | 'numeric' | 'decimal' | 'search';\n  tagText?: string;\n  onTagTextClick?: () => void;\n  dropDownValues?: string[] | any;\n  ondropDownValueChange?: (data: string) => void;\n  multiIcons?: boolean;\n  symbols?: string[];\n  dontShowBackgroundContainer?: boolean;\n  href?: string;\n  to?: string;\n  Istate?: 'default' | 'error';\n  IWarningstate?: 'default' | 'error' | 'warning';\n  msg?: string;\n  DisableMsg?: string;\n  errorCallback?: (flag: boolean) => void;\n  isBalanceLoading?: boolean;\n  tokenDecimals?: number;\n  isLpToken?: boolean;\n};\n\ninterface ICStatesInterface {\n  IState: 'default' | 'error' | 'warning';\n  IMsg: string;\n}\n\nconst CustomInputContainer: React.FC<props> = (props) => {\n  const {\n    ILabelValue,\n    IBalanceValue,\n    showBalance = true,\n    ILabelInfoValue,\n    DefaultValue,\n    LogoSymbol,\n    hasDropDown = false,\n    SymbolText,\n    tagText = '',\n    dropDownValues,\n    ondropDownValueChange,\n    multiIcons = false,\n    symbols,\n    disabled = false,\n    Istate = 'default',\n    msg = '',\n    DisableMsg = '',\n    IWarningstate = 'default',\n    warningMsg = '',\n    isBalanceLoading = false,\n    tokenDecimals = 6,\n    isLpToken = false,\n  } = props;\n\n  const [modalOpen, setModalOpen] = useState<boolean>(false);\n  const [ICStates, setICStates] = useState<ICStatesInterface>({ IState: Istate, IMsg: msg });\n  const [ICWarningStates, setICWarningStates] = useState<ICStatesInterface>({\n    IState: IWarningstate,\n    IMsg: warningMsg,\n  });\n\n  const checkForErrorAndWarning = useCallback(async (val: string) => {\n    const Default: ICStatesInterface = {\n      IState: 'default',\n      IMsg: '',\n    };\n\n    if (props.errorCallback) {\n      if (Number(val) > Number(IBalanceValue)) {\n        const temp: ICStatesInterface = {\n          IState: 'error',\n          IMsg: 'Amount cannot be more than your balance.',\n        };\n        setICStates(temp);\n        props.errorCallback(true);\n      } else {\n        props.errorCallback(false);\n        setICStates(Default);\n      }\n    }\n\n    let DigitsStatus = true;\n    if (!checkForAfterDecimalDigits(val, tokenDecimals)) {\n      const temp: ICStatesInterface = {\n        IState: 'warning',\n        IMsg: `Only 14 digits before decimal and ${tokenDecimals} digits after decimal is allowed.`,\n      };\n      setICWarningStates(temp);\n      DigitsStatus = false;\n    } else {\n      setICWarningStates(Default);\n    }\n\n    return DigitsStatus;\n  }, [IBalanceValue, props, tokenDecimals]);\n\n  useEffect(() => {\n    let temp = { IState: Istate, IMsg: msg };\n    setICStates(temp);\n  }, [Istate, msg]);\n\n  useEffect(() => {\n    checkForErrorAndWarning(DefaultValue);\n  }, [DefaultValue, LogoSymbol, IBalanceValue, checkForErrorAndWarning]);\n\n  const Redirection = () => {\n    if (props?.href) {\n      return (\n        <HrefLink href={props.href} target=\"__blank\">\n          <ILabelInfo>{ILabelInfoValue}</ILabelInfo>\n        </HrefLink>\n      );\n    } else if (props?.to) {\n      return (\n        <ToLink to={'/mint'}>\n          <ILabelInfo>{ILabelInfoValue}</ILabelInfo>\n        </ToLink>\n      );\n    } else {\n      return <ILabelInfo>{ILabelInfoValue}</ILabelInfo>;\n    }\n  };\n\n\n  const IConatinerStyle = () => {\n    let returnObj: CSSProperties = {};\n    if (props.dontShowBackgroundContainer) {\n      returnObj['padding'] = '0px';\n      returnObj['backgroundColor'] = 'transparent';\n    }\n    if (DisableMsg !== '') {\n      returnObj['opacity'] = '0.32';\n    }\n    return returnObj;\n  };\n\n  const onValueChange = (value: string) => {\n    if (value === '') {\n    } else {\n      if (!ValidateNumber(value)) return;\n    }\n\n    if (Number(value) && Number(value) <= 0) return;\n    checkForErrorAndWarning(value).then((data) => {\n      if (data) props?.setText(value.length > 1 ? correctString(value) : value);\n    });\n  };\n\n  return (\n    <div style={{ position: 'relative' }}>\n      {DisableMsg !== '' && (\n        <TotalDisable>\n          <DMsg>{DisableMsg}</DMsg>\n        </TotalDisable>\n      )}\n      <IConatiner style={IConatinerStyle()}>\n        <ILabelContainer>\n          <ILabelLeft>\n            <ILabel>{ILabelValue}</ILabel>\n            {ILabelInfoValue !== '' && Redirection()}\n          </ILabelLeft>\n          <ILabelRight>\n            {isBalanceLoading && showBalance ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              showBalance && (\n                <ILabelBalance>{`Balance  ${Number(\n                  IBalanceValue,\n                ).toLocaleString()}`}</ILabelBalance>\n              )\n            )}\n          </ILabelRight>\n        </ILabelContainer>\n        <IFieldConatiner className={`input-${ICStates.IState}`}>\n          <InputBase\n            inputMode={props?.inputMode}\n            placeholder={DefaultValue || '0'}\n            value={DefaultValue}\n            inputProps={{ 'aria-label': 'naked' }}\n            style={{\n              padding: '8px 12px',\n              color: '#FFFFFF',\n              flex: 1,\n              fontFamily: 'Inter !important',\n            }}\n            disabled={disabled}\n            type={'string'}\n            onChange={(event) => onValueChange(event.target.value)}\n          />\n          {tagText !== '' && (\n            <MaxTagConatiner\n              onClick={() => {\n                checkForErrorAndWarning(IBalanceValue.toString()).then((data) => {\n                  if (data) props?.setText(IBalanceValue.toString());\n                });\n              }}\n            >\n              {tagText}\n            </MaxTagConatiner>\n          )}\n          <IFieldRightContainer\n            onClick={() => {\n              if (hasDropDown) setModalOpen(!modalOpen);\n            }}\n          >\n            <IFieldRightContainerLogo>\n              {multiIcons && symbols ? (\n                <LLabel>\n                  {symbols.map((s, index) => (\n                    <IconLoader\n                      iconName={s}\n                      iconType={'tokenSymbol'}\n                      width={24}\n                      className={index === 0 ? '' : 'm-l--4'}\n                    />\n                  ))}\n                </LLabel>\n              ) : (\n                <IconLoader\n                  iconName={LogoSymbol}\n                  width={isLpToken ? 36 : 24}\n                  height={isLpToken ? 20 : 24}\n                  iconType={'tokenSymbol'}\n                />\n              )}\n            </IFieldRightContainerLogo>\n            <IFieldRightContainerText>{SymbolText}</IFieldRightContainerText>\n            {hasDropDown && (\n              <IFieldRightContainerDropDown>\n                <IconLoader iconName={'ArrowDown'} iconType={'arrow'} className=\"m-l-12\" />\n              </IFieldRightContainerDropDown>\n            )}\n            {modalOpen && hasDropDown && ondropDownValueChange && (\n              <BackgroundAbsolute\n                onClick={() => {\n                  setModalOpen(!modalOpen);\n                }}\n              />\n            )}\n            {modalOpen && hasDropDown && ondropDownValueChange && (\n              <CustomDropDown\n                dropDownValues={dropDownValues}\n                ondropDownValueChange={(data) => {\n                  onValueChange('');\n                  ondropDownValueChange(data);\n                }}\n              />\n            )}\n          </IFieldRightContainer>\n        </IFieldConatiner>\n        {ICStates.IMsg !== '' && (\n          <p className={`input-font-${ICStates.IState}`}>{ICStates.IMsg}</p>\n        )}\n        {ICWarningStates.IMsg !== '' && (\n          <p className={`input-font-warning`}>{ICWarningStates.IMsg}</p>\n        )}\n      </IConatiner>\n    </div>\n  );\n};\n\nexport default CustomInputContainer;\n\nconst TotalDisable = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.16);\n  box-sizing: border-box;\n  border-radius: 6px;\n  z-index: 12;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #ffffff29;\n`;\n\nconst DMsg = styled.p`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n  color: #ffffff;\n  margin-bottom: 0;\n`;\n\nconst HrefLink = styled.a`\n  z-index: 1;\n`;\n\nconst ToLink = styled(Link)`\n  z-index: 1;\n`;\n\nconst BackgroundAbsolute = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n  z-index: 11;\n`;\n\nconst IConatiner = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 8px;\n  padding: 12px;\n`;\n\nconst ILabelContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 12px;\n`;\n\nconst ILabelLeft = styled.div`\n  display: flex;\n  align-items: center;\n  flex: 1;\n`;\n\nconst ILabelRight = styled.div``;\n\nconst ILabel = styled.p`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.64);\n  margin-bottom: 0;\n`;\n\nconst ILabelInfo = styled.p`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 20px;\n  color: #f7653b;\n  margin-left: 5px;\n  margin-bottom: 0;\n  cursor: pointer;\n`;\n\nconst ILabelBalance = styled.p`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  text-align: right;\n  color: rgba(255, 255, 255, 0.64);\n  margin-bottom: 0;\n`;\n\nconst LLabel = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n\nconst IFieldConatiner = styled.div`\n  display: flex;\n  flex-direction: row;\n  background: #151414;\n  border-radius: 6px;\n  max-height: 44px;\n`;\n\nconst IFieldRightContainer = styled.div`\n  padding: 10px 12px;\n  background: #1f1e1e;\n  border-radius: 0 6px 6px 0;\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n`;\n\nconst MaxTagConatiner = styled.div`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  color: #f7653b;\n  padding: 10px 12px;\n  background: transparent;\n  border-radius: 0 6px 6px 0;\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n`;\n\nconst IFieldRightContainerLogo = styled.span``;\n\nconst IFieldRightContainerText = styled.span`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.64);\n  margin-left: 5px;\n`;\n\nconst IFieldRightContainerDropDown = styled.span`\n  margin-left: 5px;\n`;\n","import { createAction } from '@reduxjs/toolkit';\nimport { ChainId } from '@uniswap/sdk';\n\nexport interface SerializableTransactionReceipt {\n  to: string;\n  from: string;\n  contractAddress: string;\n  transactionIndex: number;\n  blockHash: string;\n  transactionHash: string;\n  blockNumber: number;\n  status?: number;\n}\n\nexport const addTransaction = createAction<{\n  chainId: ChainId;\n  hash: string;\n  from: string;\n  approval?: { tokenAddress: string; spender: string };\n  summary?: string;\n}>('transactions/addTransaction');\n\nexport const clearAllTransactions = createAction<{ chainId: ChainId }>(\n  'transactions/clearAllTransactions',\n);\n\nexport const finalizeTransaction = createAction<{\n  chainId: ChainId;\n  hash: string;\n  receipt: SerializableTransactionReceipt;\n}>('transactions/finalizeTransaction');\n\nexport const checkedTransaction = createAction<{\n  chainId: ChainId;\n  hash: string;\n  blockNumber: number;\n}>('transactions/checkedTransaction');\n","import { TransactionResponse } from '@ethersproject/providers';\nimport { useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { useAddPopup } from '../application/hooks';\nimport { AppDispatch, AppState } from '../index';\n\nimport { addTransaction, clearAllTransactions } from './actions';\nimport { TransactionDetails } from './reducer';\n\n/**\n * Helper that can take a ethers library transaction response and\n * add it to the list of transactions.\n */\nexport function useTransactionAdder(): (\n  response: TransactionResponse,\n  customData?: { summary?: string; approval?: { tokenAddress: string; spender: string } },\n) => void {\n  const { chainId, account } = useWallet();\n  const dispatch = useDispatch<AppDispatch>();\n  const addPopup = useAddPopup();\n\n  return useCallback(\n    (\n      response: TransactionResponse,\n      {\n        summary,\n        approval,\n      }: { summary?: string; approval?: { tokenAddress: string; spender: string } } = {},\n    ) => {\n      if (!account) return;\n      if (!chainId) return;\n\n      const { hash } = response;\n      if (!hash) {\n        throw Error('No transaction hash found.');\n      }\n\n      addPopup(\n        {\n          txn: {\n            hash,\n            loading: true,\n            success: false,\n            summary: summary,\n          },\n        },\n        hash,\n      );\n\n      dispatch(addTransaction({ hash, from: account, chainId, approval, summary }));\n    },\n    // eslint-disable-next-line\n    [dispatch, chainId, account],\n  );\n}\n\n// Returns all the transactions for the current chain.\nexport function useAllTransactions(): { [txHash: string]: TransactionDetails } {\n  const { chainId } = useWallet();\n  const state = useSelector<AppState, AppState['transactions']>((state) => state.transactions);\n\n  return chainId ? state[chainId] ?? {} : {};\n}\n\nexport function useIsTransactionPending(transactionHash?: string): boolean {\n  const transactions = useAllTransactions();\n  if (!transactionHash || !transactions[transactionHash]) {\n    return false;\n  }\n  return !transactions[transactionHash].receipt;\n}\n\n/**\n * Returns whether a transaction happened in the last day (86400 seconds * 1000 milliseconds / second)\n * @param tx to check for recency\n */\nexport function isTransactionRecent(tx: TransactionDetails): boolean {\n  return new Date().getTime() - tx.addedTime < 86_400_000;\n}\n\n// Returns whether a token has a pending approval transaction.\nexport function useHasPendingApproval(\n  tokenAddress: string | undefined,\n  spender: string | undefined,\n): boolean {\n  const allTransactions = useAllTransactions();\n  return useMemo(\n    () =>\n      typeof tokenAddress === 'string' &&\n      typeof spender === 'string' &&\n      Object.keys(allTransactions).some((hash) => {\n        const tx = allTransactions[hash];\n        if (!tx) return false;\n        if (tx.receipt) {\n          return false;\n        } else {\n          const approval = tx.approval;\n          if (!approval) return false;\n          return (\n            approval.spender === spender &&\n            approval.tokenAddress === tokenAddress &&\n            isTransactionRecent(tx)\n          );\n        }\n      }),\n    [allTransactions, spender, tokenAddress],\n  );\n}\n\nexport function useClearAllTransactions(): { clearAllTransactions: () => void } {\n  const { chainId } = useWallet();\n  const dispatch = useDispatch<AppDispatch>();\n  return {\n    clearAllTransactions: useCallback(() => dispatch(clearAllTransactions({ chainId })), [\n      chainId,\n      dispatch,\n    ]),\n  };\n}\n","export default (message: string): string => {\n  message = message.toLowerCase();\n\n  if (message.includes('trove does not exist or is closed')) return 'Loan not found';\n  if (message.includes(`requested redemption amount must be <= user's lusd token balance`))\n    return 'Requested amount is less than User balance.';\n  if (message.includes('user denied transaction')) return `Transaction was cancelled`;\n  if (message.includes('only one trove in the system'))\n    return `There should be atleast one active loan.`;\n  if (message.includes('paused')) return 'This action is paused.';\n  if (message.includes('cannot redeem when tcr < mcr'))\n    return 'Cannot redeem when Total Collateral Ratio < 110%.';\n  if (message.includes('redemptions are not allowed during bootstrap phase'))\n    return 'Cannot redeem in bootstrap phase.';\n  if (message.includes('is inactive')) return 'This action has been deactivated.';\n  if (message.includes('fee percentage must be between')) return 'Invalid fee percentage.';\n  if (message.includes('cannot withdraw while there are troves with icr < mcr'))\n    return 'Cannot withdraw when there are active loans with collateral ratio < 110%.';\n  if (message.includes('tag must be a registered front end, or the zero address'))\n    return 'Frontend must be registered.';\n  if (message.includes('kickback rate must be in range [0,1]'))\n    return 'Kickback must be between 0 and 100%.';\n  if (message.includes('cannot withdraw and add coll'))\n    return 'Cannot withdraw and add collateral at the same time.';\n  if (message.includes('not permitted during recovery mode'))\n    return 'This operation is not permitted in Recovery mode.';\n  if (message.includes('that would result in icr < mcr is not permitted'))\n    return 'Operations that results in Collateral Ratio < 100% are not permitted.';\n  if (message.includes('must leave trove with icr >= ccr'))\n    return 'Operations must result in Collateral Ratio > Critical collateral ratio';\n  if (message.includes(`cannot decrease your trove's icr in recovery mode`))\n    return 'This operation is not permitted in Recovery mode.';\n  if (message.includes(`that would result in tcr < ccr is not permitted`))\n    return 'Operations that results in Total collateral ratio < Critical collateral ratio are not permitted.';\n  if (message.includes('nothing to liquidate')) return 'Not under liquidation.';\n  if (message.includes('calldata address array must not be empty'))\n    return 'Cannot pass empty data.';\n  if (message.includes('unable to redeem any amount')) return 'Unable to redeem any amount.';\n  if (message.includes('fee would eat up all returned collateral'))\n    return 'Fee would eat up all returned collateral.';\n  if (message.includes(`requested redemption amount must be <= user's lusd token balance`))\n    return `Requested redemption amount must be <= user's ARTH token balance.`;\n  if (message.includes(`amount must be greater than zero`))\n    return `Amount must be greater than zero.`;\n  if (message.includes(`max fee percentage must be between 0.5% and 100`))\n    return `Max fee percentage must be between 0.5% and 100.`;\n  if (message.includes(`user must have a non-zero deposit`))\n    return `User must have a non-zero deposit.`;\n  if (message.includes(`user must have no deposit`)) return `User must have no deposit.`;\n  if (message.includes(`caller must have an active trove to withdraw ethgain to`))\n    return `Must have an active loan to withdraw gain to loan.`;\n  if (message.includes(`caller must have non-zero eth gain`)) return `Must have non-zero Gain.`;\n  if (message.includes(`there must be either a collateral change or a debt change`))\n    return `There must be either a collateral change or a debt change.`;\n  if (message.includes(`collateral withdrawal not permitted recovery mode`))\n    return `Collateral withdrawal not permitted Recovery Mode.`;\n  if (message.includes(`trove's net debt must be greater than minimum`))\n    return `Loan's net debt must be greater than minimum.`;\n  if (message.includes(`operation must leave trove with icr >= ccr`))\n    return `Operation must leave loan with ICR >= CCR.`;\n  if (message.includes(`fee exceeded provided maximum`))\n    return `Fee exceeded provided maximum.`;\n\n  // Fail safes like overflows etc.;\n  return 'Error';\n};\n","import React from 'react';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport {\n  Theme,\n  WithStyles,\n  createStyles,\n  makeStyles,\n  withStyles,\n} from '@material-ui/core/styles';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport IconLoader from '../IconLoader';\nimport TextWrapper from '../TextWrapper';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      margin: 0,\n      borderRadius: '12px 12px 0 0',\n      padding: theme.spacing(2),\n      color: 'white',\n      borderBottom: '1px solid rgba(255, 255, 255, 0.08)',\n    },\n    closeButton: {\n      position: 'absolute',\n      right: '20px',\n      top: '16px',\n      color: theme.palette.grey[500],\n    },\n  });\n\nexport interface DialogTitleProps extends WithStyles<typeof styles> {\n  id: string;\n  titleLogo?: React.ReactNode;\n  children: React.ReactNode;\n  onClose: () => void;\n  modalTitleStyle?: any;\n  closeButton?: boolean;\n  title: string;\n}\n\nconst DialogTitle = withStyles(styles)((props: DialogTitleProps) => {\n  const {\n    children,\n    classes,\n    onClose,\n    titleLogo,\n    modalTitleStyle,\n    closeButton,\n    title,\n    ...other\n  } = props;\n  return (\n    <MuiDialogTitle\n      style={modalTitleStyle}\n      disableTypography\n      className={classes.root}\n      {...other}\n    >\n      <div className=\"dialog-class width-100\">\n        {titleLogo && titleLogo}\n        <TextWrapper text={title} fontSize={18} fontWeight={600} />\n      </div>\n      {closeButton ? (\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n          <IconLoader iconName={'Cross'} iconType=\"misc\" />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles(() => ({\n  root: {\n    minWidth: 500,\n    background: 'linear-gradient(180deg, #48423E 0%, #373030 100%)',\n    borderTop: '1px solid rgba(255, 255, 255, 0.15)',\n    padding: '24px 32px',\n  },\n  dividers: {\n    borderTop: `1px solid rgba(255, 255, 255, 0.08)`,\n  },\n  '@media (max-width: 600px)': {\n    root: {\n      width: '100%',\n      minWidth: '350px',\n      maxHeight: '60%',\n      padding: '24px 16px',\n    },\n  },\n}))(MuiDialogContent);\n\ninterface props {\n  children: React.ReactNode;\n  title?: string;\n  handleClose?: Function;\n  open?: boolean;\n  titleLogo?: React.ReactNode;\n  modalContainerStyle?: any;\n  modalTitleStyle?: any;\n  modalBodyStyle?: any;\n  closeButton?: boolean;\n  mobile?: boolean;\n}\n\nconst useStyles = makeStyles({\n  root: {\n    background: 'linear-gradient(180deg, #48423e 0%, #373030 100%)',\n    boxShadow: '0 8px 16px -2px rgba(0, 0, 0, 0.12)',\n    borderRadius: '6px !important',\n  },\n  halfScreen: {},\n  customPaper: {},\n\n  '@media (max-width: 800px)': {\n    root: {\n      marginTop: '250px !important',\n      borderRadius: '6px 6px 0 0 !important',\n    },\n    halfScreen: {\n      height: 'auto',\n      maxHeight: 'calc(100vh - 72px)',\n      width: '100%',\n      borderRadius: '6px 6px 0px 0px !important',\n    },\n    customPaper: {\n      alignItems: 'flex-end',\n    },\n  },\n});\n\nconst Modal: React.FC<props> = ({\n  children,\n  title,\n  handleClose,\n  open,\n  titleLogo,\n  modalContainerStyle,\n  modalTitleStyle,\n  modalBodyStyle,\n  closeButton,\n  mobile = false,\n}) => {\n  const theme = useTheme();\n  const modalStyles = useStyles();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const [openModal, setOpen] = React.useState(open);\n\n  const handleCloseModal = () => {\n    if (handleClose) {\n      handleClose();\n    }\n  };\n  if (open !== openModal) {\n    setOpen(open);\n  }\n  let modalJsx = <div />;\n  if (openModal) {\n    modalJsx = (\n      <Dialog\n        style={modalContainerStyle}\n        fullScreen={fullScreen}\n        fullWidth={mobile}\n        onClose={handleCloseModal}\n        aria-labelledby=\"customized-dialog-title\"\n        open={openModal}\n        onBackdropClick={handleCloseModal}\n        classes={{\n          paper: modalStyles.root,\n          paperFullScreen: modalStyles.halfScreen,\n          scrollPaper: modalStyles.customPaper,\n        }}\n      >\n        {title && (\n          <DialogTitle\n            closeButton={closeButton}\n            modalTitleStyle={{\n              display: 'flex',\n              color: 'rgba(255, 255, 255, 0.88)',\n              alignItems: 'center',\n              justifyContent: 'center',\n              padding: '28px ',\n              ...modalTitleStyle,\n            }}\n            id=\"customized-dialog-title\"\n            onClose={handleCloseModal}\n            titleLogo={titleLogo}\n            title={title}\n          >\n            {title}\n          </DialogTitle>\n        )}\n        <DialogContent\n          style={{\n            ...modalBodyStyle,\n          }}\n          dividers\n        >\n          <div style={{}}>{children}</div>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n  return modalJsx;\n};\nexport default Modal;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useDepositWETH from '../../hooks/callbacks/useDepositWETH';\nimport useCore from '../../hooks/useCore';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport Button from '../../theme/components/Button';\nimport Modal from '../../theme/components/Modal';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport CustomInputContainer from '../CustomInputContainer';\nimport { ValidateNumber } from '../CustomInputContainer/RegexValidation';\n\ninterface IProps {\n  onCancel: () => void;\n  onDeposit?: () => void;\n}\n\nexport default (props: IProps) => {\n  const [val, setValue] = useState<string>('0');\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n\n  const { balance } = useWallet();\n  // @ts-ignore\n  const symbol: string = core.config('blockchainToken', activeChainId); // Change this for the collateral.\n\n  const decimals = BigNumber.from(10).pow(18);\n  const desposit = useDepositWETH(\n    symbol,\n    BigNumber.from(Number(val) * 1000)\n      .mul(decimals)\n      .div(1000),\n  );\n\n  return (\n    <Modal\n      closeButton\n      handleClose={props.onCancel}\n      open={true}\n      modalTitleStyle={{}}\n      modalContainerStyle={{}}\n      modalBodyStyle={{}}\n      title={`Wrap your tokens`}\n    >\n      <div>\n        <CustomInputContainer\n          ILabelValue={`${symbol} to convert`}\n          IBalanceValue={getDisplayBalance(BigNumber.from(balance), 18)}\n          showBalance={false}\n          ILabelInfoValue={''}\n          DefaultValue={String(val)}\n          LogoSymbol={symbol}\n          hasDropDown={false}\n          SymbolText={symbol}\n          setText={(t) => {\n            setValue(ValidateNumber(t) ? t : '0');\n          }}\n          inputMode={'decimal'}\n          tagText={'MAX'}\n          dontShowBackgroundContainer={true}\n          multiIcons={false}\n          errorCallback={(flag: boolean) => {\n            setIsInputFieldError(flag);\n          }}\n        />\n        <OneLine>\n          <div style={{ flex: 1 }} />\n          <OneLine>\n            <BeforeChip>Balance: {getDisplayBalance(BigNumber.from(balance), 18)}</BeforeChip>\n            <TagChips>{symbol}</TagChips>\n          </OneLine>\n        </OneLine>\n\n        <Grid container spacing={2} style={{ marginTop: '32px' }}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              text=\"Cancel\"\n              size={'lg'}\n              onClick={props.onCancel}\n              tracking_id={'convert_token'}\n              tracking_params={{ collateral: 'ETH', action: 'cancel' }}\n            />\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              loading={false}\n              text={'Deposit'}\n              size={'lg'}\n              onClick={() => desposit()}\n              disabled={isInputFieldError || Number(val) <= 0}\n              tracking_id={'convert_token'}\n              tracking_params={{ collateral: 'ETH', action: 'confirm', amount: Number(val) }}\n            />\n          </Grid>\n        </Grid>\n      </div>\n    </Modal>\n  );\n};\n\nconst OneLine = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n  justify-content: flex-start;\n  margin: 5px 0;\n`;\n\nconst BeforeChip = styled.span`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 150%;\n  letter-spacing: 0.08em;\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.64);\n  margin-right: 5px;\n`;\n\nconst TagChips = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 4px;\n  padding: 2px 8px;\n  font-style: normal;\n  font-weight: 300;\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.64);\n`;\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { useAddPopup } from '../../state/application/hooks';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport formatErrorMessage from '../../utils/formatErrorMessage';\nimport useCore from '../useCore';\n\nexport default function (symbol: string, amount: BigNumber) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const weth = core.contracts('WETH_WRAPPER', chainId);\n\n      try {\n        const response = await weth.deposit({ value: amount });\n\n        addTransaction(response, {\n          summary: `Wrap ${Number(\n            getDisplayBalance(amount, 18, 3),\n          ).toLocaleString()} ${symbol}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, chainId, amount, addTransaction, symbol, addPopup],\n  );\n\n  return action;\n}\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport ERC20 from '../../protocol/ERC20';\nimport { AppState } from '../../state';\nimport { useBlockNumber } from '../../state/application/hooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nconst useTokenBalanceOf = (token: ERC20, address: string) => {\n  const [balance, setBalance] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const balanceOf = useSelector(\n    (state: AppState) => state.token.balanceOf[token?.address || ''],\n  );\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n\n  const fetchBalance = useCallback(async () => {\n    if (!account) {\n      setBalance({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    if (balanceOf && balanceOf[core.myAccount] && core.myAccount === address) {\n      setBalance({ isLoading: false, value: balanceOf[core.myAccount] });\n      return;\n    }\n\n    const bal = await token.balanceOf(address);\n    setBalance({ isLoading: false, value: bal });\n  }, [account, token, address, balanceOf, core.myAccount]);\n\n  useEffect(() => {\n    if (!token || !token?.address) {\n      setBalance({ isLoading: true, value: BigNumber.from(0) });\n    } else if (core.isUnlocked && address) {\n      fetchBalance().catch((err) =>\n        console.error(\n          `Failed to fetch token balance of ${address} for ${token.address}: ${err.stack} `,\n        ),\n      );\n    }\n  }, [address, blockNumber, account, core.isUnlocked, fetchBalance, token]);\n\n  return balance;\n};\n\nexport default useTokenBalanceOf;\n","import ERC20 from '../../protocol/ERC20';\nimport useCore from '../useCore';\n\nimport useTokenBalanceOf from './useTokenBalanceOf';\n\nconst useTokenBalance = (token: ERC20) => {\n  const core = useCore();\n  return useTokenBalanceOf(token, core.myAccount);\n};\n\nexport default useTokenBalance;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { useGetActiveChainId } from '../state/chains/hooks';\n\nimport useCore from './useCore';\n\nconst useTokenDecimals = (token: string) => {\n  const core = useCore();\n  const [decimals, setDecimals] = useState(18);\n  const activeChainId = useGetActiveChainId();\n\n  const fetchdecimals = useCallback(async () => {\n    setDecimals(core.tokens(token, activeChainId).decimal);\n  }, [token, core.tokens]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchdecimals().catch((err) =>\n        console.error(`Failed to fetch token decimals for ${token}: ${err.stack} `),\n      );\n    }\n  }, [core.isUnlocked, fetchdecimals, token]);\n\n  return decimals;\n};\n\nexport default useTokenDecimals;\n","import React, { ReactElement } from 'react';\nimport styled from 'styled-components';\n\nimport theme from '../../index';\nimport IconLoader from '../IconLoader';\n\ninterface Iprops {\n  type: 'Warning' | 'Info' | 'Error';\n  msg: string | ReactElement;\n  className?: string;\n}\n\nconst InfoTip = (props: Iprops) => {\n  const { type, msg, className = '' } = props;\n\n  let color: string = '#FFFFFF';\n  if (type === 'Warning') {\n    color = '#FCB400';\n  } else if (type === 'Error') {\n    color = theme.color.red[300];\n  }\n\n  return (\n    <CustomBadgeAlert className={className}>\n      <IconLoader iconName={type} iconType={'infoTip'} />\n      <Text style={{ color: color }}>{msg}</Text>\n    </CustomBadgeAlert>\n  );\n};\n\nexport default InfoTip;\n\nconst CustomBadgeAlert = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  box-sizing: border-box;\n  border-radius: 4px;\n  padding: 8px;\n  display: flex;\n  align-items: flex-start;\n  width: 100%;\n`;\n\nconst Text = styled.div`\n  font-style: normal;\n  font-weight: 300;\n  font-size: 12px;\n  line-height: 130%;\n  color: #fcb400;\n  flex: 1;\n  padding-left: 10px;\n  margin-bottom: 0;\n`;\n","import config from '../config';\n\nexport const crParameters = (trove: string, chainId: number) => {\n  return config[chainId].troveStaticInfo.find((item) => item.trove === trove).crParameters;\n};\n\nexport const getDisplaycrParameters = (trove: string, chainId: number, type = 'trove') => {\n  const ratio = crParameters(trove, chainId);\n  const ccr = Math.ceil(ratio.ccr / 1000);\n  const mcr = Math.ceil(ratio.mcr / 1000);\n  return {\n    mcr: mcr,\n    ccr: ccr,\n  };\n};\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nimport Tick from '../../../assets/images/Tick.svg';\nimport Button from '../Button';\nimport IconLoader from '../IconLoader';\nimport CustomModal from '../Modal';\n\nexport interface InputProps {\n  modalOpen: boolean;\n  setModalOpen: () => void;\n\n  //title\n  title: string;\n\n  //Subtitle props\n  subTitle?: string;\n  subTitleLink?: string /* if want to redirect to other website only */;\n\n  //test below title and above subtitle\n  subsubTitle?: string;\n\n  //Buttons Props\n  buttonText?: string;\n  buttonType?: 'default' | 'transparent' | 'outlined' | 'rounded';\n  buttonHref?: string /* if want to redirect button to other website */;\n  buttonTo?: string /* if want to redirect to other page */;\n}\n\nconst SuccessModal: React.FC<InputProps> = (props) => {\n  const {\n    modalOpen,\n    setModalOpen,\n    title,\n    subTitle,\n    subTitleLink,\n    buttonText,\n    subsubTitle,\n    buttonType = 'transparent',\n    buttonHref,\n    buttonTo,\n  } = props;\n\n  let buttonRedirection: object;\n\n  if (buttonHref) {\n    buttonRedirection = {\n      href: buttonHref,\n    };\n  } else if (buttonTo) {\n    buttonRedirection = {\n      to: buttonTo,\n    };\n  } else {\n    buttonRedirection = {};\n  }\n\n  return (\n    <CustomModal\n      handleClose={() => setModalOpen()}\n      open={modalOpen}\n      modalTitleStyle={{}}\n      modalContainerStyle={{}}\n      modalBodyStyle={{}}\n    >\n      <MainContainer>\n        <CloseButton onClick={() => setModalOpen()}>\n          <IconLoader iconName=\"Cross\" iconType=\"misc\" />\n        </CloseButton>\n        <TickContainer>\n          <TickBackgroundWave />\n          <TickImg src={Tick} height={100} />\n        </TickContainer>\n        <ContentConatiner>\n          <ContentTitle>{title}</ContentTitle>\n          <ContentSubSubtitle>{subsubTitle}</ContentSubSubtitle>\n          <ContentSubtitle href={subTitleLink} target={'__blank'}>\n            {subTitle}\n          </ContentSubtitle>\n        </ContentConatiner>\n        {buttonText && (\n          <Button\n            text={buttonText}\n            size={'lg'}\n            variant={buttonType}\n            onClick={() => setModalOpen()}\n            {...buttonRedirection}\n          />\n        )}\n      </MainContainer>\n    </CustomModal>\n  );\n};\n\nexport default SuccessModal;\n\nconst TickAnimation = keyframes`\n  0%   {transform: scale(0)}\n  60%  {transform: scale(1.4)}\n  100% {transform: scale(1)}\n`;\n\nconst TickBackground = keyframes`\n  from {\n    transform: scale(0);\n    background: #20C97450;\n  }\n  to {\n    transform: scale(1);\n    background: #20C97400;\n  }\n`;\n\nconst CloseButton = styled.div`\n  position: absolute;\n  right: 32px;\n  top: 32px;\n  cursor: pointer;\n`;\n\nconst MainContainer = styled.div``;\n\nconst TickContainer = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  margin-top: 46px;\n  margin-bottom: 24px;\n  position: relative;\n`;\n\nconst TickImg = styled.img`\n  animation: ${TickAnimation} 0.5s linear;\n  z-index: 1;\n`;\n\nconst TickBackgroundWave = styled.div`\n  width: 300px;\n  height: 300px;\n  border-radius: 50%;\n  background: transparent;\n  position: absolute;\n  z-index: 0;\n  animation: ${TickBackground} 1s linear;\n`;\n\nconst ContentConatiner = styled.div`\n  text-align: center;\n  margin-bottom: 32px;\n`;\nconst ContentTitle = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  text-align: center;\n  color: rgba(255, 255, 255);\n  margin: 0 0 10px;\n`;\n\nconst ContentSubtitle = styled.a`\n  font-style: normal;\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 140%;\n  text-align: center;\n  color: #f7653b;\n  margin: 0;\n  cursor: pointer;\n  &:hover {\n    color: #f7653b;\n  }\n`;\n\nconst ContentSubSubtitle = styled.p`\n  font-style: normal;\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 140%;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.88);\n  margin-bottom: 4px;\n`;\n","import { BigNumberish } from '@ethersproject/bignumber';\nimport assert from 'assert';\nimport { BigNumber, Contract } from 'ethers';\n\nimport {\n  MAX_TRIALS_AT_ONCE,\n  MAX_UINT_256,\n  REDEEM_MAX_ITERATIONS,\n  ZERO_ADDRESS,\n} from '../../../protocol/constants';\n\ntype Hint = {\n  truncatedLUSDamount: BigNumber;\n  firstRedemptionHint: string;\n  partialRedemptionHintNICR: BigNumber;\n};\n\nfunction* generateTrials(totalNumberOfTrials: number): IterableIterator<number> {\n  assert(Number.isInteger(totalNumberOfTrials) && totalNumberOfTrials > 0);\n  while (totalNumberOfTrials) {\n    const numberOfTrials = Math.min(totalNumberOfTrials, MAX_TRIALS_AT_ONCE);\n    yield numberOfTrials;\n\n    totalNumberOfTrials -= numberOfTrials;\n  }\n}\n\nconst randomInteger = () => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);\n\nexport async function findHintsForNominalCollateralRatio(\n  nominalCollateralRatio: BigNumber,\n  sortedTroves: Contract,\n  hintHelpers: Contract,\n  troveManager: Contract,\n  ownAddress?: string,\n): Promise<[string, string]> {\n  const numberOfTroves = await troveManager.getTroveOwnersCount();\n  if (!numberOfTroves || numberOfTroves.lte(0)) {\n    return [ZERO_ADDRESS, ZERO_ADDRESS];\n  }\n\n  if (nominalCollateralRatio.eq(BigNumber.from(MAX_UINT_256))) {\n    return [ZERO_ADDRESS, await sortedTroves.getFirst()];\n  }\n\n  const totalNumberOfTrials = Math.ceil(10 * Math.sqrt(numberOfTroves));\n  const [firstTrials, ...restOfTrials]: any = generateTrials(totalNumberOfTrials);\n\n  const collectApproxHint = (\n    {\n      latestRandomSeed,\n      results,\n    }: {\n      latestRandomSeed: BigNumberish;\n      results: { diff: BigNumber; hintAddress: string }[];\n    },\n    numberOfTrials: number,\n  ) =>\n    hintHelpers\n      .getApproxHint(nominalCollateralRatio, numberOfTrials, latestRandomSeed)\n      .then(({ latestRandomSeed, ...result }: any) => ({\n        latestRandomSeed,\n        results: [...results, result],\n      }));\n\n  const { results } = await restOfTrials.reduce(\n    (p: any, numberOfTrials: number) =>\n      p.then((state: any) => collectApproxHint(state, numberOfTrials)),\n    collectApproxHint({ latestRandomSeed: randomInteger(), results: [] }, firstTrials),\n  );\n\n  const { hintAddress } = results.reduce((a: any, b: any) => (a.diff.lt(b.diff) ? a : b));\n\n  let [prev, next] = await sortedTroves.findInsertPosition(\n    nominalCollateralRatio,\n    hintAddress,\n    hintAddress,\n  );\n\n  if (ownAddress) {\n    // In the case of reinsertion, the address of the Trove being reinserted is not a usable hint,\n    // because it is deleted from the list before the reinsertion.\n    // \"Jump over\" the Trove to get the proper hint.\n    if (prev === ownAddress) {\n      prev = await sortedTroves.getPrev(prev);\n    } else if (next === ownAddress) {\n      next = await sortedTroves.getNext(next);\n    }\n  }\n\n  return prev === ZERO_ADDRESS\n    ? [next, next]\n    : next === ZERO_ADDRESS\n    ? [prev, prev]\n    : [prev, next];\n}\n\ntype RedeemptionHints = [BigNumber, string, string, string, BigNumber];\n\nexport async function findRedemptionHints(\n  amount: BigNumber,\n  sortedTroves: Contract,\n  hintHelpers: Contract,\n  troveManager: Contract,\n  priceFeed: Contract,\n\n  ownAddress?: string,\n): Promise<RedeemptionHints> {\n  const price = await priceFeed.callStatic.fetchPrice();\n\n  const {\n    firstRedemptionHint,\n    partialRedemptionHintNICR,\n    truncatedLUSDamount,\n  }: Hint = await hintHelpers.getRedemptionHints(amount, price, REDEEM_MAX_ITERATIONS);\n\n  const [\n    partialRedemptionUpperHint,\n    partialRedemptionLowerHint,\n  ] = partialRedemptionHintNICR.isZero()\n    ? [ZERO_ADDRESS, ZERO_ADDRESS]\n    : await findHintsForNominalCollateralRatio(\n        partialRedemptionHintNICR,\n        sortedTroves,\n        hintHelpers,\n        troveManager,\n        ownAddress,\n      );\n\n  return [\n    truncatedLUSDamount,\n    firstRedemptionHint,\n    partialRedemptionUpperHint,\n    partialRedemptionLowerHint,\n    partialRedemptionHintNICR,\n  ];\n}\n","import { BigNumber, ethers } from 'ethers';\nimport { useCallback, useMemo } from 'react';\n\nimport ERC20 from '../../protocol/ERC20';\nimport { useHasPendingApproval, useTransactionAdder } from '../../state/transactions/hooks';\nimport useAllowance from '../state/useAllowance';\n\nconst APPROVE_AMOUNT = ethers.constants.MaxUint256;\nconst APPROVE_BASE_AMOUNT = BigNumber.from('1000000000000000000000000');\n\nexport enum ApprovalState {\n  UNKNOWN,\n  NOT_APPROVED,\n  PENDING,\n  APPROVED,\n}\n\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\nfunction useApprove(\n  token: ERC20,\n  spender: string | undefined,\n): [ApprovalState, () => Promise<void>] {\n  const pendingApproval = useHasPendingApproval(token?.address, spender);\n  const currentAllowance = useAllowance(token, spender, pendingApproval);\n\n  // check the current approval status\n  const approvalState: ApprovalState = useMemo(() => {\n    // we might not have enough data to know whether or not we need to approve\n    if (!currentAllowance || !token || !spender) return ApprovalState.UNKNOWN;\n\n    // amountToApprove will be defined if currentAllowance is\n    return currentAllowance.lt(APPROVE_BASE_AMOUNT)\n      ? pendingApproval\n        ? ApprovalState.PENDING\n        : ApprovalState.NOT_APPROVED\n      : ApprovalState.APPROVED;\n  }, [currentAllowance, pendingApproval, token, spender]);\n\n  const addTransaction = useTransactionAdder();\n\n  const approve = useCallback(async (): Promise<void> => {\n    if (!token || !spender) return;\n\n    if (approvalState !== ApprovalState.NOT_APPROVED) {\n      console.error('approve was called unnecessarily');\n      return;\n    }\n\n    if (spender !== undefined) {\n      const response = await token.approve(spender, APPROVE_AMOUNT);\n      addTransaction(response, {\n        summary: `Approve ${token.symbol}`,\n        approval: {\n          tokenAddress: token.address,\n          spender: spender,\n        },\n      });\n    }\n  }, [approvalState, token, spender, addTransaction]);\n\n  return [approvalState, approve];\n}\n\nexport default useApprove;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport config from '../../config';\nimport ERC20 from '../../protocol/ERC20';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport useCore from '../useCore';\n\nconst useAllowance = (token: ERC20, spender: string, pendingApproval?: boolean) => {\n  const [allowance, setAllowance] = useState<BigNumber>(BigNumber.from(0));\n  const activeChainId = useGetActiveChainId();\n  const { account } = useWallet();\n  const core = useCore();\n\n  const fetchAllowance = useCallback(async () => {\n    if (!account || spender === undefined) return;\n    const allowance = await token.allowance(account, spender);\n    setAllowance(allowance);\n  }, [account, spender, token]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchAllowance().catch((err) =>\n        console.log(\n          `Failed to fetch allowance for ${token.symbol} ${account} ${spender}: ${err.stack}`,\n        ),\n      );\n\n      let refreshInterval = setInterval(fetchAllowance, config[activeChainId].refreshInterval);\n      return () => clearInterval(refreshInterval);\n    }\n  }, [account, activeChainId, core.isUnlocked, fetchAllowance, spender, token]);\n\n  useEffect(() => {\n    if (account && spender && token) {\n      fetchAllowance().catch((err) => console.log(`Failed to fetch allowance: ${err.stack}`));\n    }\n  }, [account, spender, token, pendingApproval, fetchAllowance]);\n\n  return allowance;\n};\n\nexport default useAllowance;\n","import { BigNumber } from 'ethers';\nimport React, { useMemo, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { Checkbox, CheckboxProps, FormControlLabel } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport useOpenTrove from '../../../hooks/callbacks/borrowerOperations/useOpenTrove';\nimport useApprove, { ApprovalState } from '../../../hooks/callbacks/useApprove';\nimport useCore from '../../../hooks/useCore';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\n\nconst OrangeCheckBox = withStyles({\n  root: {\n    color: 'rgba(255, 255, 255, 0.32)',\n    '&$checked': {\n      color: '#FF7F57',\n    },\n  },\n  checked: {\n    color: 'white',\n  },\n})((props: CheckboxProps) => <Checkbox {...props} />);\n\ninterface Iprops {\n  openModal: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n  selectedCollateralCoin: string;\n  selectedContractPrefix: string\n  totalDebt: BigNumber;\n  liquidationReserve: BigNumber;\n  borrowingFee: BigNumber;\n  borrowingFeeRate: BigNumber;\n  collateralAmount: BigNumber;\n}\n\nenum LoanTxState {\n  NOT_COMPLETED,\n  PENDING,\n  COMPLETED,\n}\n\nconst StepConfirmationModal = (props: Iprops) => {\n  const {\n    openModal,\n    onClose,\n    selectedCollateralCoin,\n    selectedContractPrefix,\n    totalDebt,\n    liquidationReserve,\n    borrowingFee,\n    borrowingFeeRate,\n    collateralAmount,\n    onSuccess,\n  } = props;\n\n  const [loanTxState, setLoanTxState] = useState<LoanTxState>(LoanTxState.NOT_COMPLETED);\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n\n  const [collatApproveStatus, approveCollateral] = useApprove(\n    core.tokens(selectedCollateralCoin, activeChainId),\n    core.getBorrowerOperations(selectedContractPrefix, activeChainId).address,\n  );\n\n  const isCollatApproved = useMemo(() => collatApproveStatus === ApprovalState.APPROVED, [\n    collatApproveStatus,\n  ]);\n  const isCollatApproving = useMemo(() => collatApproveStatus === ApprovalState.PENDING, [\n    collatApproveStatus,\n  ]);\n\n  const openTrove = useOpenTrove(\n    selectedContractPrefix,\n    borrowingFeeRate,\n    totalDebt.sub(liquidationReserve).sub(borrowingFee),\n    collateralAmount,\n  );\n\n  const handleButtonCallback = () => {\n    setLoanTxState(LoanTxState.COMPLETED);\n    const handler = setTimeout(() => {\n      onSuccess();\n    }, 1000);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  };\n\n  const handleButtonClick = () => {\n    setLoanTxState(LoanTxState.PENDING);\n    openTrove(handleButtonCallback, () => setLoanTxState(LoanTxState.NOT_COMPLETED));\n  };\n\n  return (\n    <Modal\n      title={'Follow Transactions Steps'}\n      open={openModal}\n      handleClose={() => onClose()}\n      closeButton\n    >\n      <div>\n        <div className=\"m-b-32\">\n          <CheckboxDiv>\n            <FormControlLabel\n              checked={isCollatApproved}\n              control={\n                <OrangeCheckBox\n                  icon={\n                    isCollatApproved ? (\n                      <IconLoader iconType=\"checkbox\" iconName=\"Empty\" />\n                    ) : (\n                      <StepNo className=\"tags\">1</StepNo>\n                    )\n                  }\n                  checkedIcon={<IconLoader iconType=\"checkbox\" iconName=\"GreenCheck\" />}\n                  size={'small'}\n                />\n              }\n              label={'Approve Transaction'}\n              labelPlacement=\"end\"\n            />\n          </CheckboxDiv>\n          <div style={{ margin: '-12px 0px 20px 31px' }}>\n            <TextWrapper\n              text={'Approve the transaction using your wallet.'}\n              fontSize={16}\n              Fcolor={'#FFFFFF88'}\n            />\n          </div>\n          <Button\n            onClick={approveCollateral}\n            disabled={isCollatApproving || isCollatApproved}\n            loading={isCollatApproving}\n            tracking_id=\"approve_collateral_loan\"\n            tracking_params={{ collateral: selectedCollateralCoin }}\n          >\n            {isCollatApproved ? 'Completed' : 'Complete Transaction'}\n          </Button>\n        </div>\n        <div className=\"m-b-40\">\n          <CheckboxDiv>\n            <FormControlLabel\n              checked={loanTxState === LoanTxState.COMPLETED}\n              control={\n                <OrangeCheckBox\n                  icon={\n                    loanTxState === LoanTxState.COMPLETED ? (\n                      <IconLoader iconType=\"checkbox\" iconName=\"Empty\" />\n                    ) : (\n                      <StepNo className=\"tags\">2</StepNo>\n                    )\n                  }\n                  checkedIcon={<IconLoader iconType=\"checkbox\" iconName=\"GreenCheck\" />}\n                  size={'small'}\n                />\n              }\n              label={'Open a position'}\n              labelPlacement=\"end\"\n            />\n          </CheckboxDiv>\n          <div style={{ margin: '-12px 0px 20px 31px' }}>\n            <TextWrapper\n              text={'This is the final transaction to open loan.'}\n              fontSize={16}\n              Fcolor={'#FFFFFF88'}\n            />\n          </div>\n          <Button\n            onClick={handleButtonClick}\n            disabled={\n              loanTxState === LoanTxState.COMPLETED ||\n              loanTxState === LoanTxState.PENDING ||\n              !isCollatApproved\n            }\n            loading={loanTxState === LoanTxState.PENDING}\n            tracking_id=\"open_loan\"\n            tracking_params={{\n              collateral: selectedCollateralCoin,\n              amount: Number(getDisplayBalance(collateralAmount, 18, 3)),\n            }}\n          >\n            {loanTxState === LoanTxState.COMPLETED ? 'Completed' : 'Complete Transaction'}\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default StepConfirmationModal;\n\nconst CheckboxDiv = styled.div`\n  background: transparent;\n  border-radius: 6px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.88);\n  margin: 15px 0 0 0;\n`;\n\nconst StepNo = styled.div`\n  width: 24px;\n  height: 24px;\n  font-size: 12px;\n  font-weight: 600;\n`;\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\nimport * as Sentry from \"@sentry/react\";\n\nexport default function (\n  contractPrefix: string,\n  borrowingFee: BigNumber,\n  debtAmount: BigNumber,\n  collateralAmount: BigNumber,\n) {\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n\n  return useCallback(\n    async (callback?: () => void, errorHandler?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(contractPrefix, activeChainId);\n\n        const [\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        ]: string[] = await findHintsForNominalCollateralRatio(\n          collateralAmount.mul(DECIMALS_18.mul(100)).div(debtAmount),\n          core.getSortedTroves(contractPrefix, activeChainId),\n          core.getHintHelper(contractPrefix, activeChainId),\n          core.getTroveManager(contractPrefix, activeChainId),\n          core.myAccount,\n        );\n\n        const tx = await contract.openTrove(\n          borrowingFee.add(BigNumber.from(10).pow(18).mul(1).div(100)).toString(), // Slippage in max fee.\n          debtAmount,\n          collateralAmount,\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n          core.config('frontEndAddress', activeChainId),\n        );\n\n        addTransaction(tx, {\n          summary: `Borrow ${Number(\n            getDisplayBalance(debtAmount, 18, 3),\n          ).toLocaleString()} ARTH using ${contractPrefix.toUpperCase()} as collateral.`,\n        });\n\n        const response = await tx.wait();\n\n        if (errorHandler && response.status !== 1) {\n          Sentry.captureException({\n            response,\n            contractPrefix,\n            borrowingFee,\n            debtAmount,\n            collateralAmount,\n          });\n          errorHandler();\n        }\n        if (callback && response.status === 1) callback();\n      } catch (e) {\n        Sentry.captureException({\n          e,\n          contractPrefix,\n          borrowingFee,\n          debtAmount,\n          collateralAmount,\n        });\n        if (errorHandler) {\n          errorHandler();\n        }\n\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      core,\n      contractPrefix,\n      activeChainId,\n      collateralAmount,\n      debtAmount,\n      borrowingFee,\n      addTransaction,\n      addPopup,\n    ],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport React, { useMemo, useState } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport Button from '../../../theme/components/Button';\nimport InfoTip from '../../../theme/components/InfoTip';\nimport Modal from '../../../theme/components/Modal';\nimport SuccessModal from '../../../theme/components/SuccesModal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTip from '../../../theme/components/Tooltip';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\n\nimport StepConfirmationModal from './StepConfirmationModal';\nimport useCore from '../../../hooks/useCore';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\n\ninterface Iprops {\n  selectedCollateralCoin: string;\n  selectedContractPrefix: string\n  openModal: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n  swapAmount: BigNumber;\n  entryPrice: BigNumber;\n  collateralValue: BigNumber;\n  collateralAmount: BigNumber;\n  liquidationPrice: BigNumber;\n  leverage: number | string;\n  collateralRatio: BigNumber;\n  borrowingFee: BigNumber;\n  totalDebt: BigNumber;\n  liquidationReserve: BigNumber;\n  borrowingFeeRate: BigNumber;\n}\n\nconst ConfirmLoanModal = (props: Iprops) => {\n  const {\n    selectedCollateralCoin,\n    selectedContractPrefix,\n    openModal,\n    onClose,\n    onSuccess,\n    entryPrice,\n    collateralValue,\n    collateralAmount,\n    liquidationPrice,\n    leverage,\n    collateralRatio,\n    borrowingFee,\n    totalDebt,\n    liquidationReserve,\n    borrowingFeeRate,\n  } = props;\n\n  const [openStepConfirmModal, setOpenStepConfirmModal] = useState<boolean>(false);\n  const [openSuccessModal, setOpenSuccessModal] = useState<boolean>(false);\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId()\n  const token = useMemo(() => core.tokens(selectedCollateralCoin, activeChainId), [activeChainId, core, selectedCollateralCoin])\n\n  return (\n    <>\n      <Modal title={'Confirm Loan'} open={openModal} handleClose={() => onClose()} closeButton>\n        <div>\n          <div className=\"single-line-center-between m-b-8\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper\n                text={'Your collateral amount as supply'}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <ToolTip\n                toolTipText={`The total amount of ${selectedCollateralCoin} you are providing to the protocol to borrow ARTH at the given Collateral Ratio.`}\n              />\n            </div>\n\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(collateralAmount, 18, 3)).toLocaleString() +\n                  '(' +\n                  Number(getDisplayBalance(collateralValue, 18, 3)).toLocaleString() +\n                  ' $GMU)'\n                }\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags \">\n                <TextWrapper\n                  text={selectedCollateralCoin.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-16\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'You will recieve'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={`The total amount of ARTH you are able to borrow. This is the amount of ARTH you will recieve after removing borrowing fee and liquidation reserve from the total debt of your loan.`}\n              />\n            </div>\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(totalDebt.sub(borrowingFee).sub(liquidationReserve), 18, 3),\n                ).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags \">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          {/* <div className=\"single-line-center-between m-b-16\">\n            <TextWrapper\n              toolTipText={`The total amount of ARTH you are swapping for  ${selectedCollateralCoin.toUpperCase()} inorder to get a leveraged position on your loan.`}\n              text={'Swap amount of ARTH for ' + selectedCollateralCoin.toUpperCase()}\n              fontWeight={600} Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={\n                  Number(\n                    getDisplayBalance(swapAmount, 18, 3)\n                  ).toLocaleString()\n                }\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags \">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div> */}\n          <div className=\"bottom-divider m-b-16\" />\n          <div className=\"single-line-center-between m-b-8\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Entry price'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={`The current price of GMU Value of ${selectedCollateralCoin.toUpperCase()}. This is the price at which your position on ${selectedCollateralCoin.toUpperCase()} will be opened.`}\n              />\n            </div>\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(entryPrice, 18, 3)).toLocaleString('en-US', {\n                  minimumFractionDigits: 3,\n                })}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags \">\n                <TextWrapper\n                  text={`${selectedCollateralCoin.toUpperCase()}/GMU`}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-8\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Liquidation price'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={`The GMU value of ${selectedCollateralCoin.toUpperCase()} below which your position can be Liquidated.`}\n              />\n            </div>\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={'~' + Number(getDisplayBalance(liquidationPrice, 18, 3)).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags \">\n                <TextWrapper\n                  text={`${selectedCollateralCoin.toUpperCase()}/GMU`}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"bottom-divider m-b-16\" />\n          <div className=\"single-line-center-between m-b-8\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Collateral Ratio'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={`The ratio of the GMU value of the entire system collateral at the current ${selectedCollateralCoin.toUpperCase()}/ARTH price, to the entire system debt.`}\n              />\n            </div>\n            <TextWrapper\n              text={Number(getDisplayBalance(collateralRatio, 18, 3)).toLocaleString() + '%'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n          </div>\n          <div className=\"single-line-center-between m-b-8\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'One-time Fee'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={`The One-time Fee is a one-off fee charged as a percentage of the borrowed amount (in ARTH) and is part of a loan's debt. The fee varies between 0.5% and 5% depending on ARTH redemption volumes.`}\n              />\n            </div>\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(borrowingFee, 18, 3)).toLocaleString() +\n                  ' (' +\n                  Number(getDisplayBalance(borrowingFeeRate, 16, 3)).toLocaleString() +\n                  '%) '\n                }\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags \">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-16\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Liquidation Reserve'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={\n                  'An amount set aside to cover the liquidator’s gas costs if your loan needs to be liquidated. The amount increases your debt and is refunded if you close your loan by fully paying off its net debt.'\n                }\n              />\n            </div>\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(liquidationReserve, 18, 3)).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags \">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"bottom-divider m-b-16\" />\n          <div className=\"single-line-center-between m-b-32\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Total Debt'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip toolTipText={`The total amount of ARTH your loan will hold.`} />\n            </div>\n\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(totalDebt, 18, 3)).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags \">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"m-b-4\">\n            <InfoTip\n              type={'Warning'}\n              msg={`To break even, you should close your position at a price no less than ${Number(\n                getDisplayBalance(entryPrice, token.decimal, 3),\n              ).toLocaleString()} ${selectedCollateralCoin.toUpperCase()}/GMU`}\n            />\n          </div>\n          <div className=\"m-b-32\">\n            <InfoTip\n              type={'Warning'}\n              msg={`To avoid liquidation, you should close your position at a price no less than ${Number(\n                getDisplayBalance(liquidationPrice, token.decimal, 3),\n              ).toLocaleString()} ${selectedCollateralCoin.toUpperCase()}/GMU`}\n            />\n          </div>\n          <Grid container spacing={2}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id=\"take_loan\"\n                tracking_params={{\n                  action: 'cancel',\n                  collateral: selectedCollateralCoin,\n                  amount: Number(getDisplayBalance(collateralAmount, token.decimal, 3)),\n                }}\n              >\n                Back\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                onClick={() => {\n                  onClose();\n                  setTimeout(() => {\n                    setOpenStepConfirmModal(true);\n                  }, 100);\n                }}\n                tracking_id=\"take_loan\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: selectedCollateralCoin,\n                  amount: Number(getDisplayBalance(collateralAmount, token.decimal, 3)),\n                }}\n              >\n                Take Loan\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n      <StepConfirmationModal\n        totalDebt={totalDebt}\n        selectedContractPrefix={selectedContractPrefix}\n        liquidationReserve={liquidationReserve}\n        borrowingFee={borrowingFee}\n        borrowingFeeRate={borrowingFeeRate}\n        collateralAmount={collateralAmount}\n        selectedCollateralCoin={selectedCollateralCoin}\n        openModal={openStepConfirmModal}\n        onClose={() => setOpenStepConfirmModal(false)}\n        onSuccess={() => {\n          setOpenStepConfirmModal(false);\n          setTimeout(() => {\n            window.location.href = '/#/loans/your-loans';\n            // setOpenSuccessModal(true)\n          }, 100);\n        }}\n      />\n\n      <SuccessModal\n        modalOpen={openSuccessModal}\n        setModalOpen={() => {\n          onSuccess();\n          setOpenSuccessModal(false);\n        }}\n        title={'Your transaction is being mined on blockchain'}\n        buttonText={'Close'}\n        buttonHref={''}\n      />\n    </>\n  );\n};\n\nexport default ConfirmLoanModal;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport CustomInputContainer from '../../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../../components/CustomInputContainer/RegexValidation';\nimport DepositModal from '../../../components/DepositModal';\nimport useOneTroveIsAlreadyOpen from '../../../hooks/state/sortedTroves/useGetTroveIsAlreadyOpen';\nimport useGetBorrowingFeeRateWithDecay from '../../../hooks/state/troveManager/useGetBorrowingFeeRateWithDecay';\nimport useGetIsRecoveryMode from '../../../hooks/state/troveManager/useGetIsRecoveryMode';\nimport useCollateralPriceFeed from '../../../hooks/state/useCollateralPriceFeed';\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport useTokenDecimals from '../../../hooks/useTokenDecimals';\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport theme from '../../../theme';\nimport AlertSnackbar from '../../../theme/components/AlertSnackbar';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport InfoTip from '../../../theme/components/InfoTip';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTip from '../../../theme/components/Tooltip';\nimport { crParameters, getDisplaycrParameters } from '../../../utils/crParameters';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport ConfirmLoanModal from '../modal/ConfirmLoanModal';\n\ntype Props = {\n  trove: string;\n};\n\nconst calculateBorrowingFee = (\n  debtAmount: BigNumber,\n  borrowingFeeRate: BigNumber,\n): BigNumber => {\n  return debtAmount.mul(borrowingFeeRate).div(DECIMALS_18);\n};\n\nconst AddLoanSection = ({ trove }: Props) => {\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n  const [debtAmount, setdebtAmount] = useState<string>('0');\n  const [checkedLevarage, setCheckedLevarage] = useState(false);\n  const [depositModal, setdepositModal] = useState<boolean>(false);\n  const [collateralValue, setCollateralValue] = useState<string>('0');\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n  const [openConfirmationModal, setOpenConfirmationModal] = useState<boolean>(false);\n\n  const arthBalance = useTokenBalance(core.tokens('ARTH', activeChainId));\n  const tokenDecimals = useTokenDecimals(troveDetail.depositToken);\n  const isRecoveryMode = useGetIsRecoveryMode(trove);\n  const collateralGMUPrice = useCollateralPriceFeed(troveDetail.depositToken, troveDetail.contractPrefix);\n  const collateralBalance = useTokenBalance(\n    core.tokens(troveDetail.depositToken, activeChainId),\n  );\n  const troveIsAlreadyPresent = useOneTroveIsAlreadyOpen(troveDetail.contractPrefix);\n  const borrowingFeeRate = useGetBorrowingFeeRateWithDecay(troveDetail.depositToken);\n\n  const borrowingFee = useMemo(() => {\n    if (borrowingFeeRate.isLoading || isRecoveryMode.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (isRecoveryMode.value)\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    return {\n      isLoading: false,\n      value: calculateBorrowingFee(\n        BigNumber.from(parseUnits(debtAmount, 18)),\n        borrowingFeeRate.value,\n      ),\n    };\n  }, [borrowingFeeRate, isRecoveryMode, debtAmount]);\n\n  const totalDebt = useMemo(() => {\n    if (borrowingFee.isLoading)\n      return {\n        isLoading: true,\n        value: BigNumber.from(0),\n      };\n    if (!Number(debtAmount)) return { isLoading: false, value: BigNumber.from(0) };\n\n    return {\n      isLoading: false,\n      value: BigNumber.from(parseUnits(debtAmount, 18))\n        .add(troveDetail.liquidationReserve)\n        .add(borrowingFee.value),\n    };\n  }, [borrowingFee.isLoading, borrowingFee.value, debtAmount, troveDetail.liquidationReserve]);\n\n  const collateralRatio = useMemo(() => {\n    if (collateralGMUPrice.isLoading || totalDebt.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n    if (!Number(debtAmount) || !Number(collateralValue))\n      return { isLoading: false, value: BigNumber.from(0) };\n\n    const collateralValueBN = BigNumber.from(parseUnits(collateralValue, tokenDecimals));\n    const ratio = collateralValueBN.mul(collateralGMUPrice.value).mul(100).div(totalDebt.value);\n\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [debtAmount, tokenDecimals, collateralValue, collateralGMUPrice, totalDebt]);\n\n  const isCollateralRatioBelowMin = useMemo(() => {\n    if (isRecoveryMode.isLoading) return false;\n    if (!Number(debtAmount) || !Number(collateralValue)) return false;\n    const crData = crParameters(troveDetail.trove, activeChainId);\n    return !isRecoveryMode.value\n      ? collateralRatio.value.lte(DECIMALS_18.mul(crData.mcr).div(1000))\n      : collateralRatio.value.lte(DECIMALS_18.mul(crData.ccr).div(1000));\n  }, [\n    isRecoveryMode.isLoading,\n    isRecoveryMode.value,\n    debtAmount,\n    collateralValue,\n    troveDetail.trove,\n    activeChainId,\n    collateralRatio.value,\n  ]);\n\n  const showDepositWETH = useMemo(() => {\n    return (\n      core.config('blockchainToken', activeChainId) ===\n      troveDetail.depositToken.replace('W', '')\n    );\n  }, [core, activeChainId, troveDetail.depositToken]);\n\n  const isDebtBelowMinNetDebt = useMemo(() => {\n    const bn = BigNumber.from(parseUnits(debtAmount, 18));\n    if (bn.eq(0) && BigNumber.from(parseUnits(collateralValue, 18)).eq(0)) return false;\n    return bn.lt(troveDetail.minDebtAmount);\n  }, [debtAmount, collateralValue, troveDetail.minDebtAmount]);\n\n  const liquidationPrice = useMemo(() => {\n    if (collateralGMUPrice.isLoading || totalDebt.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    const collateralAmountBN = BigNumber.from(parseUnits(collateralValue, 18));\n    const liquidationCR = DECIMALS_18.mul(1099999).div(10000);\n\n    if (collateralGMUPrice.value.lte(0) || collateralAmountBN.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    return {\n      isLoading: false,\n      value: liquidationCR.mul(totalDebt.value).div(collateralAmountBN).div(100),\n    };\n  }, [collateralValue, totalDebt, collateralGMUPrice]);\n\n  const handleCheck = () => {\n    setCheckedLevarage(!checkedLevarage);\n  };\n\n  const onCollateralValueChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setCollateralValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setCollateralValue(check ? val : String(Number(val)));\n    if (Number(debtAmount)) return;\n    const valueInNumber: number = Number(val);\n    if (!valueInNumber) return;\n\n    setdebtAmount(getDisplayBalance(troveDetail.minDebtAmount, 18, 18));\n  };\n\n  const onDebtAmounChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setdebtAmount('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setdebtAmount(check ? val : String(Number(val)));\n  };\n\n  const resetFields = () => {\n    onCollateralValueChange('0');\n    setdebtAmount('0');\n  };\n\n  return (\n    <div>\n      {/*<AlertSnackbar\n        open={troveIsAlreadyPresent.value}\n        title={`You already have an open loan for ${troveDetail.trove.toUpperCase()}.`}\n        subTitle={'Try opening loan with some other collateral'}\n      />*/}\n      <ConfirmLoanModal\n        selectedCollateralCoin={troveDetail.depositToken}\n        selectedContractPrefix={troveDetail.contractPrefix}\n        openModal={openConfirmationModal}\n        swapAmount={BigNumber.from(0)}\n        entryPrice={collateralGMUPrice.value}\n        collateralValue={BigNumber.from(parseUnits(collateralValue, 18))\n          .mul(collateralGMUPrice.value)\n          .div(DECIMALS_18)}\n        collateralAmount={BigNumber.from(parseUnits(collateralValue, tokenDecimals))}\n        liquidationPrice={liquidationPrice.value}\n        leverage={0}\n        collateralRatio={collateralRatio.value}\n        borrowingFee={borrowingFee.value}\n        totalDebt={BigNumber.from(parseUnits(debtAmount, 18))\n          .add(borrowingFee.value)\n          .add(troveDetail.liquidationReserve)}\n        liquidationReserve={troveDetail.liquidationReserve}\n        borrowingFeeRate={borrowingFeeRate.value}\n        onClose={() => setOpenConfirmationModal(false)}\n        onSuccess={() => {\n          window.location.href = '/#/loans/your-loans';\n          resetFields();\n        }}\n      />\n      {troveIsAlreadyPresent.value && (\n        <div className=\"m-b-12 m-t-12\">\n          <InfoTip\n            type={'Error'}\n            msg={`You already have an open loan for ${troveDetail.trove.toUpperCase()}.`}\n          />\n        </div>\n      )}\n      <div className=\"m-b-12\">\n        <InfoTip\n          type={'Warning'}\n          msg={\n            <div>\n              Please understand the price mechanics of ARTH before opening a loan. ARTH's price\n              is stable in the short term but appreciates over the long-term. Read{' '}\n              <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href=\"https://docs.arthcoin.com/target-price-for-arth\"\n                className={'links bold'}\n              >\n                the documentation\n              </a>{' '}\n              for more info.\n            </div>\n          }\n        />\n      </div>\n      {showDepositWETH && (\n        <div className=\"m-b-12\">\n          <InfoTip\n            type={'Warning'}\n            msg={`You may have to first wrap ${troveDetail.depositToken\n              .replace('W', '')\n              .toUpperCase()}\n              to ${troveDetail.depositToken.toUpperCase()} to take loan. Click on convert button to wrap your collateral.`}\n          />\n        </div>\n      )}\n      {/*<div className=\"m-b-12\">\n        <InfoTip\n          type={'Warning'}\n          msg={`My loan will get liquidated if the price of MAHA falls below 3.XX$.`}\n        />\n      </div>*/}\n      <CustomInputContainer\n        ILabelValue={'Enter Collateral'}\n        IBalanceValue={`${getDisplayBalance(collateralBalance.value, tokenDecimals)}`}\n        isBalanceLoading={collateralBalance.isLoading}\n        ILabelInfoValue={''}\n        disabled={collateralBalance.isLoading || troveIsAlreadyPresent.value}\n        DefaultValue={collateralValue.toString()}\n        LogoSymbol={troveDetail.depositToken}\n        hasDropDown={false}\n        SymbolText={troveDetail.depositToken}\n        inputMode={'numeric'}\n        setText={(val: string) => {\n          onCollateralValueChange(val);\n        }}\n        tagText={'MAX'}\n        tokenDecimals={tokenDecimals}\n        errorCallback={(flag: boolean) => {\n          setIsInputFieldError(flag);\n        }}\n      />\n      <div className=\"single-line-center-center m-t-12 m-b-12\">\n        <IconLoader iconName={'ArrowTailDown'} iconType={'arrow'} />\n      </div>\n      <CustomInputContainer\n        ILabelValue={'Enter Debt Amount'}\n        IBalanceValue={`${getDisplayBalance(arthBalance.value, 18)}`}\n        isBalanceLoading={arthBalance.isLoading}\n        DefaultValue={debtAmount.toString()}\n        ILabelInfoValue={''}\n        LogoSymbol={'ARTH'}\n        disabled={arthBalance.isLoading || troveIsAlreadyPresent.value}\n        hasDropDown={false}\n        SymbolText={'ARTH'}\n        setText={(val: string) => onDebtAmounChange(val)}\n        tokenDecimals={18}\n      />\n      {isCollateralRatioBelowMin && (\n        <div className=\"m-b-12 m-t-12\">\n          <InfoTip\n            type={'Warning'}\n            msg={\n              !isRecoveryMode.value\n                ? `Collateral ratio must be at least ${getDisplaycrParameters(troveDetail.trove, activeChainId).mcr\n                }%.`\n                : `Collateral ratio must be at least ${getDisplaycrParameters(troveDetail.trove, activeChainId).ccr\n                }% in Recovery Mode.`\n            }\n          />\n        </div>\n      )}\n      {isDebtBelowMinNetDebt && (\n        <div className=\"m-b-12 m-t-12\">\n          <InfoTip\n            type={'Warning'}\n            msg={`Minimum debt must be at least ${Number(\n              getDisplayBalance(troveDetail.minDebtAmount, 18, 3),\n            ).toLocaleString()}`}\n          />\n        </div>\n      )}\n      <div className=\"m-b-12 m-t-12\">\n        <InfoTip\n          type={'Warning'}\n          msg={\n            <div>\n              Please make sure you understand the risks of opening a loan. Read the{' '}\n              <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href=\"https://docs.arthcoin.com/protocol/risks-and-security\"\n                className={'links bold'}\n              >\n                documentation on risks\n              </a>{' '}\n              for more information.\n            </div>\n          }\n        />\n      </div>\n      <div className=\"m-t-20 m-b-32\">\n        <div className=\"single-line-center-between m-b-8\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Collateral Ratio'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The ratio between the $GMU value of the collateral and the debt (in ARTH) you are depositing.\n              While the Minimum Collateral Ratio is ${getDisplaycrParameters(troveDetail.trove, activeChainId).mcr\n                }%\n              during normal operation, it is recommended to keep the Collateral Ratio always above\n              ${getDisplaycrParameters(troveDetail.trove, activeChainId).ccr\n                }%% to avoid liquidation under Recovery Mode.\n              A Collateral Ratio above 200% or 250% is recommended for additional safety.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {collateralRatio.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(collateralRatio.value, 18, 3)).toLocaleString() + '%'\n                }\n                fontSize={12}\n                Fcolor={\n                  Number(getDisplayBalance(collateralRatio.value, 18, 3)) >= getDisplaycrParameters(troveDetail.trove, activeChainId).mcr\n                    ? theme.color.green[300]\n                    : theme.color.red[300]\n                }\n              />\n            )}\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-b-8\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'One-time Fee'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The One-time Fee is a one-off fee charged as a percentage of the borrowed amount (in ARTH) and is part of a loan's debt. The fee varies between 0.5% and 5% depending on ARTH redemption volumes.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {borrowingFee.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(borrowingFee.value, 18, 3)).toLocaleString() +\n                  ' ARTH'\n                }\n                fontSize={12}\n              />\n            )}\n          </div>\n        </div>\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Liquidation Reserve'} fontSize={12} />\n            <ToolTip\n              toolTipText={\n                'An amount set aside to cover the liquidator’s gas costs if your loan needs to be liquidated. The amount increases your debt and is refunded if you close your loan by fully paying off its net debt.'\n              }\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={\n                Number(getDisplayBalance(troveDetail.liquidationReserve, 18, 3)).toLocaleString() +\n                ' ARTH'\n              }\n              fontSize={12}\n            />\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-t-12\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Total Debt'} fontSize={12} />\n            <ToolTip\n              toolTipText={\n                'The Total Debt your loan will hold. This amount is inclusive of the amount you will recieve, borrowing fee and the liquidation reserve set aside.'\n              }\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {totalDebt.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(totalDebt.value, 18, 3)).toLocaleString() + ' ARTH'\n                }\n                fontSize={12}\n                Fcolor={theme.color.green[300]}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n      <Grid container spacing={2}>\n        {showDepositWETH && (\n          <Grid\n            item\n            lg={showDepositWETH ? 6 : 12}\n            md={showDepositWETH ? 6 : 12}\n            sm={12}\n            xs={12}\n          >\n            <div>\n              <Button\n                onClick={() => setdepositModal(true)}\n                tracking_id={'convert_token'}\n                tracking_params={{\n                  collateral: troveDetail.depositToken.replace('W', '').toUpperCase(),\n                  action: 'initial',\n                }}\n                disabled={troveIsAlreadyPresent.value}\n              >\n                {`Wrap ${troveDetail.depositToken\n                  .replace('W', '')\n                  .toUpperCase()} to ${troveDetail.depositToken.toUpperCase()}`}\n              </Button>\n            </div>\n          </Grid>\n        )}\n        <Grid item lg={showDepositWETH ? 6 : 12} md={showDepositWETH ? 6 : 12} sm={12} xs={12}>\n          <div>\n            {\n              <Button\n                disabled={\n                  troveIsAlreadyPresent.value ||\n                  isInputFieldError ||\n                  !Number(debtAmount) ||\n                  !Number(collateralValue) ||\n                  isCollateralRatioBelowMin ||\n                  isDebtBelowMinNetDebt\n                }\n                tracking_id=\"take_loan\"\n                tracking_params={{\n                  collateral: troveDetail.trove,\n                  action: 'initial',\n                  amount: Number(collateralValue),\n                }}\n                onClick={() => setOpenConfirmationModal(true)}\n              >\n                Take Loan\n              </Button>\n            }\n          </div>\n        </Grid>\n      </Grid>\n      {depositModal && (\n        <DepositModal onCancel={() => setdepositModal(false)} onDeposit={() => { }} />\n      )}\n    </div>\n  );\n};\n\nexport default AddLoanSection;\n\nconst CheckboxDiv = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 6px;\n  padding: 6px 12px 6px 12px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.88);\n  margin: 15px 0 0 0;\n`;\n","import { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: boolean;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: false });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: false });\n      return;\n    }\n\n    const contract = core.getSortedTroves(contractPrefix, activeChainId);\n    const value = await contract.contains(core.myAccount);\n    setValue({ isLoading: false, value: value });\n  }, [core, contractPrefix, account]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch trove details: ${err}`));\n    }\n  }, [core.isUnlocked, core.myAccount, account, blockNumber, fetchValue]);\n\n  return value;\n};\n","import React, { useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport Grid from '@material-ui/core/Grid';\n\n\nimport TextWrapper from '../../../theme/components/TextWrapper';\n\nimport Button from \"../../../theme/components/Button\";\nimport useClaimCollateral from '../../../hooks/callbacks/borrowerOperations/useClaimCollateral';\nimport useUnclaimedCollateral from '../../../hooks/state/borrowerOperations/useUnclaimedCollateral';\n\nexport default (props: { symbol: string }) => {\n  const action = useClaimCollateral(props.symbol)\n\n  const claimableCollateral = useUnclaimedCollateral(props.symbol)\n\n  if (claimableCollateral.value.eq(0)) return <div />\n\n  return (\n    <div className={'material-secondary'}>\n      <Grid container spacing={2} justify={'space-between'} alignItems={'center'}>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <TextWrapper\n            text={'You have unclaimed collateral from your loan that ' +\n              'got closed because it was fully redeemed. Click on the button to claim your collateral back.'}\n          />\n        </Grid>\n        <Grid item lg={3} md={3} sm={6} xs={6}>\n          <Button\n            onClick={action}\n            text={'Claim Collateral'}\n          />\n        </Grid>\n      </Grid>\n    </div>\n\n  );\n}\n","import { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\n\nexport default function (symbol: string) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(symbol, chainId);\n        const response = await contract.claimCollateral();\n\n        addTransaction(response, {\n          summary: `Claim unspent collateral from ${symbol.toUpperCase()} closed loan`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, symbol, chainId, addTransaction, addPopup],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const activeChainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getCollSurplusPool(contractPrefix, activeChainId);\n    const value = await contract.getCollateral(account);\n    setValue({ isLoading: false, value });\n  }, [account, core, contractPrefix, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch frontend registration status %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import React, { useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useCore from '../../hooks/useCore';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport theme from '../../theme';\nimport IconLoader from '../../theme/components/IconLoader';\nimport PageHeader from '../../theme/components/PageHeader';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport LoanInfo from '../LoanInfo/LoanInfo';\n\nimport AddLoanSection from './components/AddLoanSection';\nimport Button from \"../../theme/components/Button\";\nimport UnclaimedCollateral from './components/UnclaimedCollateral';\nimport { useWallet } from \"use-wallet\";\n\nconst AddLoan = () => {\n  const { id } = useParams<{ id: string }>();\n  const [trove, setTrove] = useState<string>('');\n  const chainId = useGetActiveChainId();\n  const {account} = useWallet();\n\n  const core = useCore();\n  const isTroveValid: boolean = useMemo(() => {\n    const troves = core.getAllTroves(chainId, account);\n    if (troves.includes(id)) {\n      setTrove(id);\n      return true;\n    } else {\n      return false;\n    }\n  }, [core, chainId, account, id]);\n\n  if (!isTroveValid) {\n    window.location.href = '/#/redeem/';\n    return <div />;\n  }\n\n  if (isTroveValid && trove !== '') {\n    return (\n      <div className=\"custom-container\">\n        <div className=\"mo-custom-container\">\n          <div className={'m-b-20 single-line-center-start'}>\n            <a href={'/#/loans/overview'}>\n              <TextWrapper text={'Loans overview'} Fcolor={theme.color.transparent[200]} />\n            </a>\n            <IconLoader iconName={'ArrowRight'} iconType={'arrow'} className={'m-r-4 m-l-4'} />\n            <TextWrapper text={'New Loan'} Fcolor={theme.color.transparent[100]} />\n          </div>\n        </div>\n        <PageHeader\n          title={`Open a ${trove} Loan`}\n          subTitle={`You are now going to open a loan for ARTH`}\n        />\n        <UnclaimedCollateral symbol={id} />\n        <Grid container style={{ marginTop: '24px' }} spacing={2}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <div className={'custom-mahadao-container'}>\n              <div className={'custom-mahadao-container-content'}>\n                <AddLoanSection trove={trove} />\n              </div>\n            </div>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <LoanInfo trove={trove} />\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n};\n\nexport default AddLoan;\n","import styled from 'styled-components';\n\nexport const BackgroundAbsolute = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n  z-index: 101;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport theme from '../../index';\nimport { BackgroundAbsolute } from '../CustomComponent';\nimport IconLoader, { IconLoaderProps } from '../IconLoader';\nimport TextWrapper from '../TextWrapper';\n\ninterface CollateralDropDownProps {\n  selectedCollateral: IconLoaderProps['iconName'];\n  collateralTypes?: IconLoaderProps['iconName'][];\n  collateralText?: string;\n  showDropDown?: boolean;\n  toggleDropDown?: () => void;\n  hasDropDown?: boolean;\n  ondropDownValueChange?: (value: IconLoaderProps['iconName']) => void;\n  border?: string;\n}\n\nconst CollateralDropDown = (props: CollateralDropDownProps) => {\n  const {\n    selectedCollateral,\n    collateralTypes,\n    collateralText = selectedCollateral,\n    showDropDown = false,\n    toggleDropDown,\n    hasDropDown = false,\n    ondropDownValueChange,\n    border = '0 6px 6px 0',\n  } = props;\n\n  return (\n    <MainContainer>\n      <Container\n        style={{ borderRadius: border }}\n        className={'single-line-center-start pointer'}\n        onClick={() => {\n          if (toggleDropDown) toggleDropDown();\n        }}\n      >\n        <IconLoader\n          iconName={selectedCollateral}\n          iconType={'tokenSymbol'}\n          height={20}\n          width={20}\n        />\n        <TextWrapper\n          text={collateralText ? collateralText : selectedCollateral}\n          fontWeight={600}\n          Fcolor={theme.color.transparent[100]}\n          className={'m-l-8'}\n        />\n        {hasDropDown && (\n          <IconLoader\n            iconName={showDropDown ? 'ArrowUp' : 'ArrowDown'}\n            iconType={'arrow'}\n            height={16}\n            width={16}\n            className={'m-l-8'}\n          />\n        )}\n      </Container>\n      {showDropDown && (\n        <BackgroundAbsolute\n          onClick={() => {\n            if (toggleDropDown) toggleDropDown();\n          }}\n        />\n      )}\n\n      {hasDropDown && showDropDown && (\n        <CustomDropDownContainer>\n          {collateralTypes?.map((item, index) => {\n            return (\n              <CustomDropDownLi\n                onClick={() => {\n                  if (ondropDownValueChange) ondropDownValueChange(item);\n                }}\n                key={index}\n              >\n                <IconLoader iconName={item} iconType={'tokenSymbol'} height={20} width={20} />\n                <CustomDropDownLiText>{item}</CustomDropDownLiText>\n              </CustomDropDownLi>\n            );\n          })}\n        </CustomDropDownContainer>\n      )}\n    </MainContainer>\n  );\n};\n\nexport default CollateralDropDown;\n\nconst MainContainer = styled.div`\n  position: relative;\n`;\n\nconst Container = styled.div`\n  height: 44px;\n  padding: 12px;\n  background: #1f1e1e;\n`;\n\nconst CustomDropDownContainer = styled.div`\n  position: absolute;\n  top: 50px;\n  right: 0;\n  z-index: 111;\n  background: #1f1e1e;\n  border-radius: 6px;\n  min-width: max-content;\n`;\n\nconst CustomDropDownLi = styled.div`\n  display: flex;\n  flex-direction: row;\n  height: 48px;\n  padding: 0 12px;\n  align-items: center;\n  cursor: pointer;\n  &:hover {\n    background: rgba(62, 62, 62, 0.31);\n  }\n`;\n\nconst CustomDropDownLiText = styled.span`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.64);\n  margin-left: 5px;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport theme from '../../index';\n\nimport { escapeRegExp } from './Regex';\n\nexport interface InputProps {\n  value: string;\n  setValue: (text: string) => void;\n  inputMode?: 'none' | 'text' | 'tel' | 'url' | 'email' | 'numeric' | 'decimal' | 'search';\n  disabled?: boolean;\n  placeholder?: string;\n  maxTag?: boolean;\n  onMaxClick?: () => void;\n  border?: string;\n  className?: string;\n}\n\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`);\n\nconst Input = (props: InputProps) => {\n  const {\n    value = '',\n    setValue,\n    inputMode = 'decimal',\n    disabled = false,\n    placeholder = '00.00',\n    maxTag = false,\n    onMaxClick,\n    border = '6px 0 0 6px',\n    className = '',\n  } = props;\n\n  const onValueChange = (value: string) => {\n    setValue(value);\n  };\n\n  const enforcer = (nextUserInput: string) => {\n    if (nextUserInput === '' || inputRegex.test(escapeRegExp(nextUserInput))) {\n      onValueChange(nextUserInput);\n    }\n  };\n\n  return (\n    <InputContainer style={{ borderRadius: border }} className={className}>\n      <CustomInput\n        inputMode={inputMode}\n        placeholder={placeholder}\n        value={value}\n        disabled={disabled}\n        type={'string'}\n        onChange={(event) => {\n          enforcer(event.target.value);\n        }}\n      />\n      {maxTag && (\n        <MaxTagConatiner\n          onClick={() => {\n            if (onMaxClick) onMaxClick();\n          }}\n        >\n          MAX\n        </MaxTagConatiner>\n      )}\n    </InputContainer>\n  );\n};\n\nexport default Input;\n\nconst InputContainer = styled.div`\n  background: ${theme.color.dark[500]};\n  display: flex;\n  justify-content: space-between;\n  flex: 1;\n`;\n\nconst CustomInput = styled.input`\n  padding: 12px;\n  color: #ffffff;\n  fontfamily: Inter !important;\n  background: transparent;\n  border-style: none;\n  width: 100%;\n  height: 44px;\n  font-weight: 600;\n  &:focus {\n    outline: none;\n  }\n  -webkit-appearance: textfield;\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n  ::placeholder {\n    color: ${({ theme }) => theme.text4};\n  }\n`;\n\nconst MaxTagConatiner = styled.div`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  color: #f7653b;\n  padding: 10px 12px;\n  background: transparent;\n  border-radius: 0 6px 6px 0;\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n`;\n","export function escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n}\n","import React, { CSSProperties } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport theme from '../../index';\nimport TextWrapper from '../TextWrapper';\n\ninterface InputContainerProps {\n  label: string;\n  dataLabel?: string;\n  dataValue?: string;\n  dontShowBackground?: boolean;\n  className?: string;\n  children: any;\n  dataValueLoading?: boolean;\n}\n\nconst InputContainer = (props: InputContainerProps) => {\n  const {\n    dataValueLoading = false,\n    label = '',\n    dataLabel = '',\n    dataValue = '',\n    dontShowBackground = false,\n    className = '',\n    children,\n  } = props;\n\n  const IContainerStyle = () => {\n    let returnObj: CSSProperties = {};\n\n    if (dontShowBackground) {\n      returnObj['padding'] = '0px';\n      returnObj['backgroundColor'] = 'transparent';\n    }\n\n    return returnObj;\n  };\n\n  return (\n    <IContainer style={IContainerStyle()} className={className}>\n      <div className=\"single-line-center-between m-b-12\">\n        <TextWrapper\n          text={label}\n          fontWeight={600}\n          Fcolor={theme.color.transparent[100]}\n          className=\"p-r-8\"\n        />\n        {dataValueLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={`${dataLabel} ${dataValue}`}\n            fontWeight={600}\n            Fcolor={theme.color.transparent[100]}\n            align={'right'}\n          />\n        )}\n      </div>\n      {children}\n    </IContainer>\n  );\n};\n\nexport default InputContainer;\n\nconst IContainer = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 8px;\n  padding: 12px;\n`;\n","import { BigNumber } from 'ethers';\nimport React, { useEffect, useMemo, useState } from \"react\";\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport { StrategiesStaticInfo } from '../../../protocol/config';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport CollateralDropDown from '../../../theme/components/CollateralDropDown';\nimport Input from '../../../theme/components/Input';\nimport InputContainer from '../../../theme/components/InputContainer';\nimport { formatToBN, getDisplayBalance } from \"../../../utils/formatBalance\";\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport { ITokenObj } from \"./CreatePosition\";\nimport InfoTip from \"../../../theme/components/InfoTip\";\nimport TextWrapper from \"../../../theme/components/TextWrapper\";\nimport theme from \"../../../theme\";\nimport { BNZERO } from \"../../../protocol/constants\";\nimport useCollateralPriceFeed from \"../../../hooks/state/useCollateralPriceFeed\";\n\ninterface Iprops {\n  strategy: StrategiesStaticInfo;\n  tokenSupplyObj: ITokenObj;\n  setTokenSupplyObj: (key: string, value: string) => void;\n  onClose: () => void;\n  handleStep: () => void;\n}\n\nconst DashboardModal = (props: Iprops) => {\n  const { strategy, tokenSupplyObj, setTokenSupplyObj, handleStep, onClose } = props;\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(strategy.trove, activeChainId);\n  let [tokenBalanceObj, setTokenBalanceObj] = useState<{ [name: string]: BigNumber }>({});\n  let [tokenValueGMUObj, setTokenValueGMUObj] = useState<{ [name: string]: BigNumber }>({});\n\n  //Start MinCollateralLogic\n  const dToken = core.tokens(strategy.depositTokens[0], activeChainId);\n  const collateralGMUPrice = useCollateralPriceFeed(strategy.depositTokens[0], strategy.contract);\n\n  const GMUOfInput = useMemo(() => {\n    return collateralGMUPrice.value\n      .mul(formatToBN(tokenSupplyObj[strategy.depositTokens[0]], dToken.decimal))\n      .div(BigNumber.from(10).pow(dToken.decimal));\n  }, [collateralGMUPrice.value, dToken.decimal, strategy.depositTokens, tokenSupplyObj])\n\n  //End MinCollateralLogic\n\n  useEffect(() => {\n    strategy.depositTokens.forEach((t) => {\n      const bal = tokenBalanceObj;\n      bal[t] = BNZERO;\n      setTokenBalanceObj(bal);\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [strategy]);\n\n  useEffect(() => {\n    strategy.depositTokens.forEach((t) => {\n      const bal = tokenValueGMUObj;\n      bal[t] = BNZERO;\n      setTokenValueGMUObj(bal);\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [strategy]);\n\n  const isError = useMemo(() => {\n    let checks = 0;\n\n    for (const [key, value] of Object.entries(tokenSupplyObj)) {\n      const token = core.tokens(key, activeChainId);\n      if (value !== '') checks++;\n      if (tokenBalanceObj[key] && Number(tokenBalanceObj[key]) && tokenBalanceObj[key].gte(formatToBN(tokenSupplyObj[key], token.decimal))) {\n        checks++;\n      }\n    }\n\n    if (GMUOfInput.gte(formatToBN(strategy.minCollateralGMU, dToken.decimal))) checks++;\n\n    return checks !== ((strategy.depositTokens.length * 2) + 1);\n  }, [GMUOfInput, activeChainId, core, dToken.decimal, strategy.depositTokens.length, strategy.minCollateralGMU, tokenBalanceObj, tokenSupplyObj]);\n\n  const setInputs = (value: string) => {\n    strategy.depositTokens.forEach((t) => setTokenSupplyObj(t, value));\n  }\n\n  const Inputs = (t: string) => {\n    const token = core.tokens(t, activeChainId);\n    const tokenBalance = useTokenBalance(token);\n\n    if (!tokenBalance.isLoading && tokenBalanceObj[t] && !tokenBalanceObj[t].eq(tokenBalance.value)) {\n      let value = tokenBalanceObj\n      value[t] = tokenBalance.value\n      setTokenBalanceObj({ ...value })\n    }\n\n    /*if (!collateralGMUPrice.isLoading && tokenValueGMUObj[t]) {\n      let data = tokenValueGMUObj;\n      const GMUOfInput =\n        collateralGMUPrice.value\n          .mul(formatToBN(tokenSupplyObj[t], token.decimal))\n          .div(BigNumber.from(10).pow(token.decimal));\n      if (!tokenBalanceObj[t].eq(GMUOfInput)) {\n        data[t] = GMUOfInput;\n        setTokenValueGMUObj({ ...data })\n      }\n    }*/\n\n    return (\n      <div className={'m-b-16'}>\n        <div className=\"m-b-8\">\n          <InputContainer\n            label={'How much collateral would you like to supply?'}\n            dataLabel={'Balance:'}\n            dataValueLoading={tokenBalance.isLoading}\n            dataValue={`${Number(\n              getDisplayBalance(tokenBalance.value, token.decimal, 6),\n            ).toLocaleString('en-US', { minimumFractionDigits: 3 })}`}\n          >\n            <div className=\"single-line-center-between\">\n              <Input\n                disabled={tokenBalance.isLoading}\n                value={tokenSupplyObj[t]}\n                setValue={(value) => {\n                  // setTokenSupplyObj(t, value);\n                  setInputs(value);\n                }}\n                maxTag={true}\n                onMaxClick={() => {\n                  setInputs(Number(getDisplayBalance(tokenBalance.value, token.decimal, 6)).toString());\n                  /*setTokenSupplyObj(t,\n                    Number(getDisplayBalance(tokenBalance.value, 18, 18)).toString(),\n                  );*/\n                }}\n              />\n              <CollateralDropDown selectedCollateral={t} />\n            </div>\n            {tokenBalance.value.lt(formatToBN(tokenSupplyObj[t], token.decimal)) && <TextWrapper\n              text={`Input cannot be greater than your ${t} balance`}\n              Fcolor={theme.color.red[300]}\n              fontSize={12}\n              className={'m-t-4'}\n            />}\n          </InputContainer>\n        </div>\n      </div>\n    )\n  }\n\n\n  return (\n    <div>\n      <InfoTip\n        type={'Info'}\n        msg={'This is the initial collateral that you will supply to open a position for this particular strategy. '\n          + 'This collateral is returned to you if your position yields a net profit.'}\n        className={'m-b-24'}\n      />\n\n      {strategy.depositTokens.map((t) => Inputs(t))}\n\n      <div className={'m-t-32'}>\n        <div>\n          {GMUOfInput.lt(formatToBN(strategy.minCollateralGMU)) &&\n            <InfoTip\n              type={'Error'}\n              msg={`Input amount should be greater than the min collateral amount (${strategy.minCollateralGMU} GMU) / $${strategy.minCollateralGMU * 2}`}\n              className={'m-b-24'}\n            />\n          }\n        </div>\n        <Grid container spacing={2} direction={'row'}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              onClick={() => onClose()}\n              tracking_id={'strategy_step1'}\n              tracking_params={{\n                action: 'cancel',\n                collateral: strategy.trove,\n                other: tokenSupplyObj,\n              }}\n            >\n              Cancel\n            </Button>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              onClick={handleStep}\n              disabled={isError}\n              tracking_id={'strategy_step1'}\n              tracking_params={{\n                action: 'confirm',\n                collateral: strategy.trove,\n                other: tokenSupplyObj,\n              }}\n            >\n              Next\n            </Button>\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardModal;\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const updateSlippage = createAction<{ id: number; value: number }>(\n  'slippage/updateSlippage',\n);\n","import { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { AppState } from '../index';\n\nimport { updateSlippage } from './actions';\n\nexport function useUpdateSlippage(): (id: number, slippage: number) => void {\n  const dispatch = useDispatch();\n\n  return useCallback(\n    (id: number, slippage: number) => dispatch(updateSlippage({ id, value: slippage })),\n    [dispatch],\n  );\n}\n\nexport function useSlippage(): AppState['slippage'] {\n  return useSelector((state: AppState) => state.slippage);\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nimport { useSlippage, useUpdateSlippage } from '../../state/slippage/hooks';\nimport theme from '../../theme';\nimport IconLoader from '../../theme/components/IconLoader';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport ToolTip from '../../theme/components/Tooltip';\nimport {\n  ValidateNumber,\n  checkForAfterDecimalDigitsSlippage,\n  correctString,\n} from '../CustomInputContainer/RegexValidation';\n\ninterface Irates {\n  id: number;\n  text: string;\n  rate: number;\n}\n\nconst rates: Irates[] = [\n  {\n    id: 1,\n    text: '0.1 %',\n    rate: 0.1,\n  },\n  {\n    id: 2,\n    text: '0.5 %',\n    rate: 0.5,\n  },\n  {\n    id: 3,\n    text: '1.0 %',\n    rate: 1.0,\n  },\n  {\n    id: 4,\n    text: 'Custom',\n    rate: 0.0,\n  },\n];\n\nconst SlippageContainer: React.FC = () => {\n  const [modalOpen, setOpenModal] = useState<boolean>(false);\n\n  const { id, value: slippage } = useSlippage();\n  const updateSlippage = useUpdateSlippage();\n\n  const onInputChange = (value: string) => {\n    if (value === '') {\n      updateSlippage(4, 0);\n      return;\n    }\n\n    if (Number(value) && (Number(value) < 0 || Number(value) > 50)) return;\n\n    if (ValidateNumber(value) && checkForAfterDecimalDigitsSlippage(value)) {\n      updateSlippage(4, Number(correctString(value)));\n    }\n  };\n\n  const CustomRateField = () => {\n    return (\n      <IField>\n        <InputDiv>\n          <input\n            inputMode={'decimal'}\n            value={Number(correctString(`${slippage}`))}\n            style={{\n              fontFamily: 'Inter !important',\n              fontStyle: 'normal',\n              fontWeight: 600,\n              fontSize: '14px',\n              lineHeight: '20px',\n              color: 'rgba(255, 255, 255, 0.64)',\n              width: '100%',\n              background: 'transparent',\n              border: 'none',\n            }}\n            type={'number'}\n            onChange={(event) => {\n              onInputChange(event.target.value);\n            }}\n            min={0.0001}\n            max={50}\n          />\n        </InputDiv>\n        <PerDiv>%</PerDiv>\n      </IField>\n    );\n  };\n\n  return (\n    <MainContainer>\n      {modalOpen && (\n        <BackgroundAbsolute\n          onClick={() => {\n            setOpenModal(!modalOpen);\n          }}\n        />\n      )}\n      <CustomDiv>\n        <IconLoader iconName=\"Settings\" height={20} onClick={() => setOpenModal(!modalOpen)} />\n        {modalOpen && (\n          <CustomSlippageBox>\n            <CTitle className=\"single-line-center-start\">\n              <TextWrapper\n                text={'Slippage Tolerance'}\n                fontWeight={600}\n                fontSize={16}\n                Fcolor={theme.color.transparent[100]}\n              />\n              <ToolTip toolTipText={'The limit of price slippage you are willing to accept.'} />\n            </CTitle>\n            <ButtonsBox>\n              {rates.map((data: Irates) => {\n                if (data.id !== 4)\n                  return (\n                    <ButtonItem\n                      key={data.id}\n                      style={data.id === id ? { border: '1px solid white' } : {}}\n                      onClick={() => updateSlippage(data.id, data.rate)}\n                    >\n                      <ButtonText>{data.text}</ButtonText>\n                    </ButtonItem>\n                  );\n\n                return (\n                  <ButtonItem\n                    key={data.id}\n                    style={\n                      data.id === id\n                        ? { border: '1px solid white', marginRight: 0 }\n                        : { marginRight: 0 }\n                    }\n                    onClick={() => data.id !== id && updateSlippage(data.id, 0.0)}\n                  >\n                    {data.id === id ? CustomRateField() : <ButtonText>{data.text}</ButtonText>}\n                  </ButtonItem>\n                );\n              })}\n            </ButtonsBox>\n          </CustomSlippageBox>\n        )}\n      </CustomDiv>\n    </MainContainer>\n  );\n};\n\nexport default SlippageContainer;\n\nconst MainContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nconst BackgroundAbsolute = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n  z-index: 11;\n`;\n\nconst CustomDiv = styled.div`\n  position: relative;\n  cursor: pointer;\n  z-index: 15;\n`;\n\nconst CustomSlippageBox = styled.div`\n  background: linear-gradient(180deg, #48423e 0%, #373030 100%);\n  border-radius: 6px;\n  padding: 24px;\n  width: 106px;\n  position: absolute;\n  top: 24px;\n  right: 0;\n  min-width: max-content;\n  z-index: 12;\n  box-shadow: 0 12px 24px -4px rgba(0, 0, 0, 0.12), 0px 16px 20px rgba(0, 0, 0, 0.25);\n`;\n\nconst CTitle = styled.div`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n  color: rgba(255, 255, 255, 0.88);\n  margin-bottom: 12px;\n`;\n\nconst ButtonsBox = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst ButtonItem = styled.div`\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  box-sizing: border-box;\n  border-radius: 4px;\n  height: 26px;\n  width: 68px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 8px;\n  cursor: pointer;\n`;\n\nconst ButtonText = styled.span`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.64);\n`;\n\nconst IField = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 5px;\n`;\n\nconst InputDiv = styled.div`\n  flex: 1;\n`;\n\nconst PerDiv = styled.span`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.64);\n`;\n","import React from \"react\";\nimport Loader from \"react-spinners/BeatLoader\";\n\nimport theme from \"../../index\";\n\nimport ToolTip from \"../Tooltip\";\nimport TextWrapper, { TextWrapperProps } from \"../TextWrapper\";\n\ninterface Iprops {\n  label?: string;\n  labelToolTip?: string;\n  value?: string;\n  valueTag?: string;\n  isValueLoading?: boolean;\n\n  labelFontSize?: TextWrapperProps[\"fontSize\"]\n  labelFontWeight?: TextWrapperProps[\"fontWeight\"]\n  labelFontColor?: string;\n\n  valueFontSize?: TextWrapperProps[\"fontSize\"]\n  valueFontWeight?: TextWrapperProps[\"fontWeight\"]\n  valueFontColor?: string;\n  className?: string;\n}\n\nconst DataField = (props: Iprops) => {\n  const {\n    label,\n    labelToolTip,\n    value,\n    valueTag,\n    isValueLoading = false,\n    labelFontSize = 14,\n    labelFontColor = theme.color.transparent[100],\n    labelFontWeight = 300,\n    valueFontSize = 14,\n    valueFontColor = \"#FFFFFF\",\n    valueFontWeight = 300,\n    className = \"\",\n  } = props;\n\n  return (\n    <div className={`single-line-start-between ${className}`}>\n      <div className=\"single-line-center-start\">\n        {label && <TextWrapper\n          text={label}\n          fontWeight={labelFontWeight}\n          Fcolor={labelFontColor}\n          fontSize={labelFontSize}\n        />}\n        {label && labelToolTip && <ToolTip\n          toolTipText={labelToolTip}\n          className=\"m-l-4\"\n        />}\n      </div>\n      <div className=\"single-line-center-end flex1 m-l-8\">\n        {value &&\n        isValueLoading\n          ? <Loader color={'#ffffff'} loading={true} size={2} margin={2} />\n          : <TextWrapper\n            text={value || \"\"}\n            fontWeight={valueFontWeight}\n            Fcolor={valueFontColor}\n            fontSize={valueFontSize}\n            align={'right'}\n          />\n        }\n        {valueTag && <div className=\"tags m-l-4\">\n          <TextWrapper\n            text={valueTag}\n            fontWeight={valueFontWeight}\n            fontSize={valueFontSize}\n            Fcolor={'#FFFFFF88'}\n            align={'right'}\n          />\n        </div>}\n      </div>\n    </div>\n  );\n}\n\nexport default DataField;\n","import React, { useMemo } from \"react\";\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\n\nimport { Slider } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport { Theme, createStyles, makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport SlippageContainer from '../../../components/SlippageContainer';\nimport { StrategiesStaticInfo } from '../../../protocol/config';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { ITokenObj, minSlider } from \"./CreatePosition\";\nimport InfoTip from \"../../../theme/components/InfoTip\";\nimport theme from \"../../../theme\";\nimport DataField from \"../../../theme/components/DataField\";\nimport { State } from \"../../../hooks/state/strategies/useGetAPRValue\";\nimport { getDisplaycrParameters } from \"../../../utils/crParameters\";\n\ninterface IProps {\n  strategy: StrategiesStaticInfo;\n  tokenSupplyObj: ITokenObj;\n  tokenBorrowObj: ITokenObj;\n  setCR: (val: any) => void;\n  mcr: number;\n  sliderValue: number;\n  setSliderValue: (value: any) => void;\n  handleStep: () => void;\n  handleStepBack: () => void;\n  aprValues: State;\n  hasStaked: boolean;\n}\n\nconst PrettoRestrictSlider = withStyles({\n  root: {\n    width: '100%',\n  },\n  thumb: {\n    height: 10,\n    width: 10,\n    border: '2px solid currentColor',\n    color: '#FFA981',\n    marginTop: -3.5,\n    marginLeft: -3,\n    '&:focus, &:hover, &$active': {\n      boxShadow: 'inherit',\n    },\n  },\n  active: {},\n  valueLabel: {\n    left: 'calc(-100% - 5px)',\n  },\n  marked: {\n    color: 'red',\n  },\n  markLabel: {},\n  track: {\n    height: 3,\n    borderRadius: 3,\n    color: '#FFA981',\n  },\n  rail: {\n    height: 3,\n    borderRadius: 3,\n    color: '#D74D26',\n  },\n  markLabelActive: {\n    fontStyle: 'normal',\n    fontWeight: 300,\n    fontSize: '12px',\n    lineHeight: '130%',\n    textAlign: 'center',\n    color: 'rgba(255, 255, 255, 0.88)',\n  },\n  mark: {\n    color: 'transparent',\n  },\n})(Slider);\n\nconst useSliderStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n    },\n    margin: {\n      height: theme.spacing(3),\n    },\n  }),\n);\n\nconst DashboardModal = (props: IProps) => {\n  const {\n    strategy,\n    tokenSupplyObj,\n    tokenBorrowObj,\n    sliderValue,\n    setSliderValue,\n    mcr,\n    handleStep,\n    handleStepBack,\n    aprValues,\n    hasStaked,\n  } = props;\n\n  const sliderClasses = useSliderStyles();\n  const isMobile = useMediaQuery({ maxWidth: '600px' });\n  // const price = useCollateralPriceFeed(strategy.depositToken);\n\n  // const inAmount = useGetInAmountOnUni(\n  //   strategyDetail.          routerAddress,\n  //   BigNumber.from(parseUnits(tokenBorrow, 18)),\n  //   strategyDetail.inputApproximationPath.map((i) => core.tokens(i, activeChainId)?.address),\n  // );\n\n  /* useEffect(() => {\n     if (!tokenSupplyObj || !tokenBorrowObj) {\n       setCR('0');\n       return;\n     }\n     // const userSupplyInBN = formatToBN(tokenSupply, 18);\n     // const userLeveragedSupplyInBN = formatToBN(tokenBorrow, 18);\n     // const totalUserSupplyInBN = userSupplyInBN.add(userLeveragedSupplyInBN);\n     // const crInBN = totalUserSupplyInBN.mul(price.value).mul(100).div(inAmount.value);\n     // setCR(getDisplayBalance(crInBN, 18, 18));\n   }, [tokenSupply, tokenBorrow, setCR]);*/\n\n  function valuetext(value: number) {\n    return `${value}`;\n  }\n\n  const handleSliderChange = (event: any, value: any) => {\n    if (hasStaked) {\n      setSliderValue(value);\n    } else if (value <= strategy.maxNonStakersLeverage) {\n      setSliderValue(value);\n    }\n  };\n\n  const leveragedApr = useMemo(() => {\n    if (aprValues.isLoading) {\n      return {\n        isLoading: true,\n        value: '-'\n      }\n    } else {\n      if (aprValues.value.totalAPR === '-' || !Number(aprValues.value.totalAPR)) {\n        return {\n          isLoading: false,\n          value: '-'\n        }\n      } else {\n        return {\n          isLoading: false,\n          value: (Number(aprValues.value.totalAPR) * sliderValue).toPrecision(3)\n        }\n      }\n    }\n  }, [aprValues.isLoading, aprValues.value.totalAPR, sliderValue]);\n\n  const leveragedTradingFee = useMemo(() => {\n    return {\n      isLoading: false,\n      value: (Number(0.3) * sliderValue).toPrecision(3)\n    }\n  }, [sliderValue])\n\n  return (\n    <div>\n      <InfoTip\n        type={'Info'}\n        msg={'Choose how much leverage you would like to take. A higher leverage yields you more profits but increases the risk as well.'}\n        className={'m-b-12'}\n      />\n      {/* <InfoTip\n        type={'Warning'}\n        msg={'As currently we are in alpha phase, so max Leverage for now is restricted to 5x '}\n        className={'m-b-24'}\n      /> */}\n      <InputLabel>You will supply</InputLabel>\n      {\n        strategy.depositTokens.map(t => (\n          <BoxedLabels>\n            <div className=\"single-line-center-start\">\n\n              <IconLoader iconName={t} iconType=\"tokenSymbol\" width={24} />\n              <TextWrapper text={t} fontWeight={600} className={'m-l-4'} />\n            </div>\n            <TextWrapper text={Number(tokenSupplyObj[t]).toLocaleString()} fontWeight={600} />\n          </BoxedLabels>\n        ))\n      }\n      <Dividers />\n      <div>\n        <div className=\"single-line-center-between m-t-12 m-b-10\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Select Leverage'} fontSize={12} />\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={`${sliderValue.toString()} X`} fontSize={12} />\n            </div>\n          </div>\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Slippage'} fontSize={12} className={'p-b-8 m-r-8'} />\n            <SlippageContainer />\n          </div>\n        </div>\n        <div className={sliderClasses.root}>\n          <PrettoRestrictSlider\n            defaultValue={minSlider}\n            value={sliderValue}\n            getAriaValueText={valuetext}\n            valueLabelFormat={valuetext}\n            onChange={handleSliderChange}\n            aria-label=\"pretto slider\"\n            step={0.01}\n            marks\n            min={minSlider}\n            max={strategy.maxLeverage}\n            valueLabelDisplay=\"off\"\n          />\n        </div>\n        <div className=\"single-line-center-between m-b-24\">\n          <TextWrapper text={`${minSlider}x`} fontSize={12} />\n          <TextWrapper text={`${strategy.maxLeverage}x`} fontSize={12} />\n        </div>\n        {!hasStaked && sliderValue > (strategy.maxNonStakersLeverage - 0.2) && <InfoTip\n          type={\"Warning\"}\n          msg={<div>\n            You are restricted to take just upto {strategy.maxNonStakersLeverage} of leverage. you can increase this by <a className={\"links\"} href={\"/#/farming\"}> staking</a>\n          </div>}\n          className={\"m-b-12\"}\n        />}\n      </div>\n      <Dividers />\n      <div>\n\n        <InputLabel>You will gain exposure to</InputLabel>\n        {\n          strategy.borrowTokens.map(t => (\n            <BoxedLabels>\n              <div className=\"single-line-center-start\">\n                <IconLoader iconName={t} iconType=\"tokenSymbol\" width={24} />\n                <TextWrapper text={t} fontWeight={600} className={'m-l-4'} />\n              </div>\n              <TextWrapper text={Number(tokenBorrowObj[t]).toLocaleString()} fontWeight={600} />\n            </BoxedLabels>\n          ))\n        }\n      </div>\n      <div className={'m-t-24'}>\n        <DataField\n          label={'Min Collateral Ratio'}\n          labelToolTip={``}\n          value={`${mcr.toFixed(3)}%`}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontSize={12}\n          className={'m-b-8'}\n        />\n        <DataField\n          label={'Trading fee'}\n          isValueLoading={leveragedTradingFee.isLoading}\n          value={`${leveragedTradingFee.value}%`}\n          labelFontSize={12}\n          labelFontColor={theme.color.transparent[100]}\n          className={'m-b-8'}\n        />\n        <DataField\n          label={'APR'}\n          labelToolTip={''}\n          isValueLoading={leveragedApr.isLoading}\n          value={`${leveragedApr.value}%`}\n          labelFontSize={12}\n          labelFontColor={theme.color.transparent[100]}\n          valueFontColor={theme.color.primary[300]}\n        />\n      </div>\n      <div className=\"m-t-32\">\n        <Grid container spacing={2} direction={isMobile ? 'column-reverse' : 'row'}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              onClick={handleStepBack}\n              tracking_id={'strategy_step2'}\n              tracking_params={{\n                action: 'cancel',\n                collateral: strategy.trove,\n              }}\n            >\n              Back\n            </Button>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              onClick={handleStep}\n              tracking_id={'strategy_step2'}\n              disabled={sliderValue === 1}\n              tracking_params={{\n                action: 'confirm',\n                collateral: strategy.trove,\n                other: {\n                  leverage: sliderValue,\n                  borrow: tokenBorrowObj,\n                }\n              }}\n            >Borrow</Button>\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardModal;\n\nconst InputLabel = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.64);\n  margin-bottom: 8px;\n`;\n\nconst Dividers = styled.div`\n  height: 0;\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  margin-top: 24px;\n  margin-bottom: 24px;\n`;\n\nconst BoxedLabels = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  background: rgba(255, 255, 255, 0.08);\n  height: 44px;\n  border-radius: 6px;\n  margin-bottom: 8px;\n  padding: 0 12px 0 12px;\n`;\n","import React, { useEffect, useMemo } from \"react\";\nimport Button from \"../../../theme/components/Button\";\nimport ERC20 from \"../../../protocol/ERC20\";\nimport useApprove, { ApprovalState } from \"../../../hooks/callbacks/useApprove\";\nimport useCore from \"../../../hooks/useCore\";\nimport { useGetActiveChainId } from \"../../../state/chains/hooks\";\n\ninterface IProps {\n  token: string,\n  contract: string;\n  updateStatus: (status: 'Approved' | 'IsApproving' | 'NotApproved') => void;\n}\n\nconst ApproveButtons = (props: IProps) => {\n  const { token, updateStatus, contract } = props;\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n\n  const [approveStatus, approveCollateral] = useApprove(\n    core.tokens(token, activeChainId),\n    core.contracts(contract, activeChainId).address,\n  );\n\n  const isCollatApproved = useMemo(() => approveStatus === ApprovalState.APPROVED, [approveStatus]);\n  const isCollatApproving = useMemo(() => approveStatus === ApprovalState.PENDING, [approveStatus]);\n\n  useEffect(() => {\n    if (approveStatus === ApprovalState.PENDING) {\n      return updateStatus('IsApproving')\n    } else if (approveStatus === ApprovalState.APPROVED) {\n      return updateStatus('Approved')\n    } else {\n      return updateStatus('NotApproved');\n    }\n  }, [approveStatus, updateStatus])\n\n  return (\n    <Button\n      disabled={isCollatApproved || isCollatApproving}\n      loading={isCollatApproving}\n      onClick={approveCollateral}\n      text={isCollatApproved ? `${token} Approved` : `Approve ${token}`}\n      tracking_id={`${contract}_approve_collateral`}\n      tracking_params={{\n        collateral: token,\n      }}\n    />\n  )\n}\n\nexport default ApproveButtons;\n","import { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: string;\n};\n\nexport default () => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: '' });\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const { account } = useWallet();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: '' });\n      return;\n    }\n\n    const proxyRegistryContract = core.getLeverageAccountRegistry(activeChainId);\n    const proxyAddress = await proxyRegistryContract.accounts(account);\n\n    setValue({\n      isLoading: false,\n      value: proxyAddress,\n    });\n  }, [account, core, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch dsproxy %: ${err}`));\n    }\n  }, [core.isUnlocked, account, fetchValue, activeChainId]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useMemo } from 'react';\n\nimport { StrategiesStaticInfo } from '../../../protocol/config';\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useGetLeverageAccount from '../../state/useGetLeverageAccount';\nimport useCore from '../../useCore';\n\nexport default function (strategy: StrategiesStaticInfo) {\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n\n  const leverageAccount = useGetLeverageAccount();\n\n  const leverageAccountContract = useMemo(\n    () =>\n      leverageAccount.value\n        ? core.getContractAt('LeverageAccount', leverageAccount.value)\n        : null,\n    [core, leverageAccount.value],\n  );\n\n  const strategyContract = useMemo(() => core.contracts(strategy.contract, activeChainId), [\n    activeChainId,\n    core,\n    strategy.contract,\n  ]);\n\n  return useCallback(\n    async (onSuccess?: () => void, errorHandler?: () => void): Promise<void> => {\n      try {\n        const tx = await leverageAccountContract.approveStrategy(strategyContract.address);\n\n        addTransaction(tx, {\n          summary: `Approve ${strategy.displayName} strategy to use your leverage account`,\n        });\n\n        const response = await tx.wait();\n\n        if (errorHandler && response.status !== 1) errorHandler();\n        if (onSuccess && response.status === 1) onSuccess();\n      } catch (e) {\n        if (errorHandler) errorHandler();\n\n        console.log('Error', e);\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      leverageAccountContract,\n      strategyContract.address,\n      addTransaction,\n      strategy.displayName,\n      addPopup,\n    ],\n  );\n}\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\nimport useGetLeverageAccount from \"../useGetLeverageAccount\";\nimport { StrategiesStaticInfo } from \"../../../protocol/config\";\n\ntype State = {\n  isLoading: boolean;\n  isApproved: boolean;\n};\n\nexport default (strategy: StrategiesStaticInfo) => {\n  const [value, setValue] = useState<State>({ isLoading: false, isApproved: true });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetActiveChainId();\n  const leverageAccount = useGetLeverageAccount();\n\n  const leverageAccountContract = useMemo(\n    () =>\n      leverageAccount.value\n        ? core.getContractAt('LeverageAccount', leverageAccount.value)\n        : null,\n    [core, leverageAccount.value],\n  );\n\n  const strategyContract = useMemo(() => core.contracts(strategy.contract, chainId), [chainId, core, strategy.contract]);\n\n  const fetchValue = useCallback(async () => {\n    if (leverageAccount.isLoading || leverageAccountContract === null) {\n      setValue({ isLoading: true, isApproved: false });\n      return;\n    }\n\n    const status = await leverageAccountContract.canExecute(strategyContract.address);\n\n    setValue({ isLoading: false, isApproved: status });\n  }, [leverageAccount, leverageAccountContract, strategyContract]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => {\n        setValue({ isLoading: false, isApproved: false });\n        console.error(`Failed to fetch staking balance: ${err}`)\n      });\n    }\n  }, [core.isUnlocked, blockNumber, account, fetchValue, leverageAccountContract, strategyContract, leverageAccount]);\n\n  return value;\n};\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport { Grid } from '@material-ui/core';\n\nimport { StrategiesStaticInfo } from '../../../protocol/config';\nimport { ITokenObj } from \"./CreatePosition\";\nimport { useSlippage } from \"../../../state/slippage/hooks\";\nimport ApproveButtons from \"./ApproveButtons\";\nimport Button from \"../../../theme/components/Button\";\nimport useApproveStrategy from \"../../../hooks/callbacks/strategies/useApproveStrategy\";\nimport { BigNumber } from \"ethers\";\nimport useGetBorrowingFeeRateWithDecay from \"../../../hooks/state/troveManager/useGetBorrowingFeeRateWithDecay\";\nimport useOpenStrategy from \"../../../hooks/callbacks/strategies/useOpenStrategy\";\nimport useIsStrategyApproved from \"../../../hooks/state/strategies/useIsStrategyApproved\";\n\ninterface IProps {\n  onClose: () => void;\n  handleStepBack: () => void;\n  onSuccess: () => void;\n  sliderValue: number;\n  tokenSupplyObj: ITokenObj;\n  tokenBorrowObj: ITokenObj;\n  strategy: StrategiesStaticInfo;\n}\n\ninterface IApproval { [name: string]: 'Approved' | 'IsApproving' | 'NotApproved' }\n\nconst ConfirmButton = (props: IProps) => {\n  const { value: slippage } = useSlippage();\n  const [approvalStatus, setApprovalStatus] = useState<IApproval>({});\n  const [isApprovingStrategy, setIsApprovingStrategy] = useState<boolean>(false);\n\n  const strategyApprovalStatus = useIsStrategyApproved(props.strategy);\n\n  useEffect(() => {\n    if (approvalStatus === {}) {\n      props.strategy.depositTokens.map((token) => {\n        const status = approvalStatus;\n        status[token] = 'NotApproved';\n        setApprovalStatus({ ...status });\n      })\n    }\n  }, [approvalStatus, props.strategy.depositTokens])\n\n  const approvalButtons = useMemo(() => props.strategy.depositTokens.map((token) => {\n    const onlyOneCollateral = props.strategy.depositTokens.length === 1\n    return (\n      <Grid item lg={onlyOneCollateral ? 12 : 6} md={onlyOneCollateral ? 12 : 6} sm={12} xs={12}>\n        <ApproveButtons\n          key={token}\n          token={token}\n          contract={props.strategy.contract}\n          updateStatus={(data) => {\n            if (approvalStatus[token] !== data) {\n              const temp = approvalStatus;\n              temp[token] = data;\n              setApprovalStatus({ ...temp });\n            }\n          }}\n        />\n      </Grid>\n    )\n  }), [approvalStatus, props.strategy.contract, props.strategy.depositTokens])\n\n  const approveStrategy = useApproveStrategy(props.strategy)\n\n  const onApproveStrategy = () => approveStrategy(\n    () => setIsApprovingStrategy(false),\n    () => { },\n  );\n\n  const enableConfirm = useMemo(() => {\n    let allApproved = 0;\n    if (strategyApprovalStatus.isLoading) {\n      return {\n        value: false,\n        isLoading: true,\n      }\n    }\n    props.strategy.depositTokens.forEach((token) => {\n      if (approvalStatus[token] === 'IsApproving') {\n        return {\n          value: false,\n          isLoading: true,\n        }\n      }\n    });\n    props.strategy.depositTokens.forEach((token) => {\n      if (approvalStatus[token] === 'Approved') {\n        allApproved++;\n      }\n    });\n    if (strategyApprovalStatus.isApproved) allApproved++;\n    return {\n      value: allApproved === props.strategy.depositTokens.length + 1,\n      isLoading: false\n    }\n  }, [approvalStatus, props.strategy.depositTokens, strategyApprovalStatus])\n\n  const borrowingFeeRate = useGetBorrowingFeeRateWithDecay(props.strategy.trove);\n\n  const leverageHandler = useOpenStrategy(\n    props.strategy,\n    props.tokenSupplyObj,\n    props.tokenBorrowObj,\n    borrowingFeeRate.value,\n    BigNumber.from(0)\n  );\n\n  const onConfirm = () => leverageHandler(props.onSuccess, props.onClose);\n\n  return (\n    <div className=\"m-t-32\">\n      {!enableConfirm.value && !strategyApprovalStatus.isLoading && !enableConfirm.isLoading &&\n        <div>\n          <Grid container spacing={2} direction={\"row\"}>\n            {approvalButtons}\n          </Grid>\n          <Grid container spacing={2} direction={\"row\"}>\n            <Grid item sm={12} xs={12}>\n              <Button\n                variant={\"default\"}\n                onClick={() => {\n                  setIsApprovingStrategy(true);\n                  onApproveStrategy();\n                }}\n                disabled={strategyApprovalStatus.isApproved || strategyApprovalStatus.isLoading || isApprovingStrategy}\n                loading={isApprovingStrategy}\n                tracking_id={'strategy_approve_strategy'}\n                tracking_params={{\n                  collateral: props.strategy.trove,\n                }}\n              >\n                {strategyApprovalStatus.isApproved ? 'Strategy Approved' : 'Approve Strategy'}\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      }\n      <Grid container spacing={2} direction={'row'}>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <Button\n            variant={'transparent'}\n            onClick={props.handleStepBack}\n            tracking_id={'strategy_step3'}\n            tracking_params={{\n              action: 'confirm',\n              collateral: props.strategy.trove,\n            }}\n          >\n            Back\n          </Button>\n        </Grid>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <Button\n            onClick={onConfirm}\n            disabled={!enableConfirm.value || enableConfirm.isLoading}\n            tracking_id={'strategy_step3'}\n            tracking_params={{\n              action: 'confirm',\n              collateral: props.strategy.trove,\n              other: {\n                supply: props.tokenSupplyObj,\n                borrow: props.tokenBorrowObj,\n                leverage: props.sliderValue,\n              }\n            }}\n          >Confirm</Button>\n        </Grid>\n      </Grid >\n    </div >\n  );\n};\n\nexport default ConfirmButton;\n","import * as Sentry from '@sentry/react';\nimport { BigNumber } from 'ethers';\nimport { useCallback, useMemo } from 'react';\n\nimport { StrategiesStaticInfo } from '../../../protocol/config';\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (\n  strategy: StrategiesStaticInfo,\n  principalAmounts: { [name: string]: string },\n  borrowingAmounts: { [name: string]: string },\n  totalExposure: BigNumber,\n  borrowingFeeRate: BigNumber,\n) {\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n\n  const strategyContract = useMemo(() => core.contracts(strategy.contract, activeChainId), [\n    activeChainId,\n    core,\n    strategy.contract,\n  ]);\n\n  return useCallback(\n    async (callback?: () => void, errorHandler?: () => void): Promise<void> => {\n      try {\n        const contract = strategyContract.connect(core.signer());\n\n        const converTokenBalToBN = (tokenName: string, value: string) => {\n          const token = core.tokens(tokenName, core._activeNetwork);\n          const decimals = BigNumber.from(10).pow(token.decimal);\n          return BigNumber.from(Math.floor(Number(value) * 100000))\n            .mul(decimals)\n            .div(100000)\n            .toString();\n        };\n\n        const convertMapping = (mapping: { [name: string]: string }) => {\n          const keys = Object.keys(mapping);\n          return keys.map((key) => converTokenBalToBN(key, mapping[key]));\n        };\n\n        const principalCollateral = [...convertMapping(principalAmounts), '0'];\n        const params = [\n          convertMapping(borrowingAmounts), // uint256 borrowedCollateral,\n          principalCollateral, // uint256 principalCollateral,\n          '0', // uint256 minExposure,\n          '0', // uint256 maxBorrowingFee\n        ];\n\n        const tx = await contract.openPosition(...params);\n\n        addTransaction(tx, {\n          summary: `Open leverage position for ${strategy.displayName} strategy`,\n        });\n\n        const response = await tx.wait();\n\n        if (errorHandler && response.status !== 1) {\n          Sentry.captureException({\n            response,\n            ...strategy,\n            ...principalAmounts,\n            ...borrowingAmounts,\n          });\n          errorHandler();\n        }\n        if (callback && response.status === 1) callback();\n      } catch (e) {\n        Sentry.captureException({\n          e,\n          ...strategy,\n          ...principalAmounts,\n          ...borrowingAmounts,\n        });\n        if (errorHandler) errorHandler();\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      strategyContract,\n      core,\n      principalAmounts,\n      borrowingAmounts,\n      addTransaction,\n      strategy,\n      addPopup,\n    ],\n  );\n}\n","import React, { useMemo } from \"react\";\nimport styled from 'styled-components';\n\nimport { StrategiesStaticInfo } from '../../../protocol/config';\nimport theme from '../../../theme';\nimport DataField from '../../../theme/components/DataField';\nimport { ITokenObj } from \"./CreatePosition\";\nimport ConfirmButton from \"./ConfirmButton\";\nimport TextWrapper from \"../../../theme/components/TextWrapper\";\nimport { useSlippage } from \"../../../state/slippage/hooks\";\nimport useGetAPRValue, { State } from \"../../../hooks/state/strategies/useGetAPRValue\";\nimport InfoTip from \"../../../theme/components/InfoTip\";\n\ninterface IProps {\n  onClose: () => void;\n  handleStepBack: () => void;\n  onSuccess: () => void;\n  sliderValue: number;\n  tokenSupplyObj: ITokenObj;\n  tokenBorrowObj: ITokenObj;\n  strategy: StrategiesStaticInfo;\n  aprValues: State;\n}\n\nconst Step3 = (props: IProps) => {\n  const {\n    sliderValue,\n    tokenSupplyObj,\n    tokenBorrowObj,\n    strategy,\n    aprValues\n  } = props;\n\n  const { value: slippage } = useSlippage();\n\n  const leveragedApr = useMemo(() => {\n    if (aprValues.isLoading) {\n      return {\n        isLoading: true,\n        value: '-'\n      }\n    } else {\n      if (aprValues.value.totalAPR === '-' || !Number(aprValues.value.totalAPR)) {\n        return {\n          isLoading: false,\n          value: '-'\n        }\n      } else {\n        return {\n          isLoading: false,\n          value: (Number(aprValues.value.totalAPR) * sliderValue).toPrecision(3)\n        }\n      }\n    }\n  }, [aprValues.isLoading, aprValues.value.totalAPR, sliderValue]);\n\n  const leveragedTradingFee = useMemo(() => {\n    return {\n      isLoading: false,\n      value: (Number(0.3) * sliderValue).toPrecision(3)\n    }\n  }, [sliderValue]);\n\n  const totalApr = useMemo(() => {\n    if (aprValues.isLoading || leveragedTradingFee.isLoading) {\n      return {\n        isLoading: true,\n        value: '-'\n      }\n    } else {\n      if (isNaN(Number(aprValues.value.tradingAPR)) || isNaN(Number(aprValues.value.totalAPR))) {\n        return {\n          isLoading: false,\n          value: '-'\n        }\n      } else {\n        return {\n          isLoading: false,\n          value: (Number(leveragedApr.value) + Number(aprValues.value.tradingAPR) - Number(leveragedTradingFee.value) - Number(0.00)).toPrecision(3)\n        }\n      }\n    }\n  }, [aprValues.isLoading, aprValues.value.totalAPR, aprValues.value.tradingAPR, leveragedApr.value, leveragedTradingFee.isLoading, leveragedTradingFee.value])\n\n  return (\n    <div>\n      <div>\n        <div className={'single-line-start-between m-b-8'}>\n          <TextWrapper\n            text={'Principal Collateral'}\n            fontWeight={600}\n            Fcolor={theme.color.transparent[200]}\n          />\n          <div>\n            {strategy.depositTokens.map((item) => {\n              return (\n                <TextWrapper\n                  text={Number(tokenSupplyObj[item]).toLocaleString() + ` ${item}`}\n                  fontWeight={600}\n                  Fcolor={theme.color.transparent[100]}\n                  className={'m-b-4'}\n                  align={'right'}\n                />\n              )\n            })}\n          </div>\n        </div>\n        <div className={'single-line-start-between m-b-8'}>\n          <TextWrapper\n            text={'You will gain exposure to'}\n            fontWeight={600}\n            Fcolor={theme.color.transparent[200]}\n          />\n          <div>\n            {strategy.borrowTokens.map((item) => {\n              return (\n                <TextWrapper\n                  text={Number(tokenBorrowObj[item]).toLocaleString() + ` ${item}`}\n                  fontWeight={600}\n                  Fcolor={theme.color.transparent[100]}\n                  className={'m-b-4'}\n                  align={'right'}\n                />\n              )\n            })}\n          </div>\n        </div>\n        {/*<div className={'single-line-start-between m-b-8'}>\n          <TextWrapper\n            text={'Net Exposure'}\n            fontWeight={600}\n            Fcolor={theme.color.transparent[200]}\n          />\n          <div>\n            {strategy.depositTokens.map((item) => {\n              return (\n                <TextWrapper\n                  text={(Number(tokenBorrowObj[item]) + Number(tokenSupplyObj[item])) + ` ${item}`}\n                  fontWeight={600}\n                  Fcolor={theme.color.transparent[100]}\n                  className={'m-b-4'}\n                  align={'right'}\n                />\n              )\n            })}\n          </div>\n        </div>*/}\n      </div>\n      <Dividers />\n      <div>\n        {/*<DataField\n          label={'Collateral ratio'}\n          value={Number(0).toLocaleString() + '%'}\n          labelFontWeight={600}\n          labelFontColor={theme.color.transparent[200]}\n          valueFontWeight={600}\n          valueFontColor={theme.color.transparent[100]}\n          className={'m-b-8'}\n        />*/}\n        <DataField\n          label={'Total leverage'}\n          value={sliderValue + 'x'}\n          labelFontWeight={600}\n          labelFontColor={theme.color.transparent[200]}\n          valueFontWeight={600}\n          valueFontColor={theme.color.transparent[100]}\n          className={'m-b-8'}\n        />\n      </div>\n      <Dividers />\n      <div>\n        <DataField\n          label={'Yield Farm APR'}\n          value={`${leveragedApr.value}%`}\n          labelToolTip={'This is the APR that you will be earning from the yield farm that you are farming.'}\n          isValueLoading={leveragedApr.isLoading}\n          labelFontWeight={600}\n          labelFontColor={theme.color.transparent[200]}\n          valueFontWeight={600}\n          valueFontColor={theme.color.green[300]}\n          className={'m-b-8'}\n        />\n        {/*<DataField\n          label={'Trading Fees APR'}\n          value={`${aprValues.value.tradingAPR}%`}\n          labelToolTip={'This is the APY that you will be earning from trading fees (if you are providing liquidity)'}\n          isValueLoading={aprValues.isLoading}\n          labelFontWeight={600}\n          labelFontColor={theme.color.transparent[200]}\n          valueFontWeight={600}\n          valueFontColor={theme.color.transparent[100]}\n          className={'m-b-8'}\n        />*/}\n        <DataField\n          label={'Borrowing Fee'}\n          value={`0.0%`}\n          labelToolTip={'This is the APR that you will pay to the protocol to open this position'}\n          isValueLoading={aprValues.isLoading}\n          labelFontWeight={600}\n          labelFontColor={theme.color.transparent[200]}\n          valueFontWeight={600}\n          valueFontColor={theme.color.red[300]}\n          className={'m-b-8'}\n        />\n        <DataField\n          label={'Trading Fee'}\n          value={`${leveragedTradingFee.value}%`}\n          labelToolTip={'This is the APR that you will pay to the protocol to open this position'}\n          isValueLoading={leveragedTradingFee.isLoading}\n          labelFontWeight={600}\n          labelFontColor={theme.color.transparent[200]}\n          valueFontWeight={600}\n          valueFontColor={theme.color.red[300]}\n          className={'m-b-8'}\n        />\n        <DataField\n          label={'Total APR'}\n          value={`${totalApr.value}%`}\n          labelToolTip={'This is the final APR that you will be earning from this position.'}\n          isValueLoading={totalApr.isLoading}\n          labelFontWeight={600}\n          labelFontColor={theme.color.transparent[200]}\n          valueFontWeight={600}\n          valueFontSize={16}\n          labelFontSize={16}\n          valueFontColor={theme.color.primary[300]}\n          className={'m-b-8'}\n        />\n      </div>\n      <Dividers />\n      <div>\n        <DataField\n          label={'Slippage Tolerance'}\n          value={`${slippage}%`}\n          labelFontWeight={600}\n          labelFontColor={theme.color.transparent[200]}\n          valueFontWeight={600}\n          valueFontColor={theme.color.transparent[100]}\n          className={'m-b-8'}\n        />\n        {/*<DataField\n          label={'Est. Price impact on position value'}\n          value={'87.9%'}\n          labelFontWeight={600}\n          labelFontColor={theme.color.transparent[200]}\n          valueFontWeight={600}\n          valueFontColor={theme.color.transparent[100]}\n          className={'m-b-8'}\n        />\n        <DataField\n          label={'Est. Price impact on user’s supplied value'}\n          value={'87.9%'}\n          labelFontWeight={600}\n          labelFontColor={theme.color.transparent[200]}\n          valueFontWeight={600}\n          valueFontColor={theme.color.transparent[100]}\n          className={'m-b-8'}\n        />*/}\n        {/* <InfoTip\n          msg={'When you open this position you will lose your shit'}\n          type={'Warning'}\n        /> */}\n      </div>\n      <ConfirmButton\n        onClose={props.onClose}\n        handleStepBack={props.handleStepBack}\n        onSuccess={props.onSuccess}\n        sliderValue={props.sliderValue}\n        tokenSupplyObj={props.tokenSupplyObj}\n        tokenBorrowObj={props.tokenBorrowObj}\n        strategy={props.strategy}\n      />\n    </div >\n  );\n};\n\nexport default Step3;\n\nconst Dividers = styled.div`\n  height: 0px;\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  margin-top: 24px;\n  margin-bottom: 24px;\n`;\n","import { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nexport interface State {\n  isLoading: boolean;\n  value: {\n    supplyAPR: string,\n    tradingAPR: string,\n    borrowAPR: string,\n    totalAPR: string,\n  };\n}\n\nconst initialState = {\n  isLoading: true,\n  value: {\n    supplyAPR: '-',\n      tradingAPR: '-',\n      borrowAPR: '-',\n      totalAPR: '-',\n  }\n}\n\nconst useGetAPRValue = (trove: string) => {\n  const [value, setValue] = useState<State>(initialState);\n\n  const { account } = useWallet();\n\n  const fetchValues = useCallback(async () => {\n    try {\n      fetch(`https://api.arthcoin.com/apy/leverage?collateral=${trove}`)\n        .then((data) => data.json())\n        .then((data: any) => {\n          setValue({\n            isLoading: false,\n            value: data\n          });\n        })\n        .catch((error) => {\n          setValue(initialState);\n          console.error(`Failed to fetch apr values for ${trove}: ${error.stack}`);\n          return 0;\n        });\n    } catch(e) {\n      setValue(initialState);\n    }\n  }, [trove]);\n\n  useEffect(() => {\n    fetchValues().catch((err) => {\n      setValue(initialState);\n      console.error(\n        `Failed to fetch apr values for ${trove}: ${err.stack} `\n      )\n    })\n  }, [account, fetchValues, trove]);\n\n  return value;\n};\n\nexport default useGetAPRValue;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\nimport { FarmingConfigurations } from \"../../../protocol/config\";\n\ntype State = {\n  isLoading: boolean;\n  value: boolean;\n};\n\nexport default () => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: false});\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetActiveChainId();\n  const strategies = core.getAllStrategies(chainId, account);\n  const checkingPool: string[] = strategies[0]?.stakingPools || [];\n\n  const farmingPools: FarmingConfigurations[] = useMemo(() => {\n    if (checkingPool.length === 0) return []\n    return core.getFarmingPools(chainId).filter((item) => {\n      // @ts-ignore\n      if (checkingPool.includes(item.name)) {\n        return item;\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    })}, [core, chainId]);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: false });\n      return;\n    }\n\n    let hasBalance = 0;\n\n    for (const item of farmingPools) {\n      const contract = core.contracts(item.contract, chainId);\n      const balance: BigNumber = await contract.balanceOf(core.myAccount);\n      if (balance.gt(0)) hasBalance ++;\n    }\n    setValue({ isLoading: false, value: hasBalance >= farmingPools.length});\n  }, [account, farmingPools, core, chainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch any staked amount: ${err}`));\n    }\n  }, [core.isUnlocked, blockNumber, account, fetchValue]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\n\nimport '../../../App.css';\nimport { StrategiesStaticInfo } from '../../../protocol/config';\n\nimport Step1 from './Step1';\nimport Step2 from './Step2';\nimport Step3 from './Step3';\nimport useGetAPRValue from \"../../../hooks/state/strategies/useGetAPRValue\";\nimport useHasStakingBalance from \"../../../hooks/state/strategies/useHasStakingBalance\";\n\ninterface IProps {\n  strategy: StrategiesStaticInfo;\n}\n\nexport interface ITokenObj { [name: string]: string }\n\nexport const minSlider = 1;\n\nconst CreatePosition = (props: IProps) => {\n  const { strategy } = props;\n\n  const [cr, setCR] = useState<string>('');\n  const [activeStep, setActiveStep] = useState<number>(0);\n  const [sliderValue, setSliderValue] = useState(minSlider);\n  const [completed, setCompleted] = useState(new Set());\n  const [tokenSupplyObj, setTokenSupplyObj] = useState<{ [name: string]: string }>({});\n  const [tokenBorrowObj, setTokenBorrowObj] = useState<{ [name: string]: string }>({});\n  const aprValues = useGetAPRValue(strategy.trove);\n  const hasStaked = useHasStakingBalance();\n\n  useEffect(() => {\n    strategy.depositTokens.forEach((t) => {\n      const supply = tokenSupplyObj;\n      supply[t] = '';\n      const borrow = tokenBorrowObj;\n      borrow[t] = '';\n      setTokenSupplyObj(supply);\n      setTokenBorrowObj(borrow);\n    })\n    resetData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [strategy]);\n\n  useEffect(() => {\n    const principal = Number(tokenSupplyObj.BUSD || tokenSupplyObj.USDC) / 2\n\n    strategy.borrowTokens.forEach((t) => {\n      const borrow = tokenBorrowObj;\n      const multiplier = strategy.leverageMultiplier ? strategy.leverageMultiplier[t] : 1;\n      borrow[t] = String(principal * (sliderValue) * multiplier);\n      setTokenBorrowObj({ ...borrow });\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sliderValue, strategy.depositTokens, tokenSupplyObj]);\n\n  const mcr = useMemo(() => {\n    if (sliderValue === 1) return 0;\n    return (sliderValue * 100) / (sliderValue - 1);\n  }, [sliderValue])\n\n  const resetData = () => {\n    setActiveStep(0);\n    setSliderValue(minSlider);\n    setCompleted(new Set());\n  };\n\n  function getSteps() {\n    return ['Supply Collateral', 'Choose Leverage', 'Confirm'];\n  }\n\n  function getStepContent(step: number) {\n    switch (step) {\n      case 0:\n        return step1();\n      case 1:\n        return step2();\n      case 2:\n        return step3();\n      default:\n        return step1(); // Maybe show a error/feedback popup.\n    }\n  }\n\n  const step1 = () => {\n    return (\n      <Step1\n        strategy={strategy}\n        tokenSupplyObj={tokenSupplyObj}\n        setTokenSupplyObj={(key, value) => {\n          const temp = tokenSupplyObj;\n          temp[key] = value;\n          setTokenSupplyObj({ ...temp });\n        }}\n        onClose={() => window.history.back()}\n        handleStep={handleStep}\n      />\n    );\n  };\n\n\n  const step2 = () => {\n    return (\n      <Step2\n        strategy={strategy}\n        setCR={setCR}\n        tokenSupplyObj={tokenSupplyObj}\n        tokenBorrowObj={tokenBorrowObj}\n        sliderValue={sliderValue}\n        mcr={mcr}\n        setSliderValue={setSliderValue}\n        handleStep={handleStep}\n        handleStepBack={handleStepBack}\n        aprValues={aprValues}\n        hasStaked={hasStaked.value}\n      />\n    );\n  };\n\n  const step3 = () => {\n    return (\n      <Step3\n        strategy={strategy}\n        tokenSupplyObj={tokenSupplyObj}\n        tokenBorrowObj={tokenBorrowObj}\n        sliderValue={sliderValue}\n        onClose={() => { }}\n        handleStepBack={handleStepBack}\n        onSuccess={() => window.location.href = '/#/strategies/your-position'}\n        aprValues={aprValues}\n      />\n    );\n  };\n\n  const steps = getSteps();\n  const PageBar = steps.map((item: string, index: number) => {\n    return (\n      <div className={`${index === activeStep ? 'step-active' : 'step-inactive'}`}>\n        <span className={`${index === activeStep ? 'step-active-text' : 'step-inactive-text'}`}>\n          {item}\n        </span>\n      </div>\n    );\n  });\n\n  const handleStep = () => {\n    setActiveStep(activeStep + 1);\n    const newCompleted = new Set(completed);\n    newCompleted.add(activeStep);\n    setCompleted(newCompleted);\n  };\n\n  const handleStepBack = () => {\n    setActiveStep(activeStep - 1);\n    const newCompleted = new Set(completed);\n    newCompleted.delete(activeStep);\n    setCompleted(newCompleted);\n  };\n\n  if (Object.keys(tokenSupplyObj).length === 0) return <div />\n\n  return (\n    <div>\n      <div className={'material-secondary'}>\n        <MainBar>{PageBar}</MainBar>\n        <Dividers />\n        {getStepContent(activeStep)}\n      </div>\n    </div>\n  );\n};\n\nexport default CreatePosition;\n\nconst Dividers = styled.div`\n  height: 0px;\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  margin-top: 24px;\n  margin-bottom: 24px;\n`;\n\nconst MainBar = styled.div`\n  display: flex;\n  flex-direction: row;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.08);\n  height: 24px;\n  margin-bottom: 24px;\n  @media (max-width: 600px) {\n    height: 48px;\n  }\n`;\n","import React from \"react\";\nimport TextWrapper from \"../../../theme/components/TextWrapper\";\nimport Button from \"../../../theme/components/Button\";\nimport { StrategiesStaticInfo } from \"../../../protocol/config\";\n\ninterface IProps {\n  strategy: StrategiesStaticInfo;\n}\n\nconst LeverageInfo = (props: IProps) => {\n  const {strategy} = props;\n  return (\n    <div className={'material-primary'}>\n      <TextWrapper\n        text={'Leverage Elgibility'}\n        fontWeight={600}\n        fontSize={16}\n        className={'m-b-24'}\n      />\n      <div className={'m-b-32'}>\n        <TextWrapper\n          text={\n            <div>\n              Users who have staked LP into the {strategy.stakingPools.toString()} get access to more leverage (upto <b>{strategy.maxLeverage}x</b> &#127881;). Normal users\n              get access to only <b>{strategy.maxNonStakersLeverage}x</b> leverage.\n            </div>\n          }\n          className={'m-b-12'}\n        />\n        <TextWrapper\n          text={\n            <div>\n              Provide liquidity to the {strategy.stakingPools.toString()} pool to earn yield and get access to more leverage!\n            </div>\n          }\n          className={'m-b-12'}\n        />\n        <TextWrapper\n          text={\n            <div>\n              (Leverage available post the alpha-mainnet will be 20x for staked users and {strategy.maxNonStakersLeverage}x for normal users)\n            </div>\n          }\n          className={'m-b-12'}\n        />\n      </div>\n      <div>\n        <Button\n          text={`Stake to unlock ${strategy.maxLeverage}x Leverage`}\n          to={'/farming'}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default LeverageInfo;\n","import { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\nimport useGetLeverageAccount from \"../useGetLeverageAccount\";\n\ntype State = {\n  isLoading: boolean;\n  value: boolean;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: false });\n\n  const core = useCore();\n  const { account, chainId } = useWallet();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetActiveChainId();\n  const leverageAccount = useGetLeverageAccount();\n\n  const fetchValue = useCallback(async () => {\n    if (!account && leverageAccount.isLoading) {\n      setValue({ isLoading: true, value: false });\n      return;\n    }\n\n    if (!leverageAccount.value && !leverageAccount.isLoading) {\n      setValue({ isLoading: false, value: false });\n      return;\n    }\n\n    const troveContract = core.getTroveManager(contractPrefix, activeChainId);\n    console.log('ttttt', troveContract.address, troveContract.provider, chainId, activeChainId);\n    const trove = await troveContract.Troves(leverageAccount.value);\n    setValue({ isLoading: false, value: trove?.status === 1 });\n  }, [account, leverageAccount.isLoading, leverageAccount.value, core, contractPrefix, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch trove details isStrategyOpen: ${err}`));\n    }\n  }, [core.isUnlocked, core.myAccount, account, blockNumber, fetchValue, leverageAccount]);\n\n  return value;\n};\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nimport arthLogo from '../../assets/icons/tokenSymbol/ARTH.svg';\n\ninterface IProps {\n  width?: string;\n  height?: string;\n}\n\nconst LoadingPage = (props: IProps) => {\n  return (\n    <MainDiv>\n      <ElementConatiner>\n        <LoadingIndicator />\n        <ArthLogo src={arthLogo} alt=\"ARTH\" />\n      </ElementConatiner>\n    </MainDiv>\n  );\n};\n\nconst rotate = keyframes`\n  0% {\n    transform: rotate(0deg) scale(1);\n  }\n\n  50% {\n    transform: rotate(180deg) scale(0.8);\n  }\n\n  100% {\n    transform: rotate(360deg) scale(1);\n  }\n`;\n\nconst plus = keyframes`\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.8);\n  }\n  \n  100% {\n    transform: scale(1);\n  }\n`;\n\nconst MainDiv = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 200px;\n  background: transparent;\n  z-index: 20;\n`;\n\nconst ElementConatiner = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n\nconst LoadingIndicator = styled.div`\n  width: 60px;\n  height: 60px;\n  border: 3px solid #fd5656;\n  border-left-color: transparent;\n  animation: ${rotate} 2s linear infinite;\n  border-radius: 50%;\n`;\n\nconst ArthLogo = styled.img`\n  width: 58px;\n  height: 58px;\n  animation: ${plus} 2s linear infinite;\n  position: absolute;\n  top: 0;\n`;\n\nexport default LoadingPage;\n","import React, { useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport Container from '../../components/Container';\nimport useCore from '../../hooks/useCore';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport theme from '../../theme';\nimport IconLoader from '../../theme/components/IconLoader';\nimport PageHeader from '../../theme/components/PageHeader';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport LoanInfo from '../LoanInfo/LoanInfo';\n\nimport CreatePosition from './components/CreatePosition';\nimport LeverageInfo from \"./components/LeverageInfo\";\nimport isStrategyOpen from \"../../hooks/state/strategies/isStrategyOpen\";\nimport LoadingPage from \"../../components/LoadingPage\";\nimport { useWallet } from \"use-wallet\";\n\nconst AddStrategies = () => {\n  // @ts-ignore\n  const { id } = useParams();\n  const activeChainId = useGetActiveChainId();\n  const {account} = useWallet();\n\n  const core = useCore();\n  const strategies = core.getAllStrategies(activeChainId, account);\n  const strategy = useMemo(() => strategies.find((s) => s.trove === id), [strategies, id]);\n\n  if (!strategy) {\n    window.location.href = '/#/strategies';\n    return <div />;\n  }\n\n  const hasPosition = isStrategyOpen(strategy.trove);\n\n  if (hasPosition.isLoading) {\n    return (\n      <div style={{ position: 'relative', height: '150px' }}>\n        <LoadingPage />\n      </div>\n    )\n  }\n\n  if (hasPosition.value) {\n    window.location.href = '/#/strategies/your-position';\n    return <div />;\n  }\n\n  return (\n    <div className=\"custom-container\">\n      <div className=\"m-b-40 mo-custom-container\">\n        <div className={'m-b-20 single-line-center-start'}>\n          <a href={'/#/strategies/overview'}>\n            <TextWrapper text={'Dashboard'} Fcolor={theme.color.transparent[200]} />\n          </a>\n          <IconLoader iconName={'ArrowRight'} iconType={'arrow'} className={'m-r-4 m-l-4'} />\n          <TextWrapper text={'New Loan'} Fcolor={theme.color.transparent[100]} />\n        </div>\n        <PageHeader\n          title={'Execute a strategy'}\n          subTitle={\"Decide the parameters on how much leverage you would like to take.\"}\n        />\n      </div>\n      <Grid container className=\"m-t-24\" spacing={2}>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <CreatePosition strategy={strategy} />\n        </Grid>\n         <Grid item lg={6} md={6} sm={12} xs={12}>\n          <LeverageInfo strategy={strategy}/>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default AddStrategies;\n","import React, { useContext } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\n\ninterface ContainerProps {\n  children?: React.ReactNode;\n  size?: 'sm' | 'md' | 'lg';\n  backgroundColor?: string;\n  margin?: string;\n}\n\nconst Container: React.FC<ContainerProps> = ({\n  children,\n  size = 'md',\n  backgroundColor,\n  margin,\n}) => {\n  const { siteWidth } = useContext<{ siteWidth: number }>(ThemeContext);\n  let width: number;\n  switch (size) {\n    case 'sm':\n      width = siteWidth / 2;\n      break;\n    case 'md':\n      width = (siteWidth * 2) / 3;\n      break;\n    case 'lg':\n    default:\n      width = siteWidth;\n  }\n  return (\n    <StyledContainer width={width} backgroundColor={backgroundColor} margin={margin}>\n      {children}\n    </StyledContainer>\n  );\n};\n\ninterface StyledContainerProps {\n  width: number;\n  backgroundColor?: string;\n  margin?: string;\n}\n\nconst StyledContainer = styled.div<StyledContainerProps>`\n  box-sizing: border-box;\n  margin: 0 auto;\n  max-width: ${(props) => props.width}px;\n  padding: 0 0 0 24px;\n  background: ${(props) => props.backgroundColor};\n  margin: ${(props) => props.margin};\n  width: 100%;\n  @media (max-width: 600px) {\n    padding: 0;\n  }\n`;\n\nexport default Container;\n","import React from 'react';\n\nimport { Mixpanel } from '../../../analytics/Mixpanel';\nimport config from '../../../config';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport theme from '../../index';\nimport { tracking_params } from '../Button';\nimport TextWrapper, { TextWrapperProps } from '../TextWrapper';\n\ninterface IProps {\n  onClick: () => void;\n  tracking_id?: string;\n  tracking_params?: tracking_params;\n  disabled?: boolean\n}\n\nconst TextButton = (props: IProps & TextWrapperProps) => {\n  const { onClick, tracking_id, tracking_params = {}, disabled = false } = props;\n  const chainId = useGetActiveChainId();\n\n  const trackMixpanel = () => {\n    const params = {\n      networkName: config[chainId]?.networkDisplayName || '',\n      ...tracking_params,\n    };\n\n    if (tracking_id) {\n      Mixpanel.track(`buttonClick:${tracking_id.toLowerCase()}`, params);\n    }\n  };\n\n  return (\n    <div\n      className={disabled? 'not-allowed': 'pointer'}\n      onClick={() => {\n        if (tracking_id) trackMixpanel();\n        if (onClick) onClick();\n      }}\n    >\n      <TextWrapper Fcolor={disabled? theme.color.transparent[200]: theme.color.primary[300]} {...props} />\n    </div>\n  );\n};\n\nexport default TextButton;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport CustomInputContainer from '../../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../../components/CustomInputContainer/RegexValidation';\nimport useBasicStakingDeposit from '../../../hooks/callbacks/farming/useBasicStakingDeposit';\nimport useApprove, { ApprovalState } from '../../../hooks/callbacks/useApprove';\nimport useCore from '../../../hooks/useCore';\nimport { FarmingConfigurations } from '../../../protocol/config';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport { getDisplayBalance, getDisplayBalanceToken } from '../../../utils/formatBalance';\n\ninterface IProps {\n  open: boolean;\n  poolInfo: FarmingConfigurations;\n  onCancel: () => void;\n  onDeposit?: () => void;\n  tokenBalance: BigNumber;\n}\n\nexport default (props: IProps) => {\n  const isMobile = useMediaQuery({ maxWidth: '600px' });\n  const chainId = useGetActiveChainId();\n  const [val, setValue] = useState<string>('0');\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n\n  const core = useCore();\n  const token = core.tokens(props.poolInfo.depositToken, chainId);\n  const [approveStatus, approve] = useApprove(\n    token,\n    core.contracts(props.poolInfo.contract, chainId)?.address || '',\n  );\n\n  const depositAction = useBasicStakingDeposit(\n    props.poolInfo.contract,\n    BigNumber.from(parseUnits(val, token.decimal)),\n    token,\n  );\n\n  const handleDeposit = () => {\n    depositAction(() => {\n      props.onCancel();\n    });\n  };\n\n  const isApproved = approveStatus === ApprovalState.APPROVED;\n  const isApproving = approveStatus === ApprovalState.PENDING;\n\n  return (\n    <Modal\n      closeButton\n      handleClose={props.onCancel}\n      open={props.open}\n      modalTitleStyle={{}}\n      modalContainerStyle={{}}\n      modalBodyStyle={{}}\n      title={`Stake Your Tokens`}\n    >\n      <div>\n        <CustomInputContainer\n          ILabelValue={`How much ${props.poolInfo.depositToken} would you like to supply?`}\n          IBalanceValue={getDisplayBalanceToken(props.tokenBalance, token, 6)}\n          showBalance={false}\n          ILabelInfoValue={''}\n          DefaultValue={String(val)}\n          LogoSymbol={props.poolInfo.depositToken}\n          hasDropDown={false}\n          SymbolText={props.poolInfo.depositToken}\n          setText={(t) => {\n            setValue(ValidateNumber(t) ? t : '0');\n          }}\n          inputMode={'decimal'}\n          tagText={'MAX'}\n          dontShowBackgroundContainer={true}\n          multiIcons={props.poolInfo.depositToken !== 'single'}\n          symbols={props.poolInfo.depositTokenSymbols}\n          errorCallback={(flag: boolean) => {\n            setIsInputFieldError(flag);\n          }}\n          tokenDecimals={token.decimal}\n        />\n        <OneLine>\n          <div style={{ flex: 1 }} />\n          <OneLine>\n            <BeforeChip>\n              Balance:{' '}\n              {Number(\n                getDisplayBalanceToken(props.tokenBalance, token, 6),\n              ).toLocaleString('en-US', { minimumFractionDigits: 6 })}\n            </BeforeChip>\n            <TagChips>{props.poolInfo.depositToken}</TagChips>\n          </OneLine>\n        </OneLine>\n        <Grid\n          container\n          spacing={2}\n          direction={isMobile ? 'column-reverse' : 'row'}\n          style={{ marginTop: '32px' }}\n        >\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              text=\"Cancel\"\n              size={'lg'}\n              onClick={props.onCancel}\n              tracking_id={'farming_deposit'}\n              tracking_params={{\n                action: 'cancel',\n                collateral: props.poolInfo.depositToken,\n                amount: Number(val),\n              }}\n            />\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            {!isApproved ? (\n              <Button\n                loading={isApproving}\n                text={isApproving ? 'Approving' : 'Approve'}\n                size={'lg'}\n                onClick={approve}\n                disabled={isInputFieldError || isApproved || !Number(val)}\n                tracking_id={'farming_approve'}\n                tracking_params={{\n                  collateral: props.poolInfo.depositToken,\n                }}\n              />\n            ) : (\n              <Button\n                disabled={isInputFieldError || !Number(val)}\n                text={'Deposit'}\n                size={'lg'}\n                onClick={handleDeposit}\n                tracking_id={'farming_deposit'}\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: props.poolInfo.depositToken,\n                  amount: Number(val),\n                }}\n              />\n            )}\n          </Grid>\n        </Grid>\n      </div>\n    </Modal>\n  );\n};\n\nconst OneLine = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n  justify-content: flex-start;\n  margin: 5px 0;\n`;\n\nconst BeforeChip = styled.span`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 150%;\n  letter-spacing: 0.08em;\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.64);\n  margin-right: 5px;\n`;\n\nconst TagChips = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 4px;\n  padding: 2px 8px;\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 300;\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.64);\n`;\n","import { BigNumber } from 'ethers';\nimport Numeral from 'numeral';\nimport { useCallback } from 'react';\n\nimport ERC20 from '../../../protocol/ERC20';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\nimport * as Sentry from \"@sentry/react\";\nimport { useWallet } from \"use-wallet\";\n\nexport default function (stakingContract: string, amount: BigNumber, token: ERC20) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n  const {account} = useWallet();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.contracts(stakingContract, chainId);\n\n      try {\n        const response =\n          stakingContract === 'ARTHu3PXBasicStakingV2'\n            ? await contract.deposit(token.address, amount, true)\n            : stakingContract === 'ARTHuval3PSDotBasicStaking'\n              ? await contract.deposit(account, token.address, amount)\n              : await contract.stake(amount);\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            ...response,\n            stakingContract,\n            amount,\n            token,\n          });\n        }\n\n        addTransaction(response, {\n          summary: `Stake ${Numeral(getDisplayBalance(amount, token.decimal, 3)).format(\n            '0,0.00a',\n          )} ${token.symbol.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          ...e,\n          stakingContract,\n          amount,\n          token,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e.stack,\n          },\n        });\n      }\n    },\n    [core, stakingContract, amount, addTransaction, token.decimal, token.symbol, addPopup],\n  );\n\n  return action;\n}\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport CustomInputContainer from '../../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../../components/CustomInputContainer/RegexValidation';\nimport useBasicStakingWithdraw from '../../../hooks/callbacks/farming/useBasicStakingWithdraw';\nimport useCore from '../../../hooks/useCore';\nimport { FarmingConfigurations } from '../../../protocol/config';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\n// import warningLogo from '../../../assets/svg/warningIcon.svg';\nimport Button from '../../../theme/components/Button';\nimport CustomModal from '../../../theme/components/Modal';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\n\ninterface IProps {\n  open: boolean;\n  poolInfo: FarmingConfigurations;\n  stakedBalance: BigNumber;\n  onCancel: () => void;\n  onWithdraw?: () => void;\n}\n\nexport default (props: IProps) => {\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n  const [val, setValue] = useState<string>('0');\n  const chainId = useGetActiveChainId();\n  const isMobile = useMediaQuery({ maxWidth: '600px' });\n\n  const core = useCore();\n  const token = core.tokens(props.poolInfo.depositToken, chainId);\n\n  const withdrawAction = useBasicStakingWithdraw(\n    props.poolInfo.contract,\n    BigNumber.from(parseUnits(val, token.decimal)),\n    token,\n  );\n\n  const handleWithdraw = () => {\n    withdrawAction(() => {\n      props.onCancel();\n    });\n  };\n\n  return (\n    <CustomModal\n      closeButton\n      handleClose={props.onCancel}\n      open={props.open}\n      modalTitleStyle={{}}\n      modalContainerStyle={{}}\n      modalBodyStyle={{}}\n      title={`Withdraw Your Tokens`}\n    >\n      <CustomInputContainer\n        ILabelValue={`How much ${props.poolInfo.depositToken} would you like to withdraw?`}\n        IBalanceValue={getDisplayBalance(props.stakedBalance, token.decimal, 6)}\n        showBalance={false}\n        ILabelInfoValue={''}\n        DefaultValue={String(val)}\n        LogoSymbol={props.poolInfo.depositToken}\n        hasDropDown={false}\n        SymbolText={props.poolInfo.depositToken}\n        setText={(t) => {\n          setValue(ValidateNumber(t) ? t : '0');\n        }}\n        inputMode={'decimal'}\n        tagText={'MAX'}\n        dontShowBackgroundContainer={true}\n        multiIcons={true}\n        symbols={props.poolInfo.depositTokenSymbols}\n        errorCallback={(flag: boolean) => {\n          setIsInputFieldError(flag);\n        }}\n        tokenDecimals={token.decimal}\n      />\n      <OneLine>\n        <div style={{ flex: 1 }} />\n        <OneLine>\n          <BeforeChip>\n            Staked Amount:{' '}\n            {Number(\n              getDisplayBalance(props.stakedBalance, token.decimal, 6),\n            ).toLocaleString('en-US', { minimumFractionDigits: 6 })}\n          </BeforeChip>\n          <TagChips>{token.symbol}</TagChips>\n        </OneLine>\n      </OneLine>\n      <Grid\n        container\n        spacing={2}\n        direction={isMobile ? 'column-reverse' : 'row'}\n        style={{ marginTop: '32px' }}\n      >\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <Button\n            variant={'transparent'}\n            text=\"Cancel\"\n            size={'lg'}\n            onClick={props.onCancel}\n            tracking_id={'farming_withdraw'}\n            tracking_params={{\n              action: 'cancel',\n              collateral: props.poolInfo.depositToken,\n              amount: Number(val),\n            }}\n          />\n        </Grid>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <Button\n            text={'Withdraw'}\n            size={'lg'}\n            disabled={isInputFieldError || !Number(val)}\n            onClick={handleWithdraw}\n            tracking_id={'farming_withdraw'}\n            tracking_params={{\n              action: 'confirm',\n              collateral: props.poolInfo.depositToken,\n              amount: Number(val),\n            }}\n          />\n        </Grid>\n      </Grid>\n    </CustomModal>\n  );\n};\n\nconst OneLine = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n  justify-content: flex-start;\n  margin: 5px 0;\n`;\n\nconst BeforeChip = styled.span`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 150%;\n  letter-spacing: 0.08em;\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.64);\n  margin-right: 5px;\n`;\n\nconst TagChips = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 4px;\n  padding: 2px 8px;\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 300;\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.64);\n`;\n","import { BigNumber } from 'ethers';\nimport Numeral from 'numeral';\nimport { useCallback } from 'react';\n\nimport ERC20 from '../../../protocol/ERC20';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\nimport * as Sentry from \"@sentry/react\";\nimport { useWallet } from \"use-wallet\";\n\nexport default function (stakingContract: string, amount: BigNumber, token: ERC20) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n  const {account} = useWallet();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.contracts(stakingContract, chainId);\n\n      try {\n        const response =\n          stakingContract === 'ARTHu3PXBasicStakingV2'\n            ? await contract.withdraw(token.address, amount, false)\n            : stakingContract === 'ARTHuval3PSDotBasicStaking'\n              ? await contract.withdraw(account, token.address, amount)\n              : await contract.withdraw(amount);\n\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            ...response,\n            stakingContract,\n            amount,\n            token,\n          });\n        }\n\n        addTransaction(response, {\n          summary: `Withdraw ${Numeral(getDisplayBalance(amount, token.decimal, 3)).format(\n            '0,0.00a',\n          )} ${token.symbol.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        console.log('e', e)\n        Sentry.captureException({\n          ...e,\n          stakingContract,\n          amount,\n          token,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e.stack,\n          },\n        });\n      }\n    },\n    [\n      core,\n      stakingContract,\n      chainId,\n      amount,\n      addTransaction,\n      token.decimal,\n      token.symbol,\n      addPopup,\n    ],\n  );\n\n  return action;\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\n\nimport { Mixpanel } from '../../../../../analytics/Mixpanel';\nimport metamaskimg from '../../../../../assets/images/Metamask.svg';\nimport walletConnectimg from '../../../../../assets/images/walletConnect.png';\nimport config from '../../../../../config';\nimport { useGetActiveChainId } from '../../../../../state/chains/hooks';\nimport IconLoader from '../../../../../theme/components/IconLoader';\nimport Modal from '../../../../../theme/components/Modal';\nimport TextWrapper from '../../../../../theme/components/TextWrapper';\n\ninterface Iprops {\n  openModal: boolean;\n  onClose: () => void;\n}\n\nconst ChooseWallet = (props: Iprops) => {\n  const { openModal, onClose } = props;\n  const { connect, connector } = useWallet();\n  const chainId = useGetActiveChainId();\n\n  const onWalletConnectClick = () => {\n    if (connector === 'walletconnect') return;\n    connect('walletconnect')\n      .then(() => {\n        Mixpanel.track(`buttonClick:walletConnect_connect`, {\n          networkName: config[chainId]?.networkDisplayName || '',\n        });\n        onClose();\n      })\n      .catch((e) => {\n        console.log('WalletConnect connect error', e);\n      });\n  };\n\n  return (\n    <Modal open={openModal} handleClose={() => onClose()} title={'Connect a wallet to login'}>\n      <Option\n        className={`single-line-center-between`}\n        onClick={() => {\n          connect('injected')\n            .then(() => {\n              console.log('Connected');\n              onClose();\n              localStorage.removeItem('disconnectWallet');\n            })\n            .catch((e) => {\n              console.log('Connection error', e);\n            });\n        }}\n      >\n        <div className=\"single-line-center-start\">\n          <img src={metamaskimg} width={40} alt={'metamask'} className=\"m-r-12\" />\n          {<TextWrapper text={'Metamask'} fontSize={18} fontWeight={600} />}\n        </div>\n        {connector === 'injected' ? (\n          <IconLoader iconName={'Copied'} />\n        ) : (\n          <IconLoader iconName={'ArrowTailRight'} iconType={'arrow'} />\n        )}\n      </Option>\n      <Option\n        onClick={connector === 'walletconnect' ? () => {} : onWalletConnectClick}\n        className={`m-t-16 single-line-center-between ${\n          connector === 'walletconnect' ? '' : 'pointer'\n        }`}\n      >\n        <div className=\"single-line-center-start\">\n          <img src={walletConnectimg} width={40} alt={'walletConnectimg'} className=\"m-r-12\" />\n          <TextWrapper text={'WalletConnect'} fontSize={18} fontWeight={600} />\n        </div>\n        {connector === 'walletconnect' ? (\n          <IconLoader iconName={'Copied'} />\n        ) : (\n          <IconLoader iconName={'ArrowTailRight'} iconType={'arrow'} />\n        )}\n      </Option>\n      {/*<div className=\"bottom-divider\" />\n      <div className=\"p-t-32 single-line-center-center\">\n        <div className=\"single-line-center-center\">\n          <TextWrapper\n            text={\"New to Ethereum?\"}\n            className={\"m-r-4\"}\n          />\n          <div\n            className=\"pointer\"\n            onClick={() => window.open(\"https://ethereum.org/en/wallets/find-wallet/\")}\n          >\n            <TextWrapper\n              text={\"Learn more about wallets\"}\n              Fcolor={theme.color.primary[300]}\n            />\n          </div>\n        </div>\n      </div>*/}\n    </Modal>\n  );\n};\n\nexport default ChooseWallet;\n\nconst Option = styled.div`\n  padding: 12px 24px;\n  border: 1px solid rgba(255, 255, 255, 0.24);\n  box-sizing: border-box;\n  border-radius: 6px;\n`;\n","import { IModalProps } from \"../../../utils/interface\";\nimport Modal from \"../Modal\";\nimport TextWrapper from \"../TextWrapper\";\nimport React from \"react\";\nimport config, { getSupportedChains } from \"../../../config\";\nimport { BigNumber, utils } from \"ethers\";\nimport { useGetUpdateActiveChainId } from \"../../../state/chains/hooks\";\nimport InfoTip from \"../InfoTip\";\n\nconst WrongNetworkModal = (props: IModalProps) => {\n  const {open, onClose} = props;\n  const getAvailableChains = getSupportedChains();\n  const setChainId = useGetUpdateActiveChainId();\n\n  const addNetworkToMetamask = (chainId: number) => {\n    console.log('addNetworkToMetamask')\n    // @ts-ignore\n    if (window.ethereum) {\n      window.ethereum\n        // @ts-ignore\n        .request({\n          method: 'wallet_addEthereumChain',\n          params: [\n            {\n              chainId: utils.hexStripZeros(\n                BigNumber.from(config[chainId].chainId).toHexString(),\n              ),\n              chainName: config[chainId].networkName,\n              rpcUrls: [config[chainId].defaultProvider],\n              iconUrls: [],\n              blockExplorerUrls: [config[chainId].etherscanUrl],\n              nativeCurrency: {\n                name: config[chainId].blockchainTokenName,\n                symbol: config[chainId].blockchainToken,\n                decimals: config[chainId].blockchainTokenDecimals,\n              },\n            },\n          ],\n        })\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error: any) => {\n          if (error.code === 4001) {\n            console.log('We cannot encrypt anything without the key.');\n          }\n        });\n    }\n  };\n\n  const switchMetamaskChain = (chainId: number) => {\n    console.log('switchMetamaskChain')\n    if (window.ethereum) {\n      window.ethereum\n        // @ts-ignore\n        .request({\n          method: 'wallet_switchEthereumChain',\n          params: [\n            {\n              chainId: utils.hexStripZeros(\n                BigNumber.from(config[chainId].chainId).toHexString(),\n              ),\n            },\n          ],\n        })\n        .then((data: any) => {\n          console.log('switchMetamaskChain data', data);\n          setChainId(chainId);\n          window.location.reload();\n        })\n        .catch((error: any) => {\n          console.log('switchMetamaskChain error', error);\n          if (error.code === 4902) addNetworkToMetamask(chainId);\n        });\n    }\n  };\n\n  return (\n    <Modal\n      open={open}\n      handleClose={onClose}\n      title={'Wrong Network'}\n      closeButton\n    >\n      <TextWrapper\n        text={'Please connect to a supported network in the dropdown menu or in your wallet.'}\n        className={'m-b-24'}\n        fontSize={16}\n        align={'center'}\n      />\n      <TextWrapper\n        text={'List of supported network:'}\n        className={'m-b-8'}\n        align={'center'}\n      />\n      <TextWrapper\n        text={\n        <div>\n          {getAvailableChains.map((data,index) => {\n            return (\n              <span className={'m-r-8 links pointer'} onClick={() => switchMetamaskChain(data)} key={index}>\n                {`${config[data].networkDisplayName}${getAvailableChains.length - 1 === index? '': ','}`}\n              </span>\n            )\n          })}\n        </div>\n        }\n        className={'m-b-8'}\n        align={'center'}\n      />\n      <InfoTip type={'Info'} msg={'You can click on any of the network to add them to your wallet or switch network'}/>\n    </Modal>\n  )\n}\n\nexport default WrongNetworkModal;\n","import React, {useCallback, useEffect, useMemo, useState} from \"react\";\nimport detectEthereumProvider from \"@metamask/detect-provider\";\nimport useCore from \"../../../hooks/useCore\";\nimport {useWallet} from \"use-wallet\";\nimport {BigNumber, utils} from \"ethers\";\nimport config, { getSupportedChains } from \"../../../config\";\nimport ChooseWallet from \"../../../components/TopBar/components/modal/WalletInfo/ChooseWallet\";\nimport Button from \"../Button\";\nimport {ButtonProps } from \"../Button\";\nimport TextWrapper from \"../TextWrapper\";\nimport theme from \"../../index\";\nimport styled from \"styled-components\";\nimport WrongNetworkModal from \"../WrongNetworkModal\";\nimport { useGetActiveChainId } from \"../../../state/chains/hooks\";\n\nconst ActionButton = (props: ButtonProps) => {\n  const core = useCore();\n\n  const [showWalletOption, setShowWalletOption] = useState<boolean>(false);\n  const [wrongNetwork, setWrongNetwork] = React.useState<boolean>(false);\n  const [showWrongNeworkModal, setShowWrongNeworkModal] = useState<boolean>(false);\n  const chainId = useGetActiveChainId();\n\n  const { account, ethereum }: { account: any, ethereum?: any } = useWallet();\n\n  const switchMetamaskChain = () => {\n    // @ts-ignore\n    if (window.ethereum) {\n      // @ts-ignore\n      window.ethereum.request({\n        method: 'wallet_switchEthereumChain',\n        params: [{ chainId: utils.hexStripZeros(BigNumber.from(config.chainId).toHexString()) }],\n      })\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error: any) => {\n          if (error.code === 4902) addNetworkToMetamask();\n        });\n    }\n  }\n\n  const addNetworkToMetamask = () => {\n    if (!ethereum?.request) return;\n    if (ethereum) {\n      ethereum\n        .request({\n          method: \"wallet_addEthereumChain\",\n          params: [\n            {\n              chainId: utils.hexStripZeros(BigNumber.from(config.chainId).toHexString()),\n              chainName: config.networkName,\n              rpcUrls: [config[chainId].defaultProvider],\n              iconUrls: [],\n              blockExplorerUrls: [config.etherscanUrl],\n              nativeCurrency: {\n                name: config.blockchainTokenName,\n                symbol: config.blockchainToken,\n                decimals: config.blockchainTokenDecimals\n              },\n            },\n          ],\n        })\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error: any) => {\n          if (error.code === 4001) {\n            // EIP-1193 userRejectedRequest error.\n            console.log('We cannot encrypt anything without the key.');\n          }\n        });\n    }\n  }\n\n  const processNetwork = useCallback(async () => {\n    const provider: any = await detectEthereumProvider();\n\n    if (provider) {\n      const chainId = Number(await provider.request({ method: 'eth_chainId' }));\n      setWrongNetwork(!getSupportedChains().includes(chainId));\n    }\n  }, [core]);\n\n  useEffect(() => {\n    processNetwork();\n  }, [core, account]);\n\n  return (\n    <div>\n      <ChooseWallet\n        openModal={showWalletOption}\n        onClose={() => setShowWalletOption(false)}\n      />\n      <WrongNetworkModal open={showWrongNeworkModal} onClose={() => setShowWrongNeworkModal(false)}/>\n      {\n        wrongNetwork ? (\n          <Button\n            text={props.text}\n            tracking_id={'connect_wallet_before_button'}\n            onClick={() => setShowWrongNeworkModal(true)}\n          />\n          ) : (\n          !account ? (\n            <Button\n              text={props.text}\n              tracking_id={'connect_wallet_before_button'}\n              onClick={() => {\n                setShowWalletOption(true);\n              }}\n            />\n          ) : (\n            <Button\n              {...props}\n            />\n          ))\n      }\n    </div>\n  );\n}\n\nexport default ActionButton;\n\nconst WrongNetworkButton = styled.div`\n  padding: 10px 22px;\n  width: 100%;\n  background: ${theme.color.red[300]};\n  border-radius: 6px;\n`\n","import React, { useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport useBasicStakingClaim from '../../../hooks/callbacks/farming/useBasicStakingClaim';\nimport useBasicStakingBalance from '../../../hooks/state/farming/useBasicStakingBalance';\nimport useBasicStakingReward from '../../../hooks/state/farming/useBasicStakingReward';\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport { FarmingConfigurations } from '../../../protocol/config';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextButton from '../../../theme/components/TextButton';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTip from '../../../theme/components/Tooltip';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport DepositModal from '../modals/DepositModal';\nimport WithdrawModal from '../modals/WithdrawModal';\n\nimport { IFarmingApiDataState } from './FarmingCards';\nimport Rewards from './Rewards';\nimport ActionButton from \"../../../theme/components/ActionButton\";\nimport * as timeago from \"timeago.js\";\nimport theme from \"../../../theme\";\nimport DataField from \"../../../theme/components/DataField\";\nimport { useWallet } from \"use-wallet\";\n\ninterface IProps {\n  pool: FarmingConfigurations;\n  farmingApiData: IFarmingApiDataState;\n}\n\nexport const MobileFarm = (props: IProps) => {\n  const { farmingApiData } = props;\n  const [isDepositModalOpen, setDepositModalOpen] = useState<boolean>(false);\n  const [isWithdrawModalOpen, setWithdrawModalOpen] = useState<boolean>(false);\n\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n  const depositToken = core.tokens(props.pool.depositToken, chainId);\n  const earnedBalance = useBasicStakingReward(props.pool);\n  const stakingBalance = useBasicStakingBalance(props.pool);\n  const tokenBalance = useTokenBalance(depositToken);\n  const claimAction = useBasicStakingClaim(props.pool);\n  const { account } = useWallet();\n  const strategies = core.getAllStrategies(chainId, account);\n  const checkingPool: string[] = strategies[0]?.stakingPools || [];\n\n  const apr = useMemo(() => {\n    if (chainId === 56) return '-'\n    if (farmingApiData.isLoading) return '-';\n    else {\n      let chId = chainId;\n      if (chId === 80001) chId = 137;\n      if (chId === 97) chId = 56;\n      const chainData = farmingApiData.data.chainSpecificData[chId];\n      const data = chainData?.apr[props.pool.apiKey];\n      if (chainData?.maxApr && chainData?.minApr) {\n        const minAPR = chainData?.minApr[props.pool.apiKey];\n        const maxAPR = chainData?.maxApr[props.pool.apiKey];\n        if (minAPR && maxAPR && Number(minAPR) && Number(maxAPR)) {\n          return `${Number(minAPR).toLocaleString()}% - ${Number(maxAPR).toLocaleString()}%`;\n        }\n      }\n\n      if (Number(data)) {\n        return `${Number(data).toLocaleString()}%`;\n      } else {\n        return '-';\n      }\n    }\n  }, [chainId, farmingApiData, props.pool.apiKey]);\n\n  const tvl = useMemo(() => {\n    if (chainId === 56) return '-'\n    if (farmingApiData.isLoading) return '-';\n    else {\n      let chId = chainId;\n      if (chId === 80001) chId = 137;\n      if (chId === 97) chId = 56;\n      // @ts-ignore\n      const data = farmingApiData.data.chainSpecificData[chId]?.tvl[props.pool.apiKey];\n      if (Number(data)) {\n        // @ts-ignore\n        return `$${Math.floor(data).toLocaleString()}`;\n      } else {\n        return '-';\n      }\n    }\n  }, [\n    chainId,\n    farmingApiData.data.chainSpecificData,\n    farmingApiData.isLoading,\n    props.pool.apiKey,\n  ]);\n\n  const hasClaimableAmount = useMemo(() => {\n    if (earnedBalance.isLoading) return false\n    else {\n      let returnValue = false;\n      earnedBalance.value.forEach((data) => {\n        if (data.gt(0)) {\n          returnValue = true;\n        }\n      })\n      return returnValue;\n    }\n  }, [earnedBalance.isLoading, earnedBalance.value])\n\n  return (\n    <CustomGrid>\n      <DepositModal\n        poolInfo={props.pool}\n        open={isDepositModalOpen}\n        onCancel={() => setDepositModalOpen(false)}\n        onDeposit={() => setDepositModalOpen(false)}\n        tokenBalance={tokenBalance.value}\n      />\n      <WithdrawModal\n        poolInfo={props.pool}\n        open={isWithdrawModalOpen}\n        stakedBalance={stakingBalance.value}\n        onCancel={() => setWithdrawModalOpen(false)}\n        onWithdraw={() => setWithdrawModalOpen(false)}\n      />\n      <PlatformDiv>\n        <IconLoader\n          iconType={'exchangePlatform'}\n          iconName={props.pool.platform}\n          width={24}\n          height={24}\n        />\n      </PlatformDiv>\n      <UpperDiv>\n        <SymbolDiv>\n          <div>\n            {props.pool.depositTokenSymbols.map((token, index) => (\n              <IconLoader\n                iconName={token}\n                iconType={'tokenSymbol'}\n                width={44}\n                className={index === 0 ? '' : 'm-l--8'}\n                key={token}\n              />\n            ))}\n          </div>\n          <div className={'m-l-16'}>\n            <TextWrapper text={props.pool.name} fontWeight={600} />\n            <TextButton\n              onClick={() => window.open(props.pool.addLiquidityLink)}\n              text={`Get ${props.pool.depositToken}`}\n              tracking_id={'farming-add-liquidity'}\n              tracking_params={{ collateral: props.pool.name }}\n              className={'m-t-4'}\n              fontSize={12}\n            />\n            {\n              props.pool.depositTokenSymbols.includes('ARTH.usd') && (\n                <TextButton\n                  onClick={() => window.open('https://arth.mahadao.com/#/tokenization?open=ARTH.usd')}\n                  text={`Get ARTH.usd`}\n                  tracking_id={'farming-get-arthusd'}\n                  tracking_params={{ collateral: props.pool.name }}\n                  className={'m-t-4'}\n                  fontSize={12}\n                />\n              )\n            }\n          </div>\n        </SymbolDiv>\n        <DataField\n          label={'TVL'}\n          isValueLoading={farmingApiData.isLoading}\n          labelToolTip={'Calculated values represents the total amount of volume locked in terms of USD'}\n          value={`${tvl}`}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={600}\n          className={'m-b-16'}\n        />\n        <DataField\n          label={'APR'}\n          isValueLoading={farmingApiData.isLoading}\n          labelToolTip={'Calculated based on current rates. Rates are estimates provided for your convenience only, and may vary as per dexes multiplier.'}\n          value={`${apr}`}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={600}\n          className={'m-b-16'}\n        />\n        <DataField\n          label={'Reward'}\n          value={`${props.pool.rewardToken.join('+')}`}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={600}\n          className={'m-b-16'}\n        />\n        <div className={'m-b-16'}>\n          <DataField\n            label={'Your Locked Stake'}\n            isValueLoading={stakingBalance.isLoading}\n            value={Number(getDisplayBalance(stakingBalance.value, 18, 3)).toLocaleString() +\n              ' ' +\n              props.pool.depositToken}\n            labelFontColor={theme.color.transparent[100]}\n            labelFontWeight={600}\n            // valueFontColor={stakingBalance.value.gt(0)? 'white': theme.color.transparent[200]}\n            className={'m-b-2'}\n          />\n          <div className={'single-line-center-end'}>\n            <TextButton\n              onClick={() =>\n                stakingBalance.value.gt(0)\n                  ? setWithdrawModalOpen(true)\n                  : () => { }\n              }\n              text={'Withdraw'}\n              tracking_id={'farming-withdraw'}\n              tracking_params={{\n                collateral: props.pool.name,\n                action: 'initial',\n                amount: Number(\n                  getDisplayBalance(stakingBalance.value, depositToken.decimal, 3),\n                ),\n              }}\n              fontWeight={600}\n              disabled={stakingBalance.value.lte(0)}\n            />\n          </div>\n        </div>\n        <div className={'m-b-16'}>\n          <div className={'single-line-start-between'}>\n            <TextWrapper\n              text={'Unclaimed Rewards'}\n              fontWeight={600}\n              Fcolor={theme.color.transparent[100]}\n            />\n            <div>\n              {props.pool.rewardToken.map((data, index) => {\n                if (earnedBalance.isLoading) {\n                  return (\n                    <TextWrapper\n                      text={\n                        <div>\n                          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n                          &nbsp;\n                          {data.toUpperCase()}\n                          {index !== (props.pool.rewardToken.length - 1) ? ' + ' : ''}\n                        </div>}\n                      align={\"right\"}\n                    />\n\n                  )\n                } else {\n                  return (\n                    <TextWrapper\n                      text={`${Number(getDisplayBalance(earnedBalance.value[index], 18, 6))\n                        .toLocaleString(\"en-IN\", { minimumFractionDigits: 2, maximumFractionDigits: 6 })} \n                          ${data.toUpperCase()} ${index !== (props.pool.rewardToken.length - 1) ? '+' : ''}`}\n                      align={\"right\"}\n                    />\n                  );\n                }\n              })\n              }\n            </div>\n          </div>\n\n          <div className={'single-line-center-end'}>\n            <TextButton\n              onClick={() =>\n                hasClaimableAmount\n                  ? claimAction()\n                  : () => { }\n              }\n              text={'Claim'}\n              tracking_id={'farming-claim'}\n              tracking_params={{\n                collateral: props.pool.name,\n                action: 'confirm',\n                amount: Number(getDisplayBalance(earnedBalance.value[0], 18, 3)),\n              }}\n              fontWeight={600}\n              disabled={!hasClaimableAmount}\n            />\n          </div>\n        </div>\n        <ActionButton\n          text={props.pool.endDate < new Date() ? 'Closed' : 'Deposit'}\n          disabled={tokenBalance.value.lte(0) || props.pool.endDate < new Date()}\n          onClick={() => setDepositModalOpen(true)}\n          tracking_id={`farming_deposit`}\n          tracking_params={{ collateral: props.pool.name, action: 'initial' }}\n        />\n      </UpperDiv>\n      {/*{(stakingBalance.value.gt(0) || earnedBalance.value.gt(0)) && (\n        <LowerDiv>\n          <div className=\"text-center\">\n            <div className=\"m-b-8 single-line-center-center\">\n              <TextWrapper text={' Your Locked stake:'} fontWeight={300} Fcolor={'#FFFFFF88'} />\n              &nbsp;\n              {stakingBalance.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(stakingBalance.value, 18, 3)).toLocaleString() +\n                    ' ' +\n                    props.pool.name\n                  }\n                  fontWeight={600}\n                />\n              )}\n            </div>\n            {stakingBalance.value.gt(0) && (\n              <div className=\"single-line-center-center\">\n                <TextButton\n                  onClick={() => setWithdrawModalOpen(true)}\n                  text={'Withdraw'}\n                  tracking_id={'farming-withdraw'}\n                  tracking_params={{\n                    collateral: props.pool.name,\n                    action: 'initial',\n                    amount: Number(\n                      getDisplayBalance(stakingBalance.value, depositToken.decimal, 3),\n                    ),\n                  }}\n                  className={'m-b-16'}\n                  fontWeight={600}\n                />\n              </div>\n            )}\n            <div className=\"m-b-8 single-line-center-center\">\n              <TextWrapper text={'Unclaimed Rewards:'} fontWeight={300} Fcolor={'#FFFFFF88'} />\n              &nbsp;\n              {earnedBalance.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : farmingApiData.isLoading || true ? (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(earnedBalance.value, 18, 3)).toLocaleString() +\n                    ' ' +\n                    props.pool.rewardToken.toUpperCase()\n                  }\n                  fontWeight={600}\n                />\n              ) : (\n                <Rewards\n                  earnedBalance={Number(getDisplayBalance(earnedBalance.value, 18, 3))}\n                  rewardRate={farmingApiData.data.mahaRewardPerMinute / 600}\n                  rewardToken={props.pool.rewardToken}\n                />\n              )}\n            </div>\n            {earnedBalance.value.gt(0) && (\n              <div className=\"single-line-center-center\">\n                <TextButton\n                  onClick={() => claimAction()}\n                  text={'Claim'}\n                  tracking_id={'farming-claim'}\n                  tracking_params={{\n                    collateral: props.pool.name,\n                    action: 'confirm',\n                    amount: Number(getDisplayBalance(earnedBalance.value, 18, 3)),\n                  }}\n                  fontWeight={600}\n                  className={'m-b-16'}\n                />\n              </div>\n            )}\n          </div>\n        </LowerDiv>\n      )}*/}\n      {\n        (checkingPool.includes(props.pool.platform)) && stakingBalance.value.lte(0) && (\n          <PoolStartContainer>\n            Staking in this pool will allow you to take upto 5x leverage\n          </PoolStartContainer>\n        )\n      }\n      {\n        props.pool?.willBeRestarted\n          ? <PoolStartContainer>\n            This Pool will be restarted soon\n          </PoolStartContainer>\n          : <div>\n            {\n              props.pool.startDate && (\n                props.pool.startDate > new Date() ? (\n                  <PoolStartContainer>\n                    Pool starts {timeago.format(props.pool.startDate)}\n                  </PoolStartContainer>\n                ) : (\n                  <PoolStartContainer>\n                    Pool started {timeago.format(props.pool.startDate)}\n                  </PoolStartContainer>\n                )\n              )}\n            {\n              props.pool.endDate && (\n                props.pool.endDate > new Date() ? (\n                  <PoolStartContainer>\n                    Pool closes {timeago.format(props.pool.endDate)}\n                  </PoolStartContainer>\n                ) : (\n                  <PoolStartContainer>\n                    Pool was closed {timeago.format(props.pool.endDate)} and will migrate to a gauge\n                  </PoolStartContainer>\n                )\n              )\n            }\n          </div>\n      }\n    </CustomGrid>\n  );\n};\n\nconst PoolStartContainer = styled.div`\n  background: rgba(0, 0, 0, 0.2);\n  box-sizing: border-box;\n  padding: 5px 15px;\n  position: relative;\n  color: rgb(255, 127, 87);\n  font-size: 12px;\n  text-align: center;\n`;\n\nconst CustomGrid = styled.div`\n  background: linear-gradient(180deg, #48423e 0%, #373030 100%);\n  border: 1px solid rgba(255, 255, 255, 0.16);\n  box-sizing: border-box;\n  border-radius: 12px;\n  margin-bottom: 32px;\n  position: relative;\n`;\n\nconst UpperDiv = styled.div`\n  padding: 32px;\n  //border-bottom: 1px solid #ffffff29;\n  @media(max-width: 600px) {\n    padding: 24px;\n  }\n`;\n\nconst SymbolDiv = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 40px;\n`;\n\nconst PlatformDiv = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  position: absolute;\n  top: -16px;\n`;\n\nconst LowerDiv = styled.div`\n  padding: 16px 32px 16px 32px;\n  @media(max-width: 600px) {\n    padding: 16px 24px 16px 24px;\n  }\n`;\n\nexport default MobileFarm;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\nimport { FarmingConfigurations } from \"../../../protocol/config\";\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber[];\n};\n\nexport default (pool: FarmingConfigurations) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: [BigNumber.from(0)] });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetActiveChainId();\n  const stakingContract = pool.contract\n  const erc20 = core.tokens(pool.depositToken, chainId);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: [BigNumber.from(0)] });\n      return;\n    }\n\n    const contract = core.contracts(stakingContract, chainId);\n    if (pool.contract === 'ARTHu3PXBasicStakingV2') {\n      const data = await contract.claimableReward(account, [erc20.address]);\n      setValue({ isLoading: false, value: await data });\n    } else if (pool.contract === 'ARTHuval3PSDotBasicStaking')  {\n      const data = await contract.claimable(account, [erc20.address]);\n      const dataFixed = [await data[0][0], await data[0][1]];\n      setValue({ isLoading: false, value: dataFixed });\n    } else {\n      setValue({ isLoading: false, value: [await contract.earned(core.myAccount)] });\n    }\n\n  }, [account, core, stakingContract, chainId, pool.contract, erc20.address]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch staking balance: ${err}`));\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue]);\n\n  return value;\n};\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\nimport { FarmingConfigurations } from \"../../../protocol/config\";\nimport { BNZERO } from \"../../../protocol/constants\";\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (pool: FarmingConfigurations) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetActiveChainId();\n  const stakingContract = pool.contract\n  const erc20 = core.tokens(pool.depositToken, chainId);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.contracts(stakingContract, chainId);\n\n    if (pool.contract === 'ARTHu3PXBasicStakingV2') {\n      const data = await contract.userInfo(erc20.address, account)\n      setValue({ isLoading: false, value: await data.depositAmount });\n    } else if (pool.contract === 'ARTHuval3PSDotBasicStaking') {\n      const data = await contract.userBalances(account, erc20.address)\n      setValue({ isLoading: false, value: await data });\n    } else {\n      setValue({ isLoading: false, value: await contract.balanceOf(core.myAccount) });\n    }\n  }, [account, core, stakingContract, chainId, pool.contract, erc20.address]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch staking balance: ${err}`));\n    }\n  }, [core.isUnlocked, blockNumber, account, fetchValue]);\n\n  return value;\n};\n","import { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\nimport * as Sentry from \"@sentry/react\";\nimport { useWallet } from \"use-wallet\";\nimport { FarmingConfigurations } from \"../../../protocol/config\";\nimport { BNZERO } from \"../../../protocol/constants\";\n\nexport default function (pool: FarmingConfigurations) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n  const {account} = useWallet();\n  const stakingContract = pool.contract\n  const erc20 = core.tokens(pool.depositToken, chainId);\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.contracts(stakingContract, chainId);\n\n      try {\n        const response =\n          stakingContract === 'ARTHu3PXBasicStakingV2'\n            ? await contract.claim(account, [erc20.address])\n            : stakingContract === 'ARTHuval3PSDotBasicStaking'\n              ? await contract.claim(account, [erc20.address], BNZERO)\n              : await contract.getReward()\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            ...response,\n            stakingContract,\n          });\n        }\n\n        addTransaction(response, {\n          summary: `Claim Rewards`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          ...e,\n          stakingContract,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e.stack,\n          },\n        });\n      }\n    },\n    [addPopup, stakingContract, core, addTransaction],\n  );\n\n  return action;\n}\n","import React, { useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\n\nimport { FarmingConfigurations } from '../../../protocol/config';\nimport SuccessModal from '../../../theme/components/SuccesModal';\nimport { IFarmingApiDataState } from './FarmingCards';\nimport MobileRowCard from './MobileRowCard';\n\ninterface IProps {\n  cardData: FarmingConfigurations;\n  farmingApiData: IFarmingApiDataState;\n}\n\nconst FarmingCard = (props: IProps) => {\n  const pool = props.cardData;\n\n  const [successModal, setSuccessModal] = useState(false);\n\n  return (\n    <div>\n      <SuccessModal\n        modalOpen={successModal}\n        setModalOpen={() => setSuccessModal(false)}\n        title={'Transaction Success!'}\n        subsubTitle={'Your transaction is now being mined on the blockchain.'}\n      />\n      <MobileRowCard pool={pool} farmingApiData={props.farmingApiData} />\n    </div>\n  );\n};\n\nexport default FarmingCard;\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useCore from '../../../hooks/useCore';\nimport { FarmingConfigurations } from '../../../protocol/config';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport ToolTip from '../../../theme/components/Tooltip';\n\nimport FarmingCard from './FarmingCard';\nimport SingleTrove from \"../../SelectLoan/component/SingleTrove\";\nimport { Contract } from \"ethers\";\n\ntype apr = {[id: string]: number};\ntype tvl = {[id: string]: number};\ntype maxApr = {[id: string]: number};\ntype minApr = {[id: string]: number};\n\nexport interface IFarmingApiData {\n  chainSpecificData: { [chainId: string]: {\n      apr: apr;\n      tvl: tvl;\n      maxApr?: maxApr;\n      minApr?: minApr;\n    }};\n  mahaRewardPerMinute: number;\n}\n\nexport interface IFarmingApiDataState {\n  isLoading: boolean;\n  data: IFarmingApiData;\n}\n\nexport const InitalFarmingApiDataState: IFarmingApiDataState = {\n  isLoading: false,\n  data: {\n    chainSpecificData: {},\n    mahaRewardPerMinute: 0,\n  },\n};\n\nconst FarmingCards = () => {\n  const [farmingApiData, setFarmingApiData] = useState<IFarmingApiDataState>(\n    InitalFarmingApiDataState,\n  );\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const isMobile = useMediaQuery({ maxWidth: '1280px' });\n\n  const farmingPools: FarmingConfigurations[] = useMemo(\n    () => core.getFarmingPools(activeChainId),\n    [core, activeChainId],\n  );\n\n  const fetchAPY = useCallback(async () => {\n    const url = `https://api.arthcoin.com/apy/loans`;\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET,POST,OPTIONS',\n      'Access-Control-Allow-Headers':\n        'access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type',\n    };\n\n    fetch(url, { headers })\n      .then((res) => res.json())\n      .then((res: IFarmingApiData) => {\n        setFarmingApiData({ isLoading: false, data: res });\n      })\n      .catch((err) => {\n        setFarmingApiData(InitalFarmingApiDataState);\n      });\n  }, []);\n\n  useEffect(() => {\n    fetchAPY();\n  }, [fetchAPY]);\n\n  return(\n    <div className={'mo-custom-container'}>\n      <Grid container className=\"m-t-24\" spacing={2}>\n        {farmingPools.map((cardData: FarmingConfigurations) => (\n          <Grid item lg={4} md={6} sm={12} xs={12} key={cardData.name}>\n            <FarmingCard farmingApiData={farmingApiData} cardData={cardData} />\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  )\n\n  /* return (\n     <DataContainer className={'material-primary'}>\n       {!isMobile && (\n         <Grid container style={{ padding: '0px 32px ', marginBottom: '16px' }}>\n           <Grid item lg={4}>\n             <CustomTableHeading>Pair</CustomTableHeading>\n           </Grid>\n           <Grid item lg={2}>\n             <CustomTableHeading>\n               TVL\n               <ToolTip\n                 toolTipText={\n                   'Calculated values represents the total amount of volume locked in terms of USD.'\n                 }\n               />\n             </CustomTableHeading>\n           </Grid>\n           <Grid item lg={2}>\n             <CustomTableHeading>\n               APR\n               <ToolTip\n                 toolTipText={\n                   'Calculated based on current rates. Rates are estimates provided for your convenience only, and may vary as per dexes multiplier.'\n                 }\n               />\n             </CustomTableHeading>\n           </Grid>\n           <Grid item lg={2}>\n             <CustomTableHeading>Reward</CustomTableHeading>\n           </Grid>\n           <Grid item lg={2} />\n         </Grid>\n       )}\n       <div>\n         {farmingPools.map((cardData: FarmingConfigurations) => (\n           <FarmingCard farmingApiData={farmingApiData} cardData={cardData} />\n         ))}\n       </div>\n     </DataContainer>\n   );*/\n};\n\nconst DataContainer = styled.div`\n  background: rgba(255, 255, 255, 0.02);\n  backdrop-filter: blur(70px);\n  border-radius: 6px;\n  padding: 24px 32px;\n  @media (max-width: 600px) {\n    background: transparent;\n    backdrop-filter: none;\n    border-radius: 6px;\n    padding: 32px 0;\n  }\n`;\n\nconst CustomTableHeading = styled.span`\n  display: flex;\n  align-items: center;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 150%;\n  letter-spacing: 0.08em;\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.32);\n  opacity: 0.64;\n  text-align: left;\n`;\n\nexport default FarmingCards;\n","import TextWrapper from \"../../theme/components/TextWrapper\";\nimport React from \"react\";\nimport useHasStakingBalance from \"../../hooks/state/strategies/useHasStakingBalance\";\n\nconst StakedBanner = () => {\n  const hasStaked = useHasStakingBalance();\n\n  return <div />\n\n  if (hasStaked.value) {\n    return (\n      <div className={'material-primary m-b-24'}>\n        <TextWrapper\n          text={<div>Woho! &#127881; Leverage is now live <a className={'links'} href={'/#/strategies/all-strategies'}>here</a> and you are now eligible to take\n            upto <b>5x</b> leverage </div>}\n          fontSize={16}\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div className={'material-primary m-b-24'}>\n      <TextWrapper\n        text={<div>Woho! &#127881; Leverage is now live <a className={'links'} href={'/#/strategies/all-strategies'}>here</a> and you are now eligible to take\n          upto <b>3x</b>. <a className={'links'} href={'/#/farming'}>Stake your liquidity tokens</a> and get upto <b>5x</b> leverage.</div>}\n        fontSize={16}\n      />\n    </div>\n  )\n}\n\nexport default StakedBanner;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { chain } from 'underscore';\n\nimport Container from '../../components/Container';\nimport config from '../../config';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport theme from '../../theme';\nimport IconLoader from '../../theme/components/IconLoader';\nimport InfoTip from '../../theme/components/InfoTip';\nimport PageHeader from '../../theme/components/PageHeader';\nimport TextWrapper from '../../theme/components/TextWrapper';\n\nimport FarmingCards from './components/FarmingCards';\nimport useHasStakingBalance from \"../../hooks/state/strategies/useHasStakingBalance\";\nimport StakedBanner from \"../../components/StakedBanner\";\n\nexport interface ModeProps {\n  id: string;\n  name: string;\n  count: number;\n}\n\nconst Farming = () => {\n  const chainId = useGetActiveChainId();\n\n  return (\n    <>\n      <Container size=\"lg\">\n        <VfatLink onClick={() => window.open(config[chainId].vFatLink)}>\n          <TextWrapper\n            text={'New'}\n            Fcolor={theme.color.primary[300]}\n            fontWeight={600}\n            className={'m-r-12'}\n          />\n          <TextWrapper text={'Checkout the vFat tool for ARTH farmers'} className={'m-r-12'} />\n          <IconLoader iconName={'ArrowTailRight'} iconType={'arrow'} />\n        </VfatLink>\n        <div\n          className={'single-line-center-between mo-single-line-column'}\n          style={{ position: 'relative' }}\n        >\n          <PageHeader\n            title={'FARMING'}\n            subTitle={'Earn rewards by staking your tokens and helping the protocol grow.'}\n            showLearnMore={true}\n            learnMoreLink={'https://docs.arthcoin.com/protocol/staking-programs'}\n          />\n        </div>\n        <StakedBanner />\n        <div className={'mo-custom-container m-b-24'}>\n          <InfoTip\n            type={'Info'}\n            msg={\n              <div>\n                To view a tutorial on how to farm ARTH see this &nbsp;\n                <a\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href=\"https://www.youtube.com/watch?v=l-xbi9u_WyE\"\n                  className={'links'}\n                >\n                  video\n                </a>\n              </div>\n            }\n            className={'content-width'}\n          />\n        </div>\n        <div className={'m-b-24'}>\n          <FarmingCards />\n        </div>\n        <div className={'single-line-center-center mo-custom-container'}>\n          <InfoTip\n            type={'Info'}\n            msg={\n              <div>\n                Join our discord to participate in all the farming-related discussions &nbsp;\n                <a\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href=\"https://discord.gg/c8AJBguG\"\n                  className={'links'}\n                >#farming</a>\n              </div>\n            }\n            className={'m-b-12 content-width'}\n          />\n        </div>\n      </Container>\n    </>\n  );\n};\n\nexport default Farming;\n\nexport const VfatLink = styled.div`\n  width: max-content;\n  border-width: 1px;\n  background-color: #2a2827;\n  text-align: center;\n  border-radius: 60px;\n  padding: 12px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 16px;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useFaucetClaim from '../../hooks/callbacks/useFaucetClaim';\nimport Button from '../../theme/components/Button';\nimport PageHeader from '../../theme/components/PageHeader';\n\nconst Faucet = () => {\n  const { account, connect } = useWallet();\n\n  const claimTokens = useFaucetClaim();\n  const isWalletConnected = !!account;\n\n  return (\n    <div className=\"custom-container\">\n      <PageHeader title={'ARTH faucet'} subTitle={'Get tokens to test ARTH V2.0'} />\n      <Grid container>\n        <Grid item lg={6} md={12} sm={12} xs={12}>\n          <CustomInfoCard className={'material-primary'}>\n            <PrimaryText>Claim your Test Tokens here</PrimaryText>\n\n            <Grid container lg={12} style={{ marginTop: '32px' }}>\n              <Grid item lg={4} md={4} sm={6} xs={6}>\n                {!isWalletConnected ? (\n                  <Button\n                    text={'Connect Wallet'}\n                    size={'lg'}\n                    onClick={() =>\n                      connect('injected').then(() => {\n                        localStorage.removeItem('disconnectWallet');\n                      })\n                    }\n                  />\n                ) : (\n                  <Button variant={'default'} text=\"Submit\" size={'sm'} onClick={claimTokens} />\n                )}\n              </Grid>\n            </Grid>\n          </CustomInfoCard>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nconst CustomInfoCard = styled.div`\n  @media (max-width: 600px) {\n  }\n`;\n\nconst PrimaryText = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.88);\n  margin-bottom: 12px;\n`;\n\nexport default Faucet;\n","import { useCallback } from 'react';\n\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport useCore from '../useCore';\n\nexport default function () {\n  const core = useCore();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n\n  return useCallback(async (): Promise<void> => {\n    const contract = core.contracts('Faucet', chainId);\n    const response = await contract.faucet();\n\n    addTransaction(response, {\n      summary: `Claim from Faucet`,\n    });\n  }, [core, addTransaction]);\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\ninterface IProps {\n  mode: 'your-loans' | 'all-loans';\n  onModeChange: (id: 'your-loans' | 'all-loans') => void;\n}\n\nconst Toggler = (props: IProps) => {\n  const { mode, onModeChange } = props;\n\n  let headerList: { id: 'your-loans' | 'all-loans'; name: string }[] = [\n    {\n      id: 'your-loans',\n      name: 'Your Loans',\n    },\n    {\n      id: 'all-loans',\n      name: 'All Loans',\n    },\n  ];\n  return (\n    <div\n      style={{ position: 'relative', display: 'flex' }}\n      className=\"mo-custom-container m-b-24\"\n    >\n      <ScrollDiv style={{ overflowX: 'scroll' }}>\n        <ButtonGroupDiv>\n          {headerList.map((obj) => (\n            <TextDiv\n              style={\n                mode === obj.id\n                  ? {\n                    background: mode === obj.id ? '#423B38' : 'transparent',\n                    border: '1px solid rgba(255, 255, 255, 0.08)',\n                  }\n                  : {}\n              }\n              key={obj?.id}\n              onClick={() => {\n                onModeChange(obj.id);\n              }}\n            >\n              <Text1>{obj?.name}</Text1>\n            </TextDiv>\n          ))}\n        </ButtonGroupDiv>\n      </ScrollDiv>\n    </div>\n  );\n};\n\nexport default Toggler;\n\nconst ButtonGroupDiv = styled.div`\n  background: #2a2827;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 6px 0;\n  flex-wrap: wrap;\n  width: max-content;\n`;\n\nconst TextDiv = styled.div`\n  height: 40px;\n  display: inline-flex;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n  border-radius: 4px;\n  margin: 0 6px;\n  padding: 0 12px;\n  cursor: pointer;\n\n  &:hover {\n    background: #423b3860;\n  }\n`;\n\nconst ScrollDiv = styled.div`\n  ::-webkit-scrollbar {\n    height: 0;\n    background: transparent; /* make scrollbar transparent */\n  }\n`;\n\nconst Text1 = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff;\n  margin: 0;\n`;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { DECIMALS_18 } from '../../protocol/constants';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: Array<any>;\n};\n\nexport default (doRefresh: boolean) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: [] });\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const { account } = useWallet();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: [] });\n      return;\n    }\n\n    const collaterals = core.getAllTroves(activeChainId);\n\n    const finalTroves = [];\n    for (let i = 0; i < collaterals.length; i++) {\n      const collateral = collaterals[i];\n\n      const troveContract = core.getTroveManager(collateral, activeChainId);\n      const trove = await troveContract.Troves(account);\n      if (trove.coll.lte(0) && trove.debt.lte(0) && trove.status !== 1) continue;\n\n      const collateralPriceFeedContract = core.getPriceFeed(collateral, activeChainId);\n      const collateralPrice = await collateralPriceFeedContract.callStatic.fetchPrice();\n\n      const recoveryMode = await troveContract.checkRecoveryMode(collateralPrice);\n      const tcr = await troveContract.getTCR(collateralPrice);\n\n      const spContract = core.getStabilityPool(collateral, activeChainId);\n      const arthInSp = await spContract.totalLUSDDeposits();\n\n      const pendingETHReward: any =\n        (await troveContract.getPendingETHReward(account)) || BigNumber.from(0);\n      const pendingLUSDDebtReward: any =\n        (await troveContract.getPendingLUSDDebtReward(account)) || BigNumber.from(0);\n\n      let coll: any = trove.coll;\n      let debt: any = trove.debt;\n      if (pendingETHReward && pendingETHReward.gt(0)) coll = coll.add(pendingETHReward);\n      if (pendingLUSDDebtReward && pendingLUSDDebtReward.gt(0))\n        debt = debt.add(pendingLUSDDebtReward);\n\n      const collateralRatio = debt.lte(0)\n        ? BigNumber.from(0)\n        : coll.mul(collateralPrice).mul(100).div(debt).div(DECIMALS_18);\n\n      const expectedDebt = coll.mul(collateralPrice).mul(100).div(110).div(DECIMALS_18);\n      const avail_to_mint = recoveryMode\n        ? BigNumber.from(0)\n        : debt.lt(expectedDebt)\n        ? expectedDebt.sub(debt)\n        : BigNumber.from(0);\n\n      const expectedCollateral = BigNumber.from(110)\n        .mul(debt)\n        .mul(DECIMALS_18)\n        .div(collateralPrice)\n        .div(100);\n      const avail_to_withdraw = recoveryMode\n        ? BigNumber.from(0)\n        : expectedCollateral.lt(coll)\n        ? coll.sub(expectedCollateral)\n        : BigNumber.from(0);\n\n      finalTroves.push({\n        id: i,\n        hasRedistribution: pendingETHReward?.gt(0) || pendingLUSDDebtReward?.gt(0),\n        token: collateral,\n        avail_to_mint: avail_to_mint,\n        deposit: coll,\n        debt: debt,\n        avail_to_withdraw: avail_to_withdraw,\n        collateralRatio: collateralRatio,\n        isLiquidateable: recoveryMode\n          ? collateralRatio.lt(tcr.mul(100).div(DECIMALS_18)) && arthInSp.gte(debt)\n          : collateralRatio.lt(110),\n      });\n    }\n\n    setValue({ isLoading: false, value: finalTroves });\n  }, [account, core, activeChainId]);\n\n  useEffect(() => {\n    setValue({ isLoading: true, value: [] });\n  }, [account, doRefresh]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch open loans %: ${err}`));\n    }\n  }, [core.isUnlocked, account, doRefresh, core.myAccount, fetchValue, activeChainId]);\n\n  return value;\n};\n","import clsx from 'clsx';\nimport React, { useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { DataGrid } from '@material-ui/data-grid';\n\nimport '../../../customCss/Custom-Mahadao-Data-Table.css';\nimport useGetAllOpenTroves from '../../../hooks/state/useGetAllOpenTroves';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport { useWallet } from \"use-wallet\";\n\nexport function SortedDescendingIcon() {\n  return <IconLoader iconName={'ArrowUp'} iconType=\"arrow\" />;\n}\n\nexport function SortedAscendingIcon() {\n  return <IconLoader iconName={'ArrowDown'} iconType=\"arrow\" />;\n}\n\nconst useStyles = makeStyles({\n  root: {\n    '& .super-app-theme--header': {\n      cursor: 'pointer',\n    },\n    '& .super-app.negative': {\n      color: '#FA4C69',\n      fontWeight: '600',\n    },\n    '& .super-app.positive': {\n      color: '#20C974',\n      fontWeight: '600',\n    },\n    '& .super-app.loss': {\n      color: '#FA4C69',\n      fontWeight: '600',\n    },\n    '& .super-app.profit': {\n      color: '#20C974',\n      fontWeight: '600',\n    },\n  },\n  gridStyle: {\n    color: 'white',\n  },\n});\n\ntype Props = {\n  doRefresh: boolean;\n};\n\nconst YourLoansTable = ({ doRefresh }: Props) => {\n  const [rows] = useState<number>(10);\n\n  const classes = useStyles();\n  const { account } = useWallet();\n  const troves = useGetAllOpenTroves(doRefresh);\n  const chainId = useGetActiveChainId();\n\n  const columns = [\n    {\n      field: 'token',\n      headerName: 'TOKEN',\n      flex: 0.167,\n      sortable: false,\n      renderCell: (params: any) => {\n        return (\n          <div className=\"single-line-center-start\">\n            <IconLoader iconName={params.value} iconType=\"tokenSymbol\" height={44} width={44} />\n            <span className=\"m-l-12\">{params.value}</span>\n          </div>\n        );\n      },\n    },\n    {\n      field: 'avail_to_mint',\n      headerName: 'AVAIL TO MINT',\n      flex: 0.167,\n      sortable: false,\n      renderCell: (params: any) => {\n        return `${Number(getDisplayBalance(params.value, 18, 3)).toLocaleString()} ARTH`;\n      },\n      renderHeader: (params: any) => {\n        return (\n          <div className=\"single-line-center-start\">\n            <IconLoader iconName={'ARTH'} iconType=\"tokenSymbol\" width={20} className=\"m-r-4\" />\n            {'AVAIL TO MINT'}\n          </div>\n        );\n      },\n    },\n    {\n      field: 'deposit',\n      headerName: 'Deposit ',\n      flex: 0.167,\n      sortable: false,\n      renderCell: (params: any) => {\n        const depositToken = troveDetails(params.row.token, chainId).depositToken;\n        return `${Number(\n          getDisplayBalance(params.value, 18, 3),\n        ).toLocaleString()} ${depositToken}`;\n      },\n    },\n    {\n      field: 'debt',\n      headerName: 'DEBT (ARTH)',\n      flex: 0.167,\n      sortable: false,\n      renderCell: (params: any) => {\n        return `${Number(getDisplayBalance(params.value, 18, 3)).toLocaleString()}`;\n      },\n      renderHeader: (params: any) => {\n        return (\n          <div className=\"single-line-center-start\">\n            <IconLoader iconName={'ARTH'} iconType=\"tokenSymbol\" width={20} className=\"m-r-4\" />\n            {params.field}\n          </div>\n        );\n      },\n    },\n    {\n      field: 'avail_to_withdraw',\n      headerName: 'AVAIL To WITHDRAW',\n      flex: 0.167,\n      sortable: false,\n      renderCell: (params: any) => {\n        const depositToken = troveDetails(params.row.token, chainId).depositToken;\n        return `${Number(\n          getDisplayBalance(params.value, 18, 3),\n        ).toLocaleString()} ${depositToken}`;\n      },\n    },\n    {\n      field: 'collateralRatio',\n      headerName: 'COLLATERAL RATIO',\n      flex: 0.167,\n      sortable: false,\n      cellClassName: (params: any) =>\n        clsx('super-app', {\n          negative: params.row.isLiquidateable,\n          positive: !params.row.isLiquidateable,\n        }),\n      renderCell: (params: any) => {\n        return `${Number(params.value).toLocaleString()}%`;\n      },\n    },\n  ];\n\n  const noResultsComponent = () => {\n    return (\n      <div className=\"noResultContainer\">\n        <div className=\"internal\">\n          <TextWrapper\n            text={'You haven’t opened any loan yet'}\n            fontSize={24}\n            fontWeight={'bold'}\n            className=\"m-b-8\"\n            align=\"center\"\n          />\n          <TextWrapper\n            text={'Open Interest free loan with leveraged position.'}\n            fontSize={18}\n            className=\"m-b-8\"\n            Fcolor={'#FFFFFF64'}\n            align={'center'}\n          />\n          <div style={{ width: '130px', margin: 'auto' }} className=\"m-t-24\">\n            <Button\n              to={'/loan/add'}\n              size={'sm'}\n              tracking_id={'open_loan'}\n              tracking_params={{ position: 'your_loans_table' }}\n              variant={'transparent'}\n            >\n              <IconLoader iconName={'Add'} className=\"m-r-4\" width={16} />\n              Open Loan\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const LoadingOverlayComponent = () => {\n    return (\n      <div className=\"noResultContainer\">\n        <div className=\"internal\">\n          <Loader color={'#ffffff'} loading={true} size={10} margin={2} />\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <React.Fragment>\n      <div className={classes.root} style={{ position: 'relative' }}>\n        <DataGrid\n          className={classes.gridStyle}\n          getRowId={(rows) => {\n            return rows.id;\n          }}\n          rows={troves.value}\n          columns={columns}\n          pageSize={rows}\n          hideFooterPagination={true}\n          disableMultipleSelection={true}\n          rowHeight={84}\n          autoHeight={true}\n          disableColumnMenu={true}\n          onRowClick={(newSelection) => {\n            window.open(`/#/loan/details/${account}/${newSelection.row.token}`, '_self');\n          }}\n          loading={troves.isLoading}\n          components={{\n            LoadingOverlay: LoadingOverlayComponent,\n            NoRowsOverlay: noResultsComponent,\n            ColumnSortedDescendingIcon: SortedDescendingIcon,\n            ColumnSortedAscendingIcon: SortedAscendingIcon,\n          }}\n          disableColumnSelector={true}\n          disableSelectionOnClick={true}\n        />\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default YourLoansTable;\n","import React, { useState } from 'react';\n\nimport Button from '../../theme/components/Button';\nimport IconLoader from '../../theme/components/IconLoader';\nimport TextWrapper from '../../theme/components/TextWrapper';\n\nimport YourLoansTable from './components/YourLoansTable';\nimport useGetAllOpenTroves from \"../../hooks/state/useGetAllOpenTroves\";\nimport InfoTip from \"../../theme/components/InfoTip\";\n\nconst YourLoans = () => {\n  const [doYouLoanRefresh, setDoYourLoanRefresh] = useState<boolean>(false);\n  const troves = useGetAllOpenTroves(false);\n\n  return (\n    <div>\n      <div className=\"m-t-20 m-b-40\">\n        <div className=\"m-b-24 mo-custom-container single-line-center-between\">\n          {/* <div/> */}\n          <div style={{ maxWidth: '200px' }}>\n            <Button\n              variant={'transparent'}\n              onClick={() => setDoYourLoanRefresh(!doYouLoanRefresh)}\n              tracking_id={'refresh_your_loans'}\n            >\n              <IconLoader iconName={'Sync'} className=\"m-r-8\" />\n              <TextWrapper text={'Refresh'} fontWeight={600} />\n            </Button>\n          </div>\n        </div>\n        {troves.value.length > 0 && <InfoTip\n          type={\"Info\"}\n          msg={\n            <div>\n              Stake tokens in farming pools and get apr upto 120%&nbsp;\n              <a className={\"links\"} href={\"/#/farming\"}>Stake</a>\n            </div>\n          }\n          className={\"m-b-24\"}\n        />}\n        <YourLoansTable doRefresh={doYouLoanRefresh} />\n      </div>\n    </div>\n  );\n};\n\nexport default YourLoans;\n","import React, { CSSProperties } from 'react';\nimport styled from 'styled-components';\n\nimport theme from '../../index';\nimport { BackgroundAbsolute } from '../CustomComponent';\nimport IconLoader from '../IconLoader';\nimport TextWrapper from '../TextWrapper';\n\ninterface Iprops {\n  openSelector: boolean;\n  toggleSelector: () => void;\n\n  dropdownValue: string[];\n\n  selectedData: string;\n  setSelectedData: (data: string) => void;\n\n  symbolicData?: boolean;\n\n  dontShowBackground?: boolean;\n  position?: {\n    top: string;\n    bottom: string;\n    left: string;\n    right: string;\n  };\n  className?: string;\n}\n\nconst Selector = (props: Iprops) => {\n  const {\n    openSelector,\n    toggleSelector,\n\n    dropdownValue,\n\n    selectedData,\n    setSelectedData,\n\n    symbolicData = false,\n\n    dontShowBackground = false,\n    position = {\n      top: '50px',\n      bottom: '',\n      left: '',\n      right: '0px',\n    },\n    className = '',\n  } = props;\n\n  const IContainerStyle = () => {\n    let returnObj: CSSProperties = {};\n    if (dontShowBackground) {\n      returnObj['padding'] = '0px';\n      returnObj['backgroundColor'] = 'transparent';\n    }\n    return returnObj;\n  };\n\n  return (\n    <SelectorContainer\n      onClick={() => toggleSelector()}\n      style={IContainerStyle()}\n      className={className}\n    >\n      {symbolicData && (\n        <IconLoader\n          iconName={selectedData}\n          iconType=\"tokenSymbol\"\n          className=\"m-r-8\"\n          width={24}\n        />\n      )}\n      <div className={'content-width'}>\n        <TextWrapper text={selectedData} fontWeight={600} fontSize={14} />\n      </div>\n      <IconLoader\n        iconName={openSelector ? 'ArrowUp' : 'ArrowDown'}\n        iconType={'arrow'}\n        className=\"m-l-12\"\n      />\n      {openSelector && (\n        <BackgroundAbsolute\n          onClick={() => {\n            toggleSelector();\n          }}\n        />\n      )}\n      {openSelector && (\n        <CustomDropDownContainer position={position}>\n          {dropdownValue?.map((item, index) => {\n            return (\n              <CustomDropDownLi\n                onClick={() => {\n                  if (setSelectedData) setSelectedData(item);\n                }}\n                key={index}\n              >\n                <div className=\"single-line-center-start\">\n                  {symbolicData && (\n                    <IconLoader\n                      iconName={item}\n                      iconType=\"tokenSymbol\"\n                      className=\"m-r-8\"\n                      width={24}\n                    />\n                  )}\n                  <TextWrapper text={item} />\n                </div>\n              </CustomDropDownLi>\n            );\n          })}\n        </CustomDropDownContainer>\n      )}\n    </SelectorContainer>\n  );\n};\n\nexport default Selector;\n\nconst SelectorContainer = styled.div`\n  padding: 12px 20px;\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 6px;\n  width: max-content;\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n  @media (max-width: 600px) {\n  }\n`;\n\ninterface CustomDropDownContainerProps {\n  position: {\n    top: string;\n    bottom: string;\n    left: string;\n    right: string;\n  };\n}\n\nconst CustomDropDownContainer = styled.div<CustomDropDownContainerProps>`\n  position: absolute;\n  top: ${({ position }) => position.top};\n  bottom: ${({ position }) => position.bottom};\n  right: ${({ position }) => position.right};\n  left: ${({ position }) => position.left};\n  z-index: 111;\n  background: ${theme.color.dark[300]};\n  border-radius: 6px;\n  min-width: max-content;\n  overflow: hidden;\n`;\n\nconst CustomDropDownLi = styled.div`\n  display: flex;\n  flex-direction: row;\n  padding: 12px 20px;\n  align-items: center;\n  cursor: pointer;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.08);\n  }\n`;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport BasisCash from '../../protocol';\nimport { DECIMALS_18, PAGINATION_PAGE_SIZE } from '../../protocol/constants';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: Array<any>;\n};\n\nconst fetchForCollaterals = async (\n  core: BasisCash,\n  pageNo: number = 0,\n  collaterals: string[],\n  activeChainId: number,\n) => {\n  const finalTroves = [];\n\n  const index = Number(pageNo);\n\n  const pageIndex = index === 0 ? -1 : -1 - index * PAGINATION_PAGE_SIZE;\n  /*\n    index 0 pageindex -1\n    index 1 pageindex -5\n    index 2 pageindes -10\n   */\n  for (let i = 0; i < collaterals.length; i++) {\n    const collateral = collaterals[i];\n    const troveContract = core.getTroveManager(collateral, activeChainId);\n\n    const multiTroveGetterContract = core.getMultiTroveGetter(collateral, activeChainId);\n    const troves = await multiTroveGetterContract.getMultipleSortedTroves(\n      pageIndex,\n      PAGINATION_PAGE_SIZE,\n    );\n\n    const collateralPriceFeedContract = core.getPriceFeed(collateral, activeChainId);\n    const collateralPrice = await collateralPriceFeedContract.callStatic.fetchPrice();\n\n    const recoveryMode = await troveContract.checkRecoveryMode(collateralPrice);\n    const tcr = await troveContract.getTCR(collateralPrice);\n\n    const spContract = core.getStabilityPool(collateral, activeChainId);\n    const arthInSp = await spContract.totalLUSDDeposits();\n\n    for (const trove of troves) {\n      if (trove.coll.lte(0) && trove.debt.lte(0)) continue;\n\n      const pendingETHReward: any =\n        (await troveContract.getPendingETHReward(trove.owner)) || BigNumber.from(0);\n      const pendingLUSDDebtReward: any =\n        (await troveContract.getPendingLUSDDebtReward(trove.owner)) || BigNumber.from(0);\n\n      let coll: any = trove.coll;\n      let debt: any = trove.debt;\n      if (pendingETHReward && pendingETHReward.gt(0)) coll = coll.add(pendingETHReward);\n      if (pendingLUSDDebtReward && pendingLUSDDebtReward.gt(0))\n        debt = debt.add(pendingLUSDDebtReward);\n\n      const cr = debt.lte(0)\n        ? BigNumber.from(0)\n        : coll.mul(collateralPrice).mul(100).div(debt).div(DECIMALS_18);\n\n      finalTroves.push({\n        id: `${Date.now() + Math.random()}-${trove.owner}`, // Reduces the chance of getting same id.\n        token: collateral,\n        owner: trove.owner,\n        deposit: coll,\n        debt: debt,\n        isLiquidateable: recoveryMode\n          ? cr.lt(tcr.mul(100).div(DECIMALS_18)) && arthInSp.gte(debt)\n          : cr.lt(110),\n        collateralRatio: cr,\n      });\n    }\n  }\n\n  return finalTroves;\n};\n\nexport default (token: string, pageNo: number = 5, doRefresh: boolean) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: [] });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const activeChainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: [] });\n      return;\n    }\n\n    const collateralTroveMapping = await fetchForCollaterals(\n      core,\n      pageNo,\n      [token],\n      activeChainId,\n    );\n    setValue({ isLoading: false, value: collateralTroveMapping });\n  }, [account, token, pageNo, core, activeChainId]);\n\n  useEffect(() => {\n    setValue({ isLoading: true, value: [] });\n  }, [token, pageNo, doRefresh]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch all loans: ${err.message}`, err),\n      );\n    }\n  }, [\n    core.isUnlocked,\n    doRefresh,\n    account,\n    token,\n    pageNo,\n    core.myAccount,\n    fetchValue,\n    activeChainId,\n  ]);\n\n  return value;\n};\n","import Tooltip from '@material-ui/core/Tooltip';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport theme from '../../index';\n\nconst HtmlTooltip = withStyles(() => ({\n  tooltip: {\n    backgroundColor: theme.color.dark[200],\n    color: 'white',\n    fontWeight: 300,\n    fontSize: '13px',\n    borderRadius: '6px',\n    padding: '20px',\n    // paddingRight: 0\n  },\n}))(Tooltip);\n\nexport default HtmlTooltip;\n","import clsx from 'clsx';\nimport copyText from 'copy-to-clipboard';\nimport React, { useEffect, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport { Icon } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { DataGrid } from '@material-ui/data-grid';\n\nimport { Mixpanel } from '../../../analytics/Mixpanel';\nimport config from '../../../config';\nimport '../../../customCss/Custom-Mahadao-Data-Table.css';\nimport useLiquidateTrove from '../../../hooks/callbacks/troveManager/useLiquidateTrove';\nimport useGetStaticLinkedListSize from '../../../hooks/state/sortedTroves/useGetStaticLinkedListSize';\nimport useGetAllTroves from '../../../hooks/state/useGetAllTroves';\nimport { PAGINATION_PAGE_SIZE } from '../../../protocol/constants';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport HtmlTooltip from '../../../theme/components/HtmlTooltip';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { getDisplayBalance, truncateMiddle } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport useTokenDecimals from '../../../hooks/useTokenDecimals';\n\nexport function SortedDescendingIcon() {\n  return <IconLoader iconName={'ArrowUp'} iconType=\"arrow\" />;\n}\n\nexport function SortedAscendingIcon() {\n  return <IconLoader iconName={'ArrowDown'} iconType=\"arrow\" />;\n}\n\nconst useStyles = makeStyles({\n  root: {\n    '& .super-app-theme--header': {\n      cursor: 'pointer',\n    },\n    '& .super-app.negative': {\n      color: '#FA4C69',\n      fontWeight: '600',\n    },\n    '& .super-app.positive': {\n      color: '#20C974',\n      fontWeight: '600',\n    },\n    '& .super-app.loss': {\n      color: '#FA4C69',\n      fontWeight: '600',\n    },\n    '& .super-app.profit': {\n      color: '#20C974',\n      fontWeight: '600',\n    },\n  },\n  gridStyle: {\n    color: 'white',\n  },\n});\n\ntype Props = {\n  selectedTrove: string;\n  doRefresh: boolean;\n  setDoRefresh: () => void;\n};\n\nconst AllLoansTable = ({ setDoRefresh, doRefresh, selectedTrove }: Props) => {\n  const chainId = useGetActiveChainId();\n  const troveDetail = troveDetails(selectedTrove, chainId);\n  const [pageNo, setPageNo] = useState<number>(0);\n  const noOfSize = useGetStaticLinkedListSize(troveDetail?.contractPrefix, doRefresh);\n\n  const troves = useGetAllTroves(troveDetail?.contractPrefix, pageNo, doRefresh);\n  const liquidateTrove = useLiquidateTrove();\n\n  const depositTokenDecimals = useTokenDecimals(troveDetail?.depositToken)\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    setPageNo(0);\n  }, [selectedTrove]);\n\n  const handleLiquidate = (symbol: string, borrower: string) => {\n    liquidateTrove(symbol, borrower, () => setDoRefresh());\n  };\n\n  const columns = [\n    {\n      field: 'owner',\n      headerName: 'OWNER',\n      flex: 0.23,\n      sortable: false,\n      renderCell: (params: any) => {\n        return (\n          <div className=\"single-line-center-start\">\n            {truncateMiddle(params.value, 15)}\n            <IconLoader\n              iconName={'ArrowLink'}\n              iconType={'arrow'}\n              onClick={() =>\n                window.open(`${config[chainId].etherscanUrl}/address/${params.row.owner}`)\n              }\n            />\n          </div>\n        );\n      },\n    },\n    {\n      field: 'deposit',\n      headerName: 'COLLATERAL',\n      flex: 0.23,\n      sortable: false,\n      renderCell: (params: any) => {\n        const depositToken = troveDetail.depositToken;\n        return (\n          <div onClick={() => {\n            window.open(`/#/loan/details/${params.row.owner}/${params.row.token}`);\n          }}>\n            ${Number(\n              getDisplayBalance(params.value, depositTokenDecimals, 3),\n            ).toLocaleString()} {depositToken}\n          </div>\n        );\n      },\n    },\n    {\n      field: 'debt',\n      headerName: 'DEBT(ARTH) ',\n      flex: 0.23,\n      sortable: false,\n      renderCell: (params: any) => {\n        return (\n          <div onClick={() => {\n            window.open(`/#/loan/details/${params.row.owner}/${params.row.token}`);\n          }}>\n            ${Number(getDisplayBalance(params.value, 18, 3)).toLocaleString()}\n          </div>\n        )\n      },\n      renderHeader: (params: any) => {\n        return (\n          <div className=\"single-line-center-start\">\n            <IconLoader iconName={'ARTH'} iconType=\"tokenSymbol\" width={20} className=\"m-r-4\" />\n            {params.field}\n          </div>\n        );\n      },\n    },\n    {\n      field: 'collateralRatio',\n      headerName: 'COLLATERAL RATIO',\n      flex: 0.23,\n      sortable: false,\n      sortingOrder: ['asc', 'desc'],\n      cellClassName: (params: any) =>\n        clsx('super-app', {\n          negative: params.row.isLiquidateable,\n          positive: !params.row.isLiquidateable,\n        }),\n      renderCell: (params: any) => {\n        return (\n          <div onClick={() => {\n            window.open(`/#/loan/details/${params.row.owner}/${params.row.token}`);\n          }}>\n            ${Number(params.value.toString()).toLocaleString()}%\n          </div>\n        )\n      },\n    },\n    {\n      field: 'delete',\n      headerName: 'LIQUIDATE',\n      flex: 0.1,\n      sortable: false,\n      renderCell: (params: any) => {\n        return (\n          <div\n            style={{ display: 'flex', justifyContent: 'center', width: '100%', zIndex: 100 }}\n            onClick={() => {\n              if (params.row.isLiquidateable) {\n                Mixpanel.track(`buttonClick:all_loans_liquidate`, {\n                  networkName: config[chainId]?.networkDisplayName,\n                  collateral: params.row.token,\n                });\n                handleLiquidate(params.row.token, params.row.owner);\n              }\n            }}\n          >\n            <HtmlTooltip\n              title={\n                params.row.isLiquidateable ? 'Liquidate' : 'Collateral ratio not low enough'\n              }\n            >\n              <IconLoader iconName={params.row.isLiquidateable ? 'Delete' : 'DeleteFaded'} />\n            </HtmlTooltip>\n          </div>\n        );\n      },\n    },\n  ];\n\n  const LoadingOverlayComponent = () => {\n    return (\n      <div className=\"noResultContainer\">\n        <div className=\"internal\">\n          <Loader color={'#ffffff'} loading={true} size={10} margin={2} />\n        </div>\n      </div>\n    );\n  };\n\n  const noResultsComponent = () => {\n    return (\n      <div className=\"noResultContainer\">\n        <div className=\"internal\">\n          <TextWrapper\n            text={'There are no opens loans yet.'}\n            fontSize={24}\n            fontWeight={'bold'}\n            className=\"m-b-8\"\n          />\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <React.Fragment>\n      <div className={classes.root} style={{ position: 'relative' }}>\n        <DataGrid\n          className={classes.gridStyle}\n          getRowId={(rows) => {\n            return rows.id;\n          }}\n          pagination\n          rows={troves.value}\n          columns={columns}\n          pageSize={PAGINATION_PAGE_SIZE}\n          rowCount={Number(noOfSize.value.toString())}\n          paginationMode=\"server\"\n          disableMultipleSelection={true}\n          onRowClick={(newSelection) => {\n            // window.open(`/#/loan/details/${newSelection.row.owner}/${newSelection.row.token}`);\n          }}\n          rowHeight={84}\n          loading={troves.isLoading || noOfSize.isLoading}\n          onPageChange={(newPage) => {\n            setPageNo(Number(newPage.page) || 0);\n          }}\n          autoHeight={true}\n          disableColumnMenu={true}\n          components={{\n            LoadingOverlay: LoadingOverlayComponent,\n            NoRowsOverlay: noResultsComponent,\n            ColumnSortedDescendingIcon: SortedDescendingIcon,\n            ColumnSortedAscendingIcon: SortedAscendingIcon,\n          }}\n          disableColumnSelector={true}\n          disableSelectionOnClick={true}\n        />\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default AllLoansTable;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber | number;\n};\n\nexport default (trove: string, doRefresh: boolean) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: 0 });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const activeChainId = useGetActiveChainId();\n\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: 0 });\n      return;\n    }\n\n    const contract = core.getSortedTroves(troveDetail.contractPrefix, activeChainId);\n    const value = await contract.getSize();\n    setValue({ isLoading: false, value: value });\n  }, [core, trove, account]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch linked list size: ${err}`));\n    }\n  }, [core.isUnlocked, account, doRefresh, fetchValue]);\n\n  return value;\n};\n","import { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { truncateMiddle } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\n\nexport default function () {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetActiveChainId();\n\n  return useCallback(\n    async (symbol: string, borrower: string, callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getTroveManager(symbol, activeChainId);\n        console.log('contract', contract.address);\n        const response = await contract.liquidate(borrower);\n\n        addTransaction(response, {\n          summary: `Liquidate ${truncateMiddle(\n            borrower,\n            15,\n          )}'s Loan on ${symbol.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        console.log('e', e);\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, addTransaction, addPopup, activeChainId],\n  );\n}\n","import React, { useMemo, useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\n\n\nimport useCore from '../../hooks/useCore';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport Button from '../../theme/components/Button';\nimport IconLoader from '../../theme/components/IconLoader';\nimport Selector from '../../theme/components/Selector';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport AllLoansTable from \"./components/AllLoansTable\";\nimport { useWallet } from \"use-wallet\";\n\n\nconst AllLoans = () => {\n  const activeChainId = useGetActiveChainId();\n  const [doRefresh, setDoRefresh] = useState<boolean>(false);\n  const [dropdownModalOpen, setDropdownModalOpen] = useState<boolean>(false);\n  const {account} = useWallet();\n\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n  const trovesTypes: string[] = useMemo(() => {\n    return core.getAllTroves(activeChainId, account);\n  }, [core, activeChainId, account]);\n\n  const isMobile = useMediaQuery({ maxWidth: '600px' });\n\n  const [selectedTrove, setSelectedTrove] = useState<string>(\n    String(core.config('defaultCollateral', chainId)),\n  );\n\n  return (\n    <div>\n      <div className=\"m-b-24 mo-custom-container single-line-center-between mo-single-line-column\">\n        {/* <div /> */}\n        <div className=\"single-line-center-start\">\n          <Selector\n            openSelector={dropdownModalOpen}\n            toggleSelector={() => {\n              setDropdownModalOpen(!dropdownModalOpen);\n            }}\n            dropdownValue={[...trovesTypes]}\n            selectedData={selectedTrove}\n            setSelectedData={(data) => setSelectedTrove(data)}\n            symbolicData={true}\n            className=\"m-r-12\"\n          />\n          <Button\n            variant={'transparent'}\n            onClick={() => setDoRefresh(!doRefresh)}\n            tracking_id={'refresh_all_loans'}\n          >\n            <IconLoader iconName={'Sync'} className=\"m-r-8\" />\n            <TextWrapper text={'Refresh'} fontWeight={600} />\n          </Button>\n        </div>\n      </div>\n      <AllLoansTable\n        setDoRefresh={() => setDoRefresh(!doRefresh)}\n        selectedTrove={selectedTrove}\n        doRefresh={doRefresh}\n      />\n    </div>\n  );\n};\n\nexport default AllLoans;\n","import React from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport TextWrapper from '../../../theme/components/TextWrapper';\n\ninterface Iprops {\n  text: string;\n  value: string;\n  isLoading: boolean;\n}\n\nconst SummaryBox = (props: Iprops) => {\n  const { text, value, isLoading } = props;\n\n  return (\n    <div className=\"material-primary text-center\">\n      <div className=\"m-b-4\">\n        <TextWrapper text={text} fontSize={16} align={'center'} />\n      </div>\n      {isLoading ? (\n        <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n      ) : (\n        <TextWrapper text={value} fontSize={24} fontWeight={'bold'} align={'center'} />\n      )}\n    </div>\n  );\n};\n\nexport default SummaryBox;\n","import React, { useEffect, useState } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport useCollateralForOpenTroves from '../../hooks/state/useCollateralForOpenTroves';\nimport Button from '../../theme/components/Button';\nimport IconLoader from '../../theme/components/IconLoader';\nimport PageHeader from '../../theme/components/PageHeader';\n\nimport Toggler from \"./components/Toggler\";\nimport YourLoans from \"../yourLoans\";\nimport AllLoans from \"../AllLoans\";\nimport useGetProtocolDebt from \"../../hooks/state/useGetProtocolDebt\";\nimport useGetProtocolCollateralInGMU from \"../../hooks/state/useGetProtocolCollateralInGMU\";\nimport SummaryBox from \"./components/SummaryBox\";\nimport { Grid } from \"@material-ui/core\";\nimport { getDisplayBalance } from \"../../utils/formatBalance\";\nimport Numeral from \"numeral\";\nimport config from \"../../config\";\nimport TextWrapper from \"../../theme/components/TextWrapper\";\nimport theme from \"../../theme\";\nimport { VfatLink } from \"../Farming\";\nimport { useGetActiveChainId } from \"../../state/chains/hooks\";\nimport StakedBanner from \"../../components/StakedBanner\";\n\ntype Tab = {\n  index: number;\n  key: string;\n  text: string;\n};\n\nconst allTabs: Tab[] = [\n  {\n    index: 0,\n    key: 'overview',\n    text: 'OVERVIEW',\n  },\n];\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\ntype IMode = 'your-loans' | 'all-loans';\n\nconst Loan = () => {\n  const { mode } = useParams<{ mode: string }>();\n  const chainId = useGetActiveChainId();\n  const [selectedMode, setSelectedMode] = useState<IMode>('your-loans');\n  const collateralForActiveTroves = useCollateralForOpenTroves();\n  const entireSystemDebt = useGetProtocolDebt();\n  const entireSystemCollateral = useGetProtocolCollateralInGMU();\n\n  useEffect(() => {\n    if (mode === 'your-loans' || mode === 'all-loans') {\n      window.location.href = `/#/loans/${mode}`;\n      setSelectedMode(mode)\n    } else {\n      window.location.href = `/#/loans/your-loans`;\n      setSelectedMode('your-loans')\n    }\n  }, [mode]);\n\n  return (\n    <div className=\"custom-container\">\n      <VfatLink onClick={() => window.location.href = '/#/farming'}>\n        <TextWrapper\n          text={'New'}\n          Fcolor={theme.color.primary[300]}\n          fontWeight={600}\n          className={'m-r-12'}\n        />\n        <TextWrapper text={'Farm $ARTH at more than 100% APR'} className={'m-r-12'} />\n        <IconLoader iconName={'ArrowTailRight'} iconType={'arrow'} />\n      </VfatLink>\n      <div className=\"single-line-center-between mo-single-line-column\">\n        <PageHeader\n          title={'LOANS'}\n          subTitle={'Borrow ARTH against different collaterals at 0% interest.'}\n          showLearnMore={true}\n          learnMoreLink={'https://docs.arthcoin.com/protocol/introduction-arth-loans'}\n        />\n        <div className=\"single-line-center-start\">\n          <ButtonContainer>\n            <Button\n              to={'/loan/add'}\n              tracking_id={'open_loan'}\n              tracking_params={{ position: 'header' }}\n            >\n              <IconLoader iconName={'Add'} className=\"m-r-4\" width={20} />\n              Take Loan\n            </Button>\n          </ButtonContainer>\n        </div>\n      </div>\n\n      <div>\n        <Toggler\n          mode={selectedMode}\n          onModeChange={(data) => window.location.href = `/#/loans/${data}`} />\n      </div>\n      <StakedBanner />\n      <div className=\"mo-custom-container m-b-40\">\n        <Grid container spacing={2}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <SummaryBox\n              text={'TOTAL COLLATERAL LOCKED IN PROTOCOL'}\n              isLoading={entireSystemCollateral.isLoading}\n              value={Numeral(getDisplayBalance(entireSystemCollateral.value, 18, 3)).format('0,0.000') + ' $GMU'}\n            />\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <SummaryBox\n              text={'TOTAL ARTH DEBT OF PROTOCOL'}\n              isLoading={entireSystemDebt.isLoading}\n              value={Numeral(getDisplayBalance(entireSystemDebt.value, 18, 3)).format('0,0.000') + ' ARTH'}\n            />\n          </Grid>\n        </Grid>\n      </div>\n      {selectedMode === 'your-loans' && <YourLoans />}\n      {selectedMode === 'all-loans' && <AllLoans />}\n    </div>\n  );\n};\n\nexport default Loan;\n\nconst ButtonContainer = styled.div`\n        margin-bottom: 40px;\n        @media (max-width: 600px) {\n          max - width: max-content;\n        padding-left: 16px;\n        margin-top: -20px;\n  }\n        `;\n","import { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../state/application/hooks';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: Array<string>;\n};\n\nexport default () => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: [] });\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: [] });\n      return;\n    }\n\n    const collaterals = core.getAllTroves(activeChainId);\n\n    // Fetch respective trove.\n    const collateralsTrove = collaterals.map(async (colalteral: string) => {\n      const contract = core.getSortedTroves(colalteral, activeChainId);\n      return await contract.contains(account);\n    });\n    const troves = await Promise.all(collateralsTrove);\n\n    // Fetch all collaterals with active trove.\n    const activeTroveCollaterals: string[] = [];\n    troves.forEach((trove: boolean, i: number) => {\n      if (trove) {\n        activeTroveCollaterals.push(collaterals[i]);\n      }\n    });\n\n    setValue({ isLoading: false, value: activeTroveCollaterals });\n  }, [account, core, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch arth in circulating supply with %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, core.myAccount, blockNumber, fetchValue]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { AppState } from '../../state';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default () => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const systemDebt = useSelector((app: AppState) => app.analytics.entireSystemDebt);\n  const { account } = useWallet();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    // const collaterals = core.getCollateralTypes(activeChainId);\n    const collaterals = core.getAllTroves(activeChainId);\n\n    const debts = collaterals.map((c: string) => systemDebt[c]);\n\n    if (debts.findIndex((f) => f === undefined) >= 0)\n      return setValue({ isLoading: true, value: BigNumber.from(0) });\n\n    setValue({ isLoading: false, value: debts.reduce((a, b) => a.add(b), BigNumber.from(0)) });\n  }, [account, core, systemDebt, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch protocol debt %: ${err}`));\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { DECIMALS_18 } from '../../protocol/constants';\nimport { AppState } from '../../state';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default () => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  // const gmuPrices = useSelector((app: AppState) => app.analytics.gmuPrice);\n  const entireSystemColl = useSelector((app: AppState) => app.analytics.entireSystemColl);\n  const { account } = useWallet();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const collaterals = core.getAllTroves(activeChainId);\n\n    // const collaterals = core.getCollateralTypes(activeChainId);\n\n    // Fetch respective debt.\n    const debts = collaterals.map((c: string) => entireSystemColl[c]);\n\n    // Fetch respective collateral price.\n    // const prices = collaterals.map((c: string) => gmuPrices[c] || BigNumber.from(0));\n\n    const prices: BigNumber[] = [];\n    for (const collateral of collaterals) {\n      const contract = core.getPriceFeed(collateral, activeChainId);\n      prices.push(await contract.callStatic.fetchPrice());\n    }\n    if (debts.findIndex((f) => f === undefined) >= 0)\n      return setValue({ isLoading: true, value: BigNumber.from(0) });\n\n    const gmuDebts = debts.map((debt, i) => debt.mul(prices[i]).div(DECIMALS_18));\n\n    setValue({\n      isLoading: false,\n      value: gmuDebts.reduce((a, b) => a.add(b), BigNumber.from(0)),\n    });\n  }, [account, core, entireSystemColl, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch protocol collateral in gmu %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, fetchValue, activeChainId]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../state/application/hooks';\nimport { useGetActiveChainId } from '../state/chains/hooks';\n\nimport useCore from './useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (tokenSymbol: string) => {\n  const [totalSupply, setTotalSupply] = useState<State>({\n    isLoading: true,\n    value: BigNumber.from(0),\n  });\n\n  const core = useCore();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    const value = await core.tokens(tokenSymbol, activeChainId).totalSupply();\n    if (!value.eq(totalSupply.value)) {\n      setTotalSupply({\n        isLoading: false,\n        value: await core.tokens(tokenSymbol, activeChainId).totalSupply()\n      });\n    }\n  }, [activeChainId, core, tokenSymbol, totalSupply.value]);\n\n  useEffect(() => {\n    fetchValue().catch((err) =>\n      console.error(`Failed to fetch ${tokenSymbol} supply: ${err.stack}`),\n    );\n  }, [blockNumber, totalSupply, core, tokenSymbol, fetchValue]);\n\n  return totalSupply;\n};\n","import React, { useMemo } from 'react';\nimport styled from 'styled-components';\n\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport { PoolsStaticInfo, TokeniseStaticInfo } from \"../../../protocol/config\";\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport theme from '../../../theme';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextButton from '../../../theme/components/TextButton';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ActionButton from \"../../../theme/components/ActionButton\";\nimport DataField from \"../../../theme/components/DataField\";\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport useTotalSupply from '../../../hooks/useTotalSupply';\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { BigNumber } from 'ethers';\nimport useTokenBalanceOf from '../../../hooks/state/useTokenBalanceOf';\n\ninterface IProps {\n  poolStaticInfo: PoolsStaticInfo;\n}\n\nconst PoolCard = (props: IProps) => {\n  const {poolStaticInfo} = props;\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n  const lpERC20 = core.tokens(poolStaticInfo.lpToken, chainId);\n  const lpERC20Balance = useTokenBalance(lpERC20);\n  const lpERC20TotalSupply = useTotalSupply(poolStaticInfo.lpToken);\n\n  const yourShare = useMemo(() => {\n    if (lpERC20TotalSupply.value.lte(0)) return BigNumber.from(0);\n    return lpERC20Balance.value.mul(DECIMALS_18).mul(100).div(lpERC20TotalSupply.value)\n  }, [lpERC20Balance, lpERC20TotalSupply]);\n\n  const arthUsdInPool = useTokenBalanceOf(\n    core.tokens('ARTH.usd', chainId),\n    core.contracts(poolStaticInfo.minterContract, chainId).address\n  );\n  const token3PoolInPool = useTokenBalanceOf(\n    core.tokens(poolStaticInfo.token3Pool, chainId),\n    core.contracts(poolStaticInfo.minterContract, chainId).address\n  );\n\n  return (\n    <Card className={'material-secondary'}>\n      <div className={'m-b-24'}>\n        <div className={'single-line-center-center m-b-12'}>\n          <ImgCon>\n            <IconLoader\n              iconName={poolStaticInfo.symbol}\n              iconType={'tokenSymbol'}\n              height={98}\n              width={192}\n            />\n          </ImgCon>\n        </div>\n        <TextWrapper\n          text={poolStaticInfo.name}\n          fontSize={24}\n          fontFamily={'Syne'}\n          align={'center'}\n          fontWeight={600}\n        />\n      </div>\n      <div className={'single-line-center-center m-b-24'}>\n        <TextWrapper\n          text={poolStaticInfo.desc}\n          Fcolor={theme.color.transparent[100]}\n        />\n      </div>\n      <div className={'m-b-32'}>\n        <DataField\n          label={'Your total pool tokens'}\n          value={Number(getDisplayBalance(lpERC20Balance.value, lpERC20.decimal, 6)).toLocaleString()}\n          valueTag={poolStaticInfo.lpToken}\n          className={'m-b-12'}\n        />\n        <DataField\n          label={'Pooled ARTH'}\n          value={Number(getDisplayBalance(\n            arthUsdInPool.value,\n            18\n          )).toLocaleString()}\n          valueTag={'ARTH'.toUpperCase()}\n          className={'m-b-12'}\n        />\n        <DataField\n          label={`Pooled ${poolStaticInfo.token3Pool}`}\n          value={Number(getDisplayBalance(\n            token3PoolInPool.value,\n            core.tokens(poolStaticInfo.token3Pool, chainId).decimal\n          )).toLocaleString()}\n          valueTag={poolStaticInfo.token3Pool}\n          className={'m-b-12'}\n        />\n        <DataField\n          label={'Your pool share'}\n          value={Number(getDisplayBalance(yourShare, 18, 6)).toLocaleString() + '%'}\n          className={'m-b-12'}\n        />\n      </div>\n      <ButtonPosition>\n        <div>\n          <ActionButton\n            text={'Add Liquidity'}\n            onClick={() => window.location.href = `/#/pools/add-liquidity/${poolStaticInfo.name}`}\n            tracking_id={'add_liquidity'}\n            tracking_params={{\n              collateral: '',\n              action: 'initial',\n            }}\n          />\n        </div>\n        <div className={'single-line-center-center m-t-24'}>\n          <TextButton\n            onClick={() => window.open(poolStaticInfo.removeLiquidityLink)}\n            text={'Remove Liquidity'}\n            tracking_id={'tokenize_redeem'}\n            tracking_params={{\n              collateral: '',\n              action: 'initial',\n            }}\n          />\n        </div>\n      </ButtonPosition>\n    </Card>\n  );\n};\n\nexport default PoolCard;\n\nconst Card = styled.div`\n  padding: 32px;\n  border-radius: 12px;\n  height: 100%;\n  @media(max-width: 600px) {\n    padding: 32px 24px;\n  }\n`;\n\nconst ImgCon = styled.div`\n  //width: 98px;\n  //height: 98px;\n  //box-shadow: 2px 2px 20px #2A2827;\n  //border-radius: 50%;\n  position: relative;\n`;\n\nconst PlatformIcon = styled.div`\n  position: absolute;\n  top: -4px;\n  right: -4px;\n`;\n\nconst ButtonPosition = styled.div``;\n","import React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport PageHeader from \"../../theme/components/PageHeader\";\nimport PoolCard from \"./components/PoolCard\";\nimport useCore from \"../../hooks/useCore\";\nimport { useGetActiveChainId } from \"../../state/chains/hooks\";\n\nconst Pools = () => {\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n  const pools = core.getLiquidityPools(chainId);\n\n  return (\n      <div className=\"custom-container\">\n        <PageHeader\n          title={'POOLS'}\n          subTitle={'Borrow ARTH against different collaterals at 0% interest.'}\n          showLearnMore={true}\n          learnMoreLink={'https://docs.arthcoin.com/protocol/introduction-arth-loans'}\n        />\n        <Grid container className=\"m-t-24\" spacing={2}>\n          {pools.map((poolInfo) => {\n            return (\n              <Grid item lg={4} md={4} sm={12} xs={12}>\n                <PoolCard poolStaticInfo={poolInfo}/>\n              </Grid>\n            )})\n          }\n        </Grid>\n      </div>\n  );\n};\n\nexport default Pools;\n","export function escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n}\n\nexport const truncateMiddle = function (\n  fullStr: string = '',\n  strLen: number,\n  separator?: string,\n) {\n  if (fullStr.length <= strLen) return fullStr;\n\n  separator = separator || '...';\n\n  var sepLen = separator.length,\n    charsToShow = strLen - sepLen,\n    frontChars = Math.ceil(charsToShow / 3),\n    backChars = Math.floor(charsToShow / 3);\n\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n\nexport const convertToDate = (timestamp: number) => new Date(timestamp * 1000);\n","import assert from 'assert';\nimport { BigNumber, Contract } from 'ethers';\n\nimport Protocol from '../protocol';\nimport { BETA, MINUTE_DECAY_FACTOR } from '../protocol/constants';\n\nimport { convertToDate } from '.';\nimport { Decimal, Decimalish, decimalify } from './Decimal';\n\n/**\n * Value that the {@link Fees.borrowingRate | borrowing rate} will never decay below.\n *\n * @remarks\n * Note that the borrowing rate can still be lower than this during recovery mode, when it's\n * overridden by zero.\n *\n * @public\n */\nexport const MINIMUM_BORROWING_RATE = Decimal.from(0.005);\n\n/**\n * Value that the {@link Fees.borrowingRate | borrowing rate} will never exceed.\n *\n * @public\n */\nexport const MAXIMUM_BORROWING_RATE = Decimal.from(0.05);\n\n/**\n * Value that the {@link Fees.redemptionRate | redemption rate} will never decay below.\n *\n * @public\n */\nexport const MINIMUM_REDEMPTION_RATE = Decimal.from(0.005);\n\n/**\n * Calculator for fees.\n *\n * @remarks\n * Returned by the {@link ReadableLiquity.getFees | getFees()} function.\n *\n * @public\n */\nexport class Fees {\n  private readonly _baseRateWithoutDecay: Decimal;\n  private readonly _minuteDecayFactor: Decimal;\n  private readonly _beta: Decimal;\n  private readonly _lastFeeOperation: Date;\n  private readonly _timeOfLatestBlock: Date;\n  private readonly _recoveryMode: boolean;\n\n  /** @internal */\n  constructor(\n    baseRateWithoutDecay: Decimalish,\n    minuteDecayFactor: Decimalish,\n    beta: Decimalish,\n    lastFeeOperation: Date,\n    timeOfLatestBlock: Date,\n    recoveryMode: boolean,\n  ) {\n    this._baseRateWithoutDecay = Decimal.from(baseRateWithoutDecay);\n    this._minuteDecayFactor = Decimal.from(minuteDecayFactor);\n    this._beta = Decimal.from(beta);\n    this._lastFeeOperation = lastFeeOperation;\n    this._timeOfLatestBlock = timeOfLatestBlock;\n    this._recoveryMode = recoveryMode;\n\n    assert(this._minuteDecayFactor.lt(1));\n  }\n\n  /** @internal */\n  _setRecoveryMode(recoveryMode: boolean): Fees {\n    return new Fees(\n      this._baseRateWithoutDecay,\n      this._minuteDecayFactor,\n      this._beta,\n      this._lastFeeOperation,\n      this._timeOfLatestBlock,\n      recoveryMode,\n    );\n  }\n\n  /**\n   * Compare to another instance of `Fees`.\n   */\n  equals(that: Fees): boolean {\n    return (\n      this._baseRateWithoutDecay.eq(that._baseRateWithoutDecay) &&\n      this._minuteDecayFactor.eq(that._minuteDecayFactor) &&\n      this._beta.eq(that._beta) &&\n      this._lastFeeOperation.getTime() === that._lastFeeOperation.getTime() &&\n      this._timeOfLatestBlock.getTime() === that._timeOfLatestBlock.getTime() &&\n      this._recoveryMode === that._recoveryMode\n    );\n  }\n\n  /** @internal */\n  toString(): string {\n    return (\n      `{ baseRateWithoutDecay: ${this._baseRateWithoutDecay}` +\n      `, lastFeeOperation: \"${this._lastFeeOperation.toLocaleString()}\"` +\n      `, recoveryMode: ${this._recoveryMode} } `\n    );\n  }\n\n  /** @internal */\n  baseRate(when = this._timeOfLatestBlock): Decimal {\n    const millisecondsSinceLastFeeOperation = Math.max(\n      when.getTime() - this._lastFeeOperation.getTime(),\n      0, // Clamp negative elapsed time to 0, in case the client's time is in the past.\n      // We will calculate slightly higher than actual fees, which is fine.\n    );\n\n    const minutesSinceLastFeeOperation = Math.floor(millisecondsSinceLastFeeOperation / 60000);\n\n    return this._minuteDecayFactor\n      .pow(minutesSinceLastFeeOperation)\n      .mul(this._baseRateWithoutDecay);\n  }\n\n  /**\n   * Calculate the current borrowing rate.\n   *\n   * @param when - Optional timestamp that can be used to calculate what the borrowing rate would\n   *               decay to at a point of time in the future.\n   *\n   * @remarks\n   * By default, the fee is calculated at the time of the latest block. This can be overridden using\n   * the `when` parameter.\n   *\n   * To calculate the borrowing fee in LUSD, multiply the borrowed LUSD amount by the borrowing rate.\n   *\n   * @example\n   * ```typescript\n   * const fees = await liquity.getFees();\n   *\n   * const borrowedLUSDAmount = 100;\n   * const borrowingRate = fees.borrowingRate();\n   * const borrowingFeeLUSD = borrowingRate.mul(borrowedLUSDAmount);\n   * ```\n   */\n  borrowingRate(when?: Date): Decimal {\n    return this._recoveryMode\n      ? Decimal.ZERO\n      : Decimal.min(MINIMUM_BORROWING_RATE.add(this.baseRate(when)), MAXIMUM_BORROWING_RATE);\n  }\n\n  /**\n   * Calculate the current redemption rate.\n   *\n   * @param redeemedFractionOfSupply - The amount of LUSD being redeemed divided by the total supply.\n   * @param when - Optional timestamp that can be used to calculate what the redemption rate would\n   *               decay to at a point of time in the future.\n   *\n   * @remarks\n   * By default, the fee is calculated at the time of the latest block. This can be overridden using\n   * the `when` parameter.\n   * Unlike the borrowing rate, the redemption rate depends on the amount being redeemed. To be more\n   * precise, it depends on the fraction of the redeemed amount compared to the total LUSD supply,\n   * which must be passed as a parameter.\n   *\n   * To calculate the redemption fee in LUSD, multiply the redeemed LUSD amount with the redemption\n   * rate.\n   *\n   * @example\n   * ```typescript\n   * const fees = await liquity.getFees();\n   * const total = await liquity.getTotal();\n   *\n   * const redeemedLUSDAmount = Decimal.from(100);\n   * const redeemedFractionOfSupply = redeemedLUSDAmount.div(total.debt);\n   * const redemptionRate = fees.redemptionRate(redeemedFractionOfSupply);\n   * const redemptionFeeLUSD = redemptionRate.mul(redeemedLUSDAmount);\n   * ```\n   */\n  redemptionRate(redeemedFractionOfSupply: Decimalish = Decimal.ZERO, when?: Date): Decimal {\n    redeemedFractionOfSupply = Decimal.from(redeemedFractionOfSupply);\n    let baseRate = this.baseRate(when);\n\n    if (redeemedFractionOfSupply.nonZero) {\n      baseRate = redeemedFractionOfSupply.div(this._beta).add(baseRate);\n    }\n\n    return Decimal.min(MINIMUM_REDEMPTION_RATE.add(baseRate), Decimal.ONE);\n  }\n}\n\n/** @internal */\nexport async function _getFeesFactory(\n  troveManager: Contract,\n): Promise<(blockTimestamp: number, recoveryMode: boolean) => Fees> {\n  const [lastFeeOperationTime, baseRateWithoutDecay] = await Promise.all([\n    troveManager.lastFeeOperationTime(),\n    troveManager.baseRate().then(decimalify),\n  ]);\n\n  return (blockTimestamp, recoveryMode) =>\n    new Fees(\n      baseRateWithoutDecay,\n      decimalify(MINUTE_DECAY_FACTOR),\n      BETA,\n      convertToDate(lastFeeOperationTime.toNumber()),\n      convertToDate(blockTimestamp),\n      recoveryMode,\n    );\n}\n\nexport async function getFees(\n  troveManager: Contract,\n  core: Protocol,\n  token: string,\n  price: BigNumber,\n  chainId: number,\n): Promise<Fees> {\n  const [createFees, total, blockTimestamp] = await Promise.all([\n    _getFeesFactory(troveManager),\n    core.getTotal(token, chainId),\n    core.getBlockTimestamp(),\n  ]);\n\n  return createFees(blockTimestamp, total.collateralRatioIsBelowCritical(decimalify(price)));\n}\n\nexport const addGasForBaseRateUpdate = (maxMinutesSinceLastUpdate = 10) => (gas: BigNumber) =>\n  gas.add(10000 + 1414 * Math.ceil(Math.log2(maxMinutesSinceLastUpdate + 1)));\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useState } from \"react\";\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useRedeemCollateral from '../../../hooks/callbacks/troveManager/useRedeemCollateral';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  arthValue: string;\n  openModal: boolean;\n  onClose: () => void;\n  redemptionRate: BigNumber;\n  collateralValue: string;\n  trove: string;\n  redeemFee: BigNumber;\n  stabilityFee: BigNumber;\n  stabilityFeeRate: BigNumber;\n  stabilityFeeToken: string;\n  onSuccess: () => void;\n}\n\nconst ConfirmRedeemModal = (props: Iprops) => {\n  const {\n    openModal,\n    onClose,\n    trove,\n    redemptionRate,\n    arthValue,\n    collateralValue,\n    redeemFee,\n    stabilityFee,\n    stabilityFeeRate,\n    stabilityFeeToken,\n    onSuccess,\n  } = props;\n\n  const chainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, chainId);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const redeemCollateral = useRedeemCollateral(\n    trove,\n    BigNumber.from(parseUnits(arthValue, 18)),\n    redemptionRate,\n  );\n\n  const handleRedemption = () => {\n    setLoading(true)\n    redeemCollateral(() => {\n      console.log('success')\n      setLoading(false);\n      onClose();\n      onSuccess();\n    }, () => {\n      console.log('fail')\n      setLoading(false);\n      onClose();\n    });\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Confirm Redemption'}\n        open={openModal}\n        handleClose={() => onClose()}\n        closeButton\n      >\n        <div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'Your ARTH amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(arthValue).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'MAHA Fee'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(stabilityFee, 18, 3)).toLocaleString(\n                  'en-US',\n                {\n                    maximumFractionDigits: 4,\n                    minimumFractionDigits: 2,\n                  },) +\n                  '(' +\n                  Number(getDisplayBalance(stabilityFeeRate, 16, 3)).toLocaleString() +\n                  '%)'\n                }\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={stabilityFeeToken} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-24\">\n            <TextWrapper text={'Redeem Fee'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(redeemFee, 18, 3)).toLocaleString() +\n                  '(' +\n                  Number(getDisplayBalance(redemptionRate, 16, 3)).toLocaleString() +\n                  '%)'\n                }\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={trove.toUpperCase()} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"bottom-divider m-b-24\" />\n          <div className=\"single-line-center-between m-b-32\">\n            <TextWrapper\n              text={`You will receive ${troveDetail.depositToken.toUpperCase()}`}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(\n                    BigNumber.from(parseUnits(collateralValue, 18)).sub(redeemFee),\n                    18,\n                    3,\n                  ),\n                ).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags m-l-5\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <Grid container spacing={2}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id={'Redeem_ARTH'}\n                tracking_params={{\n                  collateral: troveDetail.trove,\n                  action: 'cancel',\n                  amount: Number(arthValue),\n                }}\n              >\n                Back\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                loading={loading}\n                onClick={handleRedemption}\n                tracking_id={'Redeem_ARTH'}\n                tracking_params={{\n                  collateral: troveDetail.trove,\n                  action: 'confirm',\n                  amount: Number(arthValue),\n                }}\n              >\n                Redeem ARTH\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default ConfirmRedeemModal;\n","import * as Sentry from '@sentry/react';\nimport { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { LUSD_MINIMUM_NET_DEBT, REDEEM_MAX_ITERATIONS } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { Decimal, decimalify } from '../../../utils/Decimal';\nimport { getFees } from '../../../utils/fees';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport { findRedemptionHints } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (trove: string, arthAmount: BigNumber, redemptionRate: BigNumber) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  return useCallback(\n    async (callback?: () => void, errorHandler?: () => void): Promise<void> => {\n      try {\n        const priceFeed = core.getPriceFeed(troveDetail.contractPrefix, activeChainId);\n        const hintHelpers = core.getHintHelper(troveDetail.contractPrefix, activeChainId);\n\n        const troveManager = core.getTroveManager(troveDetail.contractPrefix, activeChainId);\n        const sortedTroves = core.getSortedTroves(troveDetail.contractPrefix, activeChainId);\n        const price = await priceFeed.callStatic.fetchPrice();\n\n        const [\n          fees,\n          total,\n          [truncatedAmount, firstRedemptionHint, ...partialHints],\n        ] = await Promise.all([\n          getFees(troveManager, core, troveDetail.depositToken, price, activeChainId),\n          core.getTotal(troveDetail.contractPrefix, activeChainId),\n          findRedemptionHints(\n            arthAmount,\n            sortedTroves,\n            hintHelpers,\n            troveManager,\n            priceFeed,\n            core.myAccount,\n          ),\n        ]);\n\n        if (truncatedAmount.isZero()) {\n          addPopup({\n            error: {\n              message: `Amount too low to redeem (try at least ${LUSD_MINIMUM_NET_DEBT})`,\n              stack: '',\n            },\n          });\n          return;\n        }\n\n        const defaultRedemptionRateSlippageTolerance = Decimal.from(0.001); // 0.1%\n\n        const defaultMaxRedemptionRate = (amount: Decimal) =>\n          Decimal.min(\n            fees\n              .redemptionRate(amount.div(total.debt))\n              .add(defaultRedemptionRateSlippageTolerance),\n            Decimal.ONE,\n          );\n\n        // const maxRedemptionRate = decimalify(redemptionRate)\n        const maxRedemptionRateOrDefault = defaultMaxRedemptionRate(\n          decimalify(truncatedAmount),\n        );\n\n        console.log(\n          truncatedAmount,\n          firstRedemptionHint,\n          ...partialHints.map((d) => d.toString()),\n          REDEEM_MAX_ITERATIONS,\n          maxRedemptionRateOrDefault.hex,\n        );\n\n        const response = await troveManager.redeemCollateral(\n          truncatedAmount,\n          firstRedemptionHint,\n          ...partialHints.map((d) => d.toString()),\n          REDEEM_MAX_ITERATIONS,\n          maxRedemptionRateOrDefault.hex,\n        );\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            ...partialHints.map((d) => d.toString()),\n            response,\n            truncatedAmount,\n            firstRedemptionHint,\n            REDEEM_MAX_ITERATIONS,\n          });\n        }\n\n        addTransaction(response, {\n          summary: `Redeem ${Number(\n            getDisplayBalance(truncatedAmount, 18, 3),\n          ).toLocaleString()} ARTH for ${trove.toUpperCase()}`,\n        });\n\n        const tx = await response.wait();\n        if (errorHandler && tx.status !== 1) errorHandler();\n        if (callback && tx.status === 1) callback();\n      } catch (e) {\n        Sentry.captureException({\n          e,\n          trove,\n          arthAmount,\n        });\n        if (errorHandler) errorHandler();\n\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      activeChainId,\n      addPopup,\n      addTransaction,\n      arthAmount,\n      core,\n      trove,\n      troveDetail.contractPrefix,\n      troveDetail.depositToken,\n    ],\n  );\n}\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport CustomInputContainer from '../../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../../components/CustomInputContainer/RegexValidation';\nimport useApprove, { ApprovalState } from '../../../hooks/callbacks/useApprove';\nimport useMAHAPrice from '../../../hooks/state/controller/useMAHAPrice';\nimport useGetStabilityFeeAndToken from '../../../hooks/state/governance/useGetStabilityFee';\nimport useGetRedemptionFeeRateWithDecay from '../../../hooks/state/troveManager/useGetRedemptionFeeRateWithDecay';\nimport useCollateralPriceFeed from '../../../hooks/state/useCollateralPriceFeed';\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport SuccessModal from '../../../theme/components/SuccesModal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTip from '../../../theme/components/Tooltip';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport ConfirmRedeemModal from '../modal/ConfirmRedeemModal';\n\ntype Props = {\n  trove: string;\n};\n\nconst RedeemTabContent = ({ trove }: Props) => {\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const [arthValue, setArthValue] = useState<string>('0');\n  const [collateralValue, setCollateralValue] = useState<string>('0');\n  const [openConfirmationModal, setOpenConfirmationModal] = useState<boolean>(false);\n\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n  const [successCollectModal, setSuccessCollectModal] = useState<boolean>(false);\n\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n\n  const mahaPrice = useCollateralPriceFeed(troveDetail.depositToken, troveDetail.contractPrefix);\n  const arthBalance = useTokenBalance(core.tokens('ARTH', activeChainId));\n  const collateralGMUPrice = useCollateralPriceFeed(troveDetail.depositToken, troveDetail.contractPrefix);\n  const stabilityFeeRate = useGetStabilityFeeAndToken(troveDetail.contractPrefix);\n  const collateralBalance = useTokenBalance(\n    core.tokens(troveDetail.depositToken, activeChainId),\n  );\n  const redemptionRate = useGetRedemptionFeeRateWithDecay(troveDetail.depositToken);\n\n  const redemptionFee = useMemo(() => {\n    if (redemptionRate.isLoading) return { isLoading: true, value: BigNumber.from(0) };\n\n    return {\n      isLoading: false,\n      value: BigNumber.from(parseUnits(collateralValue, 18))\n        .mul(redemptionRate.value)\n        .div(DECIMALS_18),\n    };\n  }, [redemptionRate, collateralValue]);\n\n  const stabilityFee = useMemo(() => {\n    if (stabilityFeeRate.isLoading || mahaPrice.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    const stabilityFeeInARTH = BigNumber.from(parseUnits(arthValue, 18))\n      .mul(stabilityFeeRate.value)\n      .div(DECIMALS_18);\n\n    return {\n      isLoading: false,\n      value: stabilityFeeInARTH.mul(DECIMALS_18).div(mahaPrice.value),\n    };\n  }, [stabilityFeeRate, mahaPrice, arthValue]);\n\n  const [arthApprovalStatus, approveARTH] = useApprove(\n    core.tokens('ARTH', activeChainId),\n    core.getController(troveDetail.contractPrefix, activeChainId)?.address || undefined,\n  );\n\n  const [mahaApprovalStatus, approveMAHA] = useApprove(\n    core.tokens('MAHA', activeChainId),\n    core.getGovernance(troveDetail.contractPrefix, chainId).address,\n  );\n\n  const isARTHApproved = useMemo(() => arthApprovalStatus === ApprovalState.APPROVED, [\n    arthApprovalStatus,\n  ]);\n  const isARTHApproving = useMemo(() => arthApprovalStatus === ApprovalState.PENDING, [\n    arthApprovalStatus,\n  ]);\n  const isMAHAApproved = useMemo(() => mahaApprovalStatus === ApprovalState.APPROVED, [\n    mahaApprovalStatus,\n  ]);\n  const isMAHAApproving = useMemo(() => mahaApprovalStatus === ApprovalState.PENDING, [\n    mahaApprovalStatus,\n  ]);\n\n  useEffect(() => window.scrollTo(0, 0), []);\n\n  const onCollateralValueChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.isLoading || collateralGMUPrice.value.lte(0)) {\n      setCollateralValue('0');\n      setArthValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setCollateralValue(check ? val : String(Number(val)));\n\n    const valueInNumber: number = Number(val);\n    if (!valueInNumber) return;\n\n    const bnCollateralAmount = BigNumber.from(parseUnits(`${valueInNumber}`, 18));\n\n    const totalCollateralValue = collateralGMUPrice.value\n      .mul(bnCollateralAmount)\n      .div(DECIMALS_18);\n\n    setArthValue(getDisplayBalance(totalCollateralValue, 18, 18));\n  };\n\n  const onARTHValueChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.isLoading || collateralGMUPrice.value.lte(0)) {\n      setCollateralValue('0');\n      setArthValue('0');\n      return;\n    }\n\n    let check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setArthValue(check ? val : String(Number(val)));\n\n    const valueInNumber: number = Number(val);\n    if (!valueInNumber) return;\n\n    const bnArthValue = BigNumber.from(parseUnits(`${valueInNumber}`, 18));\n\n    const finalCollateralValue = bnArthValue.mul(DECIMALS_18).div(collateralGMUPrice.value);\n\n    setCollateralValue(getDisplayBalance(finalCollateralValue, 18, 18));\n  };\n\n  const resetFields = () => {\n    setArthValue('0');\n    setCollateralValue('0');\n  };\n\n  return (\n    <>\n      <LeftTopCard className={'custom-mahadao-container'}>\n        <CustomInputContainer\n          ILabelValue={`Amount you want to redeem?`}\n          IBalanceValue={`${getDisplayBalance(arthBalance.value, 18, 3)}`}\n          isBalanceLoading={arthBalance.isLoading}\n          ILabelInfoValue={''}\n          DefaultValue={arthValue.toString()}\n          LogoSymbol={'ARTH'}\n          disabled={arthBalance.isLoading}\n          hasDropDown={false}\n          SymbolText={'ARTH'}\n          inputMode={'decimal'}\n          setText={onARTHValueChange}\n          tagText={'MAX'}\n          errorCallback={(flag: boolean) => {\n            setIsInputFieldError(flag);\n          }}\n          tokenDecimals={18}\n        />\n        <div className=\"text-center m-t-12 m-b-12\">\n          <IconLoader iconName={'ArrowTailDown'} iconType={'arrow'} />\n        </div>\n        <CustomInputContainer\n          ILabelValue={'You will receive'}\n          IBalanceValue={`${getDisplayBalance(collateralBalance.value, 18, 3)}`}\n          isBalanceLoading={collateralBalance.isLoading}\n          DefaultValue={collateralValue.toString()}\n          LogoSymbol={troveDetail.depositToken}\n          setText={onCollateralValueChange}\n          disabled={collateralBalance.isLoading || collateralGMUPrice.isLoading}\n          SymbolText={troveDetail.depositToken}\n          tokenDecimals={18}\n        />\n        <div className=\"single-line-center-between m-t-20 m-b-8\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Redemption fee'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The redemption fee is charged as a percentage of the redeemed ${troveDetail.depositToken.toUpperCase()}. The redemption fee is set algorithimatically based on demand and starts at 0.5%.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {redemptionFee.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={Number(getDisplayBalance(redemptionFee.value, 18, 3)).toLocaleString(\n                  'en-US',\n                  {\n                    maximumFractionDigits: 4,\n                    minimumFractionDigits: 2,\n                  },\n                )}\n                fontSize={12}\n              />\n            )}\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={troveDetail.depositToken.toUpperCase()} fontSize={12} />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-b-8\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'MAHA fee'} fontSize={12} />\n          </div>\n          <div className=\"single-line-center-start\">\n            {stabilityFee.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={Number(getDisplayBalance(stabilityFee.value, 18, 3)).toLocaleString(\n                  'en-US',\n                  {\n                    maximumFractionDigits: 4,\n                    minimumFractionDigits: 2,\n                  },\n                )}\n                fontSize={12}\n              />\n            )}\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'MAHA'} fontSize={12} />\n            </div>\n          </div>\n        </div>\n        <div className=\"m-t-32\">\n          <Grid container spacing={2}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                loading={isMAHAApproving}\n                disabled={\n                  isMAHAApproved ||\n                  stabilityFee.value.lte(0) ||\n                  !Number(arthValue) ||\n                  !Number(collateralValue) ||\n                  isInputFieldError\n                }\n                onClick={approveMAHA}\n                tracking_id={isMAHAApproved ? `Redeem_Approved_MAHA` : `Redeem_Approve_MAHA`}\n                tracking_params={{ collateral: troveDetail.trove, action: 'confirm' }}\n              >\n                {isMAHAApproved ? `Approved MAHA` : `Approve MAHA`}\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              {!isARTHApproved && activeChainId === 137 ? (\n                <Button\n                  loading={isARTHApproving}\n                  disabled={!Number(arthValue) || !Number(collateralValue) || isInputFieldError}\n                  onClick={approveARTH}\n                  tracking_id={'Redeem_Approve_ARTH'}\n                  tracking_params={{ collateral: troveDetail.trove, action: 'confirm' }}\n                >\n                  Approve ARTH\n                </Button>\n              ) : (\n                <Button\n                  disabled={!Number(arthValue) || !Number(collateralValue) || isInputFieldError}\n                  onClick={() => setOpenConfirmationModal(true)}\n                  tracking_id={'Redeem_ARTH'}\n                  tracking_params={{\n                    collateral: troveDetail.trove,\n                    action: 'initial',\n                    amount: Number(arthValue),\n                  }}\n                >\n                  Redeem ARTH\n                </Button>\n              )}\n            </Grid>\n          </Grid>\n        </div>\n      </LeftTopCard>\n      <ConfirmRedeemModal\n        redeemFee={redemptionFee.value}\n        stabilityFee={stabilityFee.value}\n        stabilityFeeRate={stabilityFeeRate.value}\n        stabilityFeeToken={'MAHA'}\n        arthValue={arthValue}\n        trove={trove}\n        redemptionRate={redemptionRate.value}\n        openModal={openConfirmationModal}\n        onClose={() => setOpenConfirmationModal(false)}\n        collateralValue={collateralValue}\n        onSuccess={() => {\n          setSuccessCollectModal(true);\n          setOpenConfirmationModal(false);\n        }}\n      />\n      <SuccessModal\n        modalOpen={successCollectModal}\n        setModalOpen={() => {\n          resetFields();\n          setSuccessCollectModal(false);\n        }}\n        title={'Your transaction is being mined on blockchain'}\n        subTitle={''}\n        buttonText={'Close'}\n      />\n    </>\n  );\n};\n\nconst LeftTopCard = styled.div`\n  padding: 32px;\n  @media (max-width: 600px) {\n    padding: 32px 16px;\n  }\n`;\n\nexport default RedeemTabContent;\n","import React, { useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport Container from '../../components/Container';\nimport useCore from '../../hooks/useCore';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport theme from '../../theme';\nimport IconLoader from '../../theme/components/IconLoader';\nimport PageHeader from '../../theme/components/PageHeader';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport LoanInfo from '../LoanInfo/LoanInfo';\n\nimport RedeemTabContent from './components/Redeem';\nimport { useWallet } from \"use-wallet\";\n\nconst Redeem = () => {\n  const { id } = useParams();\n  const [trove, setTrove] = useState<string>('');\n  const chainId = useGetActiveChainId();\n  const {account} = useWallet();\n\n  const core = useCore();\n  const isTroveValid: boolean = useMemo(() => {\n    const troves = core.getAllTroves(chainId, account);\n    if (troves.includes(id)) {\n      setTrove(id);\n      return true;\n    } else {\n      return false;\n    }\n  }, [core, chainId, account, id]);\n\n  if (!isTroveValid) {\n    window.location.href = '/#/redeem/';\n    return <div />;\n  }\n\n  return (\n    <>\n      <Container size=\"lg\">\n        <div className=\"m-b-40 mo-custom-container\">\n          <div className={'m-b-20 single-line-center-start'}>\n            <a href={'/#/redeem'}>\n              <TextWrapper text={'Redeem'} Fcolor={theme.color.transparent[200]} />\n            </a>\n            <IconLoader iconName={'ArrowRight'} iconType={'arrow'} className={'m-r-4 m-l-4'} />\n            <TextWrapper text={`${trove} Pool`} Fcolor={theme.color.transparent[100]} />\n          </div>\n          <PageHeader\n            title={`Redeem ARTH from ${trove} loans`}\n            subTitle={`You are going to redeem ARTH for collateral from ${trove.toUpperCase()} loans. For any redemption you will be charged a Redemption fee and a MAHA fee.`}\n            showLearnMore={true}\n            learnMoreLink={'https://docs.arthcoin.com/protocol/redeeming-arth#redemption-fees'}\n          />\n        </div>\n        <Grid container className=\"m-t-24\" spacing={2}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <RedeemTabContent trove={trove} />\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <LoanInfo trove={trove} />\n          </Grid>\n        </Grid>\n      </Container>\n    </>\n  );\n};\n\nexport default Redeem;\n","import { BigNumber } from 'ethers';\n\nimport { BasicState } from './interface';\n\nexport const LOADING_DEFAULT_BASIC_STATE: BasicState = {\n  isLoading: true,\n  value: BigNumber.from(0),\n};\n\nexport const NON_LOADING_DEFAULT_BASIC_STATE: BasicState = {\n  isLoading: false,\n  value: BigNumber.from(0),\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { BNZERO, DECIMALS_18 } from '../../protocol/constants';\nimport { LOADING_DEFAULT_BASIC_STATE } from '../../utils/constants';\nimport { formatToBN } from '../../utils/formatBalance';\nimport { BasicState } from '../../utils/interface';\nimport { coingeckoTokenMapping } from '../../utils/tokens/constants';\n\nimport useGetEntireSystemCollateral from './troveManager/useGetEntireSystemCollateral';\nimport useCollateralPriceFeed from \"./useCollateralPriceFeed\";\n\nconst useGetTvlValueInUsd = (token: string, contractPrefix: string) => {\n  const [state, setState] = useState<BasicState>(LOADING_DEFAULT_BASIC_STATE);\n\n  const { account } = useWallet();\n  const entireSystemCollateral = useGetEntireSystemCollateral(contractPrefix);\n  const collateralGMUPrice = useCollateralPriceFeed(token, contractPrefix);\n\n\n\n  const fetchValue = useCallback(async () => {\n    setState({\n      isLoading: false,\n      value: collateralGMUPrice.value.mul(entireSystemCollateral.value).mul(2).div(DECIMALS_18)\n    });\n    /*if (['BUSDUSDC-APE-LP-S', 'BUSDUSDT-APE-LP-S'].includes(token) ) {\n      const usdValue = await fetch(\n        `https://api.arthcoin.com/apy/qlp`, {\n          method: \"POST\",\n          body: JSON.stringify({ collateral: token })\n        }\n      )\n        .then((data) => data.json())\n        .then((data: any) => {\n          const value = Number(data['QlpTvl']);\n          if (value) {\n            return value;\n          } else {\n            return 0;\n          }\n        })\n        .catch((error) => {\n          console.error(`Failed to ${token} usd value: ${error.stack}`);\n          return 0;\n        });\n      setState({\n        isLoading: false,\n        value: formatToBN(usdValue)\n      });\n    } else {\n      const id = coingeckoTokenMapping[token];\n\n      const usdValue = await fetch(\n        `https://api.coingecko.com/api/v3/simple/price?ids=${id}&vs_currencies=usd`\n      )\n        .then((data) => data.json())\n        .then((data: any) => {\n          const value = Number(data[id].usd);\n          if (value) {\n            return value;\n          } else {\n            return 0;\n          }\n        })\n        .catch((error) => {\n          console.error(`Failed to ${token} usd value: ${error.stack}`);\n          return 0;\n        });\n\n      // console.log('tvl', collateralGMUPrice.value.mul(entireSystemCollateral.value).mul(2).toString());\n\n      if (usdValue && !entireSystemCollateral.isLoading) {\n        const data = formatToBN(usdValue).mul(entireSystemCollateral.value).div(DECIMALS_18);\n        setState({\n          isLoading: false,\n          value: collateralGMUPrice.value.mul(entireSystemCollateral.value).mul(2).div(DECIMALS_18)\n        });\n      } else {\n        setState({\n          isLoading: true,\n          value: BNZERO\n        });\n      }\n    }*/\n  }, [collateralGMUPrice.value, entireSystemCollateral.value]);\n\n  useEffect(() => {\n    fetchValue().catch((err) => {\n      console.error(`Failed to tvl in usd: ${err.stack}`);\n    });\n  }, [account, fetchValue]);\n\n  return state;\n};\n\nexport default useGetTvlValueInUsd;\n","import { BigNumber } from 'ethers';\nimport Numeral from 'numeral';\nimport React from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport theme from '../../../theme';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTip from '../../../theme/components/Tooltip';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { BasicState } from '../../../utils/interface';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport ActionButton from \"../../../theme/components/ActionButton\";\nimport useCore from \"../../../hooks/useCore\";\nimport { useWallet } from \"use-wallet\";\nimport useGetBorrowingFeeRateWithDecay from \"../../../hooks/state/troveManager/useGetBorrowingFeeRateWithDecay\";\nimport InfoTip from \"../../../theme/components/InfoTip\";\n\ninterface Iprops {\n  trove: string;\n  onTroveClick: () => void;\n  tvl: {\n    isLoading: boolean;\n    value: BigNumber;\n    gmuValue: BigNumber;\n  };\n  tcr: BasicState;\n  cr: {\n    mcr: number,\n    ccr: number,\n  };\n  vaultLinkedListSize: BasicState;\n  usdTvl: BasicState;\n}\n\nconst MobileRowCard = (props: Iprops) => {\n  const { trove, onTroveClick, tvl, tcr, cr, vaultLinkedListSize, usdTvl } = props;\n\n  const chainId = useGetActiveChainId();\n  const core = useCore();\n  const { account } = useWallet();\n\n  const troveDetail = troveDetails(trove, chainId);\n  const isUserWhiteListed = core.isUserWhiteListed(chainId, account);\n  const borrowingFeeRate = useGetBorrowingFeeRateWithDecay(troveDetail.contractPrefix);\n\n  return (\n    <CustomGrid>\n      <UpperDiv>\n        <SymbolDiv>\n          <IconLoader\n            iconName={troveDetail.depositToken}\n            iconType={'tokenSymbol'}\n            width={44}\n            className=\"m-r-16\"\n          />\n          <TextWrapper text={troveDetail.displayName} fontWeight={600} />\n        </SymbolDiv>\n        <div className=\"single-line-center-between m-b-16\">\n          <TextWrapper\n            text={'ONE TIME FEE'}\n            fontSize={12}\n            fontWeight={600}\n            Fcolor={'#FFFFFF88'}\n          />\n          {borrowingFeeRate.isLoading ? (\n            <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n          ) : (\n            <TextWrapper text={`${Numeral(getDisplayBalance(borrowingFeeRate.value, 18, 6)).format('0,0.000%')}`} fontWeight={600} />\n          )}\n        </div>\n        <div className=\"single-line-start-between m-b-16\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'TVL'} fontSize={12} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <ToolTip toolTipText={``} />\n          </div>\n          <div>\n            {tvl.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  Numeral(getDisplayBalance(tvl.value, 18, 6)).format('0,0.000a') +\n                  ` ${troveDetail.depositToken.toUpperCase()}`\n                }\n                className={'m-b-4'}\n              />\n            )}\n            {usdTvl.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n            ) : (\n              <TextWrapper\n                text={`$${Numeral(getDisplayBalance(usdTvl.value, 18, 6)).format('0,0.000a')}`}\n                fontWeight={600}\n                Fcolor={theme.color.primary[300]}\n                align={'right'}\n              />\n            )}\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-b-16\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={'MINIMUM CR'}\n              fontSize={12}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <ToolTip toolTipText={``} />\n          </div>\n          <TextWrapper text={`${cr.mcr}%`} fontWeight={600} />\n        </div>\n        <div className=\"single-line-center-between m-b-16\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={'RECOVERY MODE CR'}\n              fontSize={12}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <ToolTip toolTipText={``} />\n          </div>\n          <TextWrapper text={`${cr.ccr}%`} fontWeight={600} />\n        </div>\n        <div className=\"single-line-center-between m-b-16\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={'TOTAL CR'}\n              fontSize={12}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <ToolTip toolTipText={``} />\n          </div>\n          <TextWrapper\n            text={\n              vaultLinkedListSize.value.gt(0)\n                ? Numeral(getDisplayBalance(tcr.value, 18, 6)).format('0,0.000%')\n                : '0%'\n            }\n            fontWeight={600}\n          />\n        </div>\n        <div className=\"single-line-center-between m-b-32\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={'MAHA APR'}\n              fontSize={12}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <ToolTip toolTipText={``} />\n          </div>\n          <TextWrapper text={`0%`} fontWeight={600} />\n        </div>\n        {troveDetail.isDeprecated &&\n          <InfoTip type={\"Warning\"} msg={\"This collateral is depreciated. Please use some of the other collaterals\"} className={\"m-b-12\"} />\n        }\n        {troveDetail.isDeprecated\n          ? <ActionButton\n            text={\"Take Loan (Deprecated)\"}\n            onClick={onTroveClick}\n            disabled={true}\n          />\n          : <ActionButton\n            text={\"Take Loan\"}\n            onClick={onTroveClick}\n            tracking_id={\"select_loan\"}\n            tracking_params={{\n              collateral: troveDetail.trove\n            }}\n          />\n        }\n      </UpperDiv>\n    </CustomGrid>\n  );\n};\n\nexport default MobileRowCard;\n\nconst CustomGrid = styled.div`\n  background: linear-gradient(180deg, #48423e 0%, #373030 100%);\n  border: 1px solid rgba(255, 255, 255, 0.16);\n  box-sizing: border-box;\n  border-radius: 12px;\n  margin-bottom: 16px;\n`;\n\nconst UpperDiv = styled.div`\n  padding: 32px;\n  border-bottom: 1px solid #ffffff29;\n  @media(max-width: 600px) {\n    padding: 24px;\n  }\n`;\n\nconst SymbolDiv = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 40px;\n`;\n","import React, { useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\n\nimport useLinkedListSize from '../../../hooks/state/sortedTroves/useGetLinkedListSize';\nimport useGetTotalCollateralRatio from '../../../hooks/state/troveManager/useGetTotalCollateralRatio';\nimport useGetCollateralWithGMUValue from '../../../hooks/state/useGetCollateralWithGMUValue';\nimport useGetTvlValueInUsd from '../../../hooks/state/useGetTvlValueInUsd';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { getDisplaycrParameters } from '../../../utils/crParameters';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\nimport DesktopRowCard from './DesktopRowCard';\nimport MobileRowCard from './MobileRowCard';\n\ntype Props = {\n  trove: string;\n};\n\nconst SingleTrove = ({ trove }: Props) => {\n  const isMobile = useMediaQuery({ maxWidth: '1280px' });\n  const chainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, chainId);\n\n  const onTroveClick = () => {\n    window.location.href = `/#/loan/add/${trove}`;\n  };\n\n  const tvl = useGetCollateralWithGMUValue(troveDetail.depositToken, troveDetail.contractPrefix);\n  const usdTvl = useGetTvlValueInUsd(troveDetail.depositToken, troveDetail.contractPrefix);\n  const totalCollteralRatio = useGetTotalCollateralRatio(trove);\n  const vaultLinkedListSize = useLinkedListSize(troveDetail.contractPrefix);\n  const cr = getDisplaycrParameters(trove, chainId);\n\n  return (\n    <div>\n     {/* {!isMobile ? (\n        <DesktopRowCard\n          trove={trove}\n          onTroveClick={onTroveClick}\n          tcr={totalCollteralRatio}\n          cr={cr}\n          tvl={tvl}\n          usdTvl={usdTvl}\n          vaultLinkedListSize={vaultLinkedListSize}\n        />\n      ) : (*/}\n        <MobileRowCard\n          trove={trove}\n          onTroveClick={onTroveClick}\n          tcr={totalCollteralRatio}\n          cr={cr}\n          tvl={tvl}\n          usdTvl={usdTvl}\n          vaultLinkedListSize={vaultLinkedListSize}\n        />\n      {/*)}*/}\n    </div>\n  );\n};\n\nexport default SingleTrove;\n","import React, { useMemo } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useCore from '../../../hooks/useCore';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\n\nimport SingleTrove from './SingleTrove';\nimport { useWallet } from \"use-wallet\";\n\nconst SelectLoanTable = () => {\n  const isMobile = useMediaQuery({ maxWidth: '1280px' });\n  const activeChainId = useGetActiveChainId();\n  const {account} = useWallet();\n\n  const core = useCore();\n  const collateralTypes: string[] = useMemo(() => core.getAllTroves(activeChainId, account), [\n    core,\n    activeChainId,\n    account\n  ]);\n\n  return(\n    <div className={'mo-custom-container'}>\n      <Grid container className=\"m-t-24\" spacing={2}>\n      {collateralTypes.map((collateral: string) => (\n          <Grid item lg={4} md={6} sm={12} xs={12} key={collateral}>\n            <SingleTrove trove={collateral} />\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  )\n\n  /*return (\n    <DataContainer className={'material-primary'}>\n      {!isMobile && (\n        <Grid container style={{ padding: '0px 32px ', marginBottom: '16px' }}>\n          <Grid item lg={2}>\n            <CustomTableHeading>COLLATERAL</CustomTableHeading>\n          </Grid>\n          <Grid item lg={2}>\n            <CustomTableHeading>ONETIME FEE</CustomTableHeading>\n          </Grid>\n          <Grid item lg={2}>\n            <CustomTableHeading>TVL</CustomTableHeading>\n          </Grid>\n          <Grid item lg={2}>\n            <CustomTableHeading>MIN CR</CustomTableHeading>\n          </Grid>\n          <Grid item lg={2}>\n            <CustomTableHeading>CURRENT CR</CustomTableHeading>\n          </Grid>\n          <Grid item lg={1}>\n            <CustomTableHeading>RECOVERY MODE CR</CustomTableHeading>\n          </Grid>\n          <Grid item lg={1} />\n        </Grid>\n      )}\n      <div>\n        {collateralTypes.map((collateral: string) => (\n          <SingleTrove trove={collateral} />\n        ))}\n      </div>\n    </DataContainer>\n  );*/\n};\n\nexport default SelectLoanTable;\n\nconst DataContainer = styled.div`\n  background: rgba(255, 255, 255, 0.02);\n  backdrop-filter: blur(70px);\n  border-radius: 6px;\n  padding: 24px 32px;\n  @media (max-width: 600px) {\n    background: transparent;\n    backdrop-filter: none;\n    border-radius: 6px;\n    padding: 32px 0;\n  }\n`;\n\nconst CustomTableHeading = styled.span`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 150%;\n  letter-spacing: 0.08em;\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.32);\n  opacity: 0.64;\n  text-align: left;\n  display: flex;\n  align-items: center;\n`;\n","import React from 'react';\n\nimport Container from '../../components/Container';\nimport theme from '../../theme';\nimport IconLoader from '../../theme/components/IconLoader';\nimport PageHeader from '../../theme/components/PageHeader';\nimport TextWrapper from '../../theme/components/TextWrapper';\n\nimport SelectLoanTable from './component/SelectLoanTable';\n\nconst SelectLoan = () => {\n  return (\n    <Container size=\"lg\">\n      <div className=\"mo-custom-container\">\n        <div className={'m-b-32 single-line-center-start'}>\n          <a href={'/#/loans/overview'}>\n            <TextWrapper text={'Loans overview'} Fcolor={theme.color.transparent[200]} />\n          </a>\n          <IconLoader iconName={'ArrowRight'} iconType={'arrow'} className={'m-r-4 m-l-4'} />\n          <TextWrapper text={'New Loan'} Fcolor={theme.color.transparent[100]} />\n        </div>\n      </div>\n      <PageHeader\n        title={'Open a New Loan'}\n        subTitle={`Choose the collateral type against which you would like to mint ARTH against.`}\n      />\n      <SelectLoanTable />\n    </Container>\n  );\n};\n\nexport default SelectLoan;\n","import { BigNumber } from 'ethers';\nimport Numeral from 'numeral';\nimport React from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport theme from '../../../theme';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTip from '../../../theme/components/Tooltip';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { BasicState } from '../../../utils/interface';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport ActionButton from \"../../../theme/components/ActionButton\";\nimport useCore from \"../../../hooks/useCore\";\nimport { useWallet } from \"use-wallet\";\nimport InfoTip from \"../../../theme/components/InfoTip\";\n\ninterface Iprops {\n  trove: string;\n  onTroveClick: () => void;\n  redeemFee: BasicState;\n  stabilityFee: BasicState;\n  tvl: {\n    isLoading: boolean;\n    value: BigNumber;\n  };\n  usdTvl: BasicState;\n}\n\nconst MobileRowCard = (props: Iprops) => {\n  const { trove, onTroveClick, redeemFee, stabilityFee, tvl, usdTvl } = props;\n\n  const chainId = useGetActiveChainId();\n  const core = useCore();\n  const { account } = useWallet();\n\n  const troveDetail = troveDetails(trove, chainId);\n  const isUserWhiteListed = core.isUserWhiteListed(chainId, account);\n  const erc20Token = core.tokens(troveDetail.depositToken, chainId);\n\n  return (\n    <CustomGrid>\n      <UpperDiv>\n        <SymbolDiv>\n          <IconLoader\n            iconName={troveDetail.depositToken}\n            iconType={'tokenSymbol'}\n            width={44}\n            className=\"m-r-16\"\n          />\n          <TextWrapper text={troveDetail.displayName} fontWeight={600} />\n        </SymbolDiv>\n        <div className=\"single-line-center-between m-b-16\">\n          <TextWrapper\n            text={'REDEEM FEE'}\n            fontSize={12}\n            fontWeight={600}\n            Fcolor={'#FFFFFF88'}\n          />\n          {redeemFee.isLoading ? (\n            <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n          ) : (\n            <TextWrapper\n              text={\n                Numeral(getDisplayBalance(redeemFee.value, 18, 6)).format('0,0.000a') +\n                '%'\n\n              }\n              fontWeight={600}\n              align={'right'}\n            />\n          )}\n        </div>\n        <div className=\"single-line-center-between m-b-16\">\n          <TextWrapper text={'MAHA FEE'} fontSize={12} fontWeight={600} Fcolor={'#FFFFFF88'} />\n          {stabilityFee.isLoading ? (\n            <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n          ) : (\n            <TextWrapper\n              text={\n                Numeral(getDisplayBalance(stabilityFee.value, 18, 6)).format('0,0.000a') +\n                '%'\n              }\n              fontWeight={600}\n            />\n          )}\n        </div>\n        <div className=\"single-line-start-between m-b-16\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'TVL'} fontSize={12} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <ToolTip toolTipText={``} />\n          </div>\n          <div>\n            {tvl.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  Numeral(getDisplayBalance(tvl.value, 18, 6)).format('0,0.000a') +\n                  ` ${troveDetail.depositToken.toUpperCase()}`\n                }\n                className={'m-b-4'}\n              />\n            )}\n            {usdTvl.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n            ) : (\n              <TextWrapper\n                text={`$${Numeral(getDisplayBalance(usdTvl.value, 18, 6)).format('0,0.000a')}`}\n                fontWeight={600}\n                Fcolor={theme.color.primary[300]}\n                align={'right'}\n              />\n            )}\n          </div>\n        </div>\n        {troveDetail.isDeprecated &&\n          <InfoTip type={\"Error\"} msg={\"This collateral is depreciated. Please use some of the other collaterals\"} className={\"m-b-12\"} />\n        }\n        {troveDetail.isDeprecated\n          ? <ActionButton\n            text={\"Deprecated\"}\n            onClick={onTroveClick}\n            disabled={true}\n          />\n          : <ActionButton\n            text={'Redeem'}\n            onClick={onTroveClick}\n            tracking_id={'select_redeem'}\n            tracking_params={{\n              collateral: troveDetail.trove,\n            }}\n          />\n        }\n      </UpperDiv>\n    </CustomGrid>\n  );\n};\n\nexport default MobileRowCard;\n\nconst CustomGrid = styled.div`\n  background: linear-gradient(180deg, #48423e 0%, #373030 100%);\n  border: 1px solid rgba(255, 255, 255, 0.16);\n  box-sizing: border-box;\n  border-radius: 12px;\n  margin-bottom: 16px;\n`;\n\nconst UpperDiv = styled.div`\n  padding: 32px;\n  border-bottom: 1px solid #ffffff29;\n  @media (max-width: 600px) {\n    padding: 24px;\n  }\n`;\n\nconst SymbolDiv = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 40px;\n`;\n","import React from 'react';\nimport { useMediaQuery } from 'react-responsive';\n\nimport useGetStabilityFeeAndToken from '../../../hooks/state/governance/useGetStabilityFee';\nimport useGetRedemptionFeeRateWithDecay from '../../../hooks/state/troveManager/useGetRedemptionFeeRateWithDecay';\nimport useGetCollateralWithGMUValue from '../../../hooks/state/useGetCollateralWithGMUValue';\nimport useGetTvlValueInUsd from '../../../hooks/state/useGetTvlValueInUsd';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\nimport DesktopRowCard from './DesktopRowCard';\nimport MobileRowCard from './MobileRowCard';\n\ntype Props = {\n  trove: string;\n};\n\nconst SingleTrove = ({ trove }: Props) => {\n  const isMobile = useMediaQuery({ maxWidth: '1280px' });\n  const chainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, chainId);\n\n  const redemptionFeeRate = useGetRedemptionFeeRateWithDecay(troveDetail.contractPrefix);\n  const stabiltyFee = useGetStabilityFeeAndToken(troveDetail.contractPrefix);\n  const tvl = useGetCollateralWithGMUValue(troveDetail.depositToken, troveDetail.contractPrefix);\n  const usdTvl = useGetTvlValueInUsd(troveDetail.depositToken, troveDetail.contractPrefix);\n\n  const onTroveClick = () => {\n    window.location.href = `/#/redeem/${trove}`;\n  };\n\n  return (\n    <div>\n      {/*{!isMobile ? ( art\n        <DesktopRowCard\n          trove={trove}\n          onTroveClick={onTroveClick}\n          redeemFee={redemptionFeeRate}\n          stabilityFee={stabiltyFee}\n          tvl={tvl}\n          usdTvl={usdTvl}\n        />\n      ) : (*/}\n        <MobileRowCard\n          trove={trove}\n          onTroveClick={onTroveClick}\n          redeemFee={redemptionFeeRate}\n          stabilityFee={stabiltyFee}\n          tvl={tvl}\n          usdTvl={usdTvl}\n        />\n      {/*)}*/}\n    </div>\n  );\n};\n\nexport default SingleTrove;\n","import React, { useMemo } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useCore from '../../../hooks/useCore';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\n\nimport SingleTrove from './SingleTrove';\nimport { useWallet } from \"use-wallet\";\n\nconst SelectRedeemTable = () => {\n  const isMobile = useMediaQuery({ maxWidth: '1280px' });\n  const activeChainId = useGetActiveChainId();\n  const {account} = useWallet();\n\n  const core = useCore();\n  const collateralTypes: string[] = useMemo(() => core.getAllTroves(activeChainId, account), [core, activeChainId, account]);\n\n  return (\n    <div className={'mo-custom-container'}>\n      <Grid container className=\"m-t-24\" spacing={2}>\n        {collateralTypes.map((collateral: string) => (\n          <Grid item lg={4} md={6} sm={12} xs={12}>\n            <SingleTrove trove={collateral} />\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  )\n\n /* return (\n    <DataContainer className={'material-primary'}>\n      {!isMobile && (\n        <Grid container style={{ padding: '0px 32px ', marginBottom: '16px' }}>\n          <Grid item lg={3}>\n            <CustomTableHeading>POOL</CustomTableHeading>\n          </Grid>\n          <Grid item lg={2}>\n            <CustomTableHeading>REDEEM FEE</CustomTableHeading>\n          </Grid>\n          <Grid item lg={2}>\n            <CustomTableHeading>MAHA FEE</CustomTableHeading>\n          </Grid>\n          <Grid item lg={2}>\n            <CustomTableHeading>TVL</CustomTableHeading>\n          </Grid>\n          <Grid item lg={2} />\n        </Grid>\n      )}\n      <div>\n        {collateralTypes.map((collateral: string) => (\n          <SingleTrove trove={collateral} />\n        ))}\n      </div>\n    </DataContainer>\n  );*/\n};\n\nexport default SelectRedeemTable;\n\nconst DataContainer = styled.div`\n  background: rgba(255, 255, 255, 0.02);\n  backdrop-filter: blur(70px);\n  border-radius: 6px;\n  padding: 24px 32px;\n  @media (max-width: 600px) {\n    background: transparent;\n    backdrop-filter: none;\n    border-radius: 6px;\n    padding: 32px 0;\n  }\n`;\n\nconst CustomTableHeading = styled.span`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 150%;\n  letter-spacing: 0.08em;\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.32);\n  opacity: 0.64;\n  text-align: left;\n  display: flex;\n  align-items: center;\n`;\n","import React from 'react';\n\nimport Container from '../../components/Container';\nimport PageHeader from '../../theme/components/PageHeader';\n\nimport SelectRedeemTable from './component/SelectRedeemTable';\nimport TextWrapper from \"../../theme/components/TextWrapper\";\nimport theme from \"../../theme\";\nimport IconLoader from \"../../theme/components/IconLoader\";\nimport { VfatLink } from \"../Farming\";\nimport StakedBanner from \"../../components/StakedBanner\";\n\nconst SelectRedeem = () => {\n  return (\n    <Container size=\"lg\">\n      <VfatLink onClick={() => window.location.href = '/#/farming'}>\n        <TextWrapper\n          text={'New'}\n          Fcolor={theme.color.primary[300]}\n          fontWeight={600}\n          className={'m-r-12'}\n        />\n        <TextWrapper text={'Farm $ARTH at more than 100% APR'} className={'m-r-12'} />\n        <IconLoader iconName={'ArrowTailRight'} iconType={'arrow'} />\n      </VfatLink>\n      <div className=\"m-b-40\">\n        <PageHeader\n          title={'REDEEM'}\n          subTitle={`Redeem ARTH for the underlying collateral. Choose the collateral against which you like to redeem ARTH`}\n          showLearnMore={true}\n          learnMoreLink={'https://docs.arthcoin.com/protocol/redeeming-arth'}\n        />\n      </div>\n      <StakedBanner />\n      <SelectRedeemTable />\n    </Container>\n  );\n};\n\nexport default SelectRedeem;\n","import React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\n\ninterface Iprops {\n  openModal: boolean;\n  onClose: () => void;\n  collateralPool: string;\n}\n\nconst ConfirmClaimModal = (props: Iprops) => {\n  const { openModal, onClose, collateralPool } = props;\n\n  return (\n    <>\n      <Modal\n        title={'Confirm Claim ARTH'}\n        open={openModal}\n        handleClose={() => onClose()}\n        closeButton\n      >\n        <div className=\"single-line-center-between\">\n          <TextWrapper\n            text={'Your total withdraw amount'}\n            fontWeight={600}\n            Fcolor={'#FFFFFF88'}\n          />\n          <div className=\"single-line-center-between\">\n            <TextWrapper text={'500.00'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n            </div>\n          </div>\n        </div>\n        <Grid container spacing={2} className=\"m-t-32\">\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              onClick={() => onClose()}\n              tracking_id={'claim_S_P'}\n              tracking_params={{ collateral: collateralPool, action: 'cancel' }}\n            >\n              Cancel\n            </Button>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              onClick={() => onClose()}\n              tracking_id={'claim_S_P'}\n              tracking_params={{ collateral: collateralPool, action: 'confirm' }}\n            >\n              Stake\n            </Button>\n          </Grid>\n        </Grid>\n      </Modal>\n    </>\n  );\n};\n\nexport default ConfirmClaimModal;\n","import { BigNumber } from 'ethers';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport CustomInputContainer from '../../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../../components/CustomInputContainer/RegexValidation';\nimport useStake from '../../../hooks/callbacks/stabilityPool/useStake';\nimport useApprove, { ApprovalState } from '../../../hooks/callbacks/useApprove';\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport theme from '../../../theme';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  openModal: boolean;\n  onClose: () => void;\n  trove: string;\n  unClaimedReward: { isLoading: boolean; value: BigNumber };\n}\n\nconst StakeArthModal = (props: Iprops) => {\n  const { openModal, onClose, trove, unClaimedReward } = props;\n\n  const [arthValue, setARTHValue] = useState<string>('0');\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n  const arthBalance = useTokenBalance(core.tokens('ARTH', chainId));\n  const troveDetail = troveDetails(trove, chainId);\n\n  const [arthApprovalStatus, approveARTH] = useApprove(\n    core.tokens('ARTH', chainId),\n    core.getController(troveDetail.contractPrefix, chainId)?.address || undefined,\n  );\n\n  const stake = useStake(troveDetail.contractPrefix, BigNumber.from(parseUnits(arthValue, 18)));\n\n  const handleClose = () => {\n    setARTHValue('0');\n    onClose();\n  };\n\n  const handleStake = () => {\n    stake(() => {\n      setARTHValue('0');\n      handleClose();\n    });\n  };\n\n  const isARTHApproved = useMemo(() => arthApprovalStatus === ApprovalState.APPROVED, [\n    arthApprovalStatus,\n  ]);\n  const isARTHApproving = useMemo(() => arthApprovalStatus === ApprovalState.PENDING, [\n    arthApprovalStatus,\n  ]);\n\n  const onValueChange = async (val: string) => {\n    if (val === '') {\n      setARTHValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setARTHValue(check ? val : String(Number(val)));\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Deposit ARTH'}\n        open={openModal}\n        handleClose={() => handleClose()}\n        closeButton\n      >\n        <CustomInputContainer\n          isBalanceLoading={arthBalance.isLoading}\n          IBalanceValue={getDisplayBalance(BigNumber.from(arthBalance.value), 18)}\n          ILabelValue={'How much ARTH would you like to Deposit?'}\n          showBalance={false}\n          DefaultValue={arthValue}\n          LogoSymbol={'ARTH'}\n          SymbolText={'ARTH'}\n          dontShowBackgroundContainer={true}\n          setText={(t) => onValueChange(t)}\n          inputMode={'decimal'}\n          tagText={'MAX'}\n          hasDropDown={false}\n          errorCallback={(flag: boolean) => {\n            setIsInputFieldError(flag);\n          }}\n        />\n        <div className=\"single-line-center-between m-t-4 m-b-32\">\n          <div />\n          <div className=\"single-line-center-between\">\n            <TextWrapper text={'Balance'} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags m-l-4\">\n              {arthBalance.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={`${Number(\n                    getDisplayBalance(arthBalance.value, 18, 3),\n                  ).toLocaleString()} ARTH`}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              )}\n              <TextWrapper text={''} fontSize={12} Fcolor={'#FFFFFF88'} />\n            </div>\n          </div>\n        </div>\n        {unClaimedReward.value.gt(0) && (\n          <div className=\"single-line-center-between m-t-12 m-b-12\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper\n                // toolTipText={`This amount is the ${collateralPool.toUpperCase()} earned from ${collateralPool.toUpperCase()} liquidation bonuses.`}\n                text={'Gain you will recieve'}\n                fontSize={12}\n              />\n            </div>\n            <div className=\"single-line-center-start\">\n              {unClaimedReward.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(unClaimedReward.value, 18, 3)).toLocaleString() +\n                    ' ' +\n                    troveDetail.depositToken.toUpperCase()\n                  }\n                  fontSize={12}\n                  Fcolor={theme.color.green[300]}\n                />\n              )}\n            </div>\n          </div>\n        )}\n        <Grid container spacing={2}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              onClick={() => handleClose()}\n              tracking_id={unClaimedReward.value.gt(0) ? `deposit&claim_S_P` : `deposit_S_P`}\n              tracking_params={{\n                collateral: troveDetail.trove,\n                action: 'cancel',\n                amount: Number(arthValue),\n              }}\n            >\n              Cancel\n            </Button>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            {!isARTHApproved && chainId !== 56 && chainId !== 97 ? (\n              <Button\n                loading={isARTHApproving}\n                disabled={isARTHApproved || isInputFieldError || !Number(arthValue)}\n                onClick={approveARTH}\n                tracking_id={`Approve_ARTH_deposit&claim_S_P`}\n                tracking_params={{ collateral: troveDetail.trove }}\n              >\n                Approve\n              </Button>\n            ) : (\n              <Button\n                disabled={isInputFieldError || !Number(arthValue)}\n                onClick={handleStake}\n                tracking_id={unClaimedReward.value.gt(0) ? `deposit&claim_S_P` : `deposit_S_P`}\n                tracking_params={{\n                  collateral: troveDetail.trove,\n                  action: 'confirm',\n                  amount: Number(arthValue),\n                }}\n              >\n                {unClaimedReward.value.gt(0) ? 'Deposit and Claim' : 'Deposit'}\n              </Button>\n            )}\n          </Grid>\n        </Grid>\n      </Modal>\n    </>\n  );\n};\n\nexport default StakeArthModal;\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\nimport * as Sentry from \"@sentry/react\";\n\nexport default function (contractPrefix: string, amount: BigNumber) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetActiveChainId();\n\n  return useCallback(\n    async (callback: () => void): Promise<void> => {\n      const contract = core.getStabilityPool(contractPrefix, activeChainId);\n\n      try {\n        const response = await contract.provideToSP(\n          amount,\n          core.config('frontEndAddress', activeChainId),\n        );\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            response,\n            contractPrefix,\n            amount,\n          });\n        }\n\n        addTransaction(response, {\n          summary: `Deposit ${Number(getDisplayBalance(amount, 18, 3)).toLocaleString()} ARTH`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          e,\n          contractPrefix,\n          amount,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e.stack,\n          },\n        });\n      }\n    },\n    [amount, addPopup, addTransaction, contractPrefix, core, activeChainId],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport CustomInputContainer from '../../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../../components/CustomInputContainer/RegexValidation';\nimport useWithdraw from '../../../hooks/callbacks/stabilityPool/useWithdraw';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport theme from '../../../theme';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTipip from '../../../theme/components/Tooltip';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  depositedStake: { isLoading: boolean; value: BigNumber };\n  openModal: boolean;\n  onClose: () => void;\n  trove: string;\n  unClaimedReward: { isLoading: boolean; value: BigNumber };\n}\n\nconst StakeArthModal = (props: Iprops) => {\n  const { openModal, onClose, trove, depositedStake, unClaimedReward } = props;\n\n  const [arthValue, setARTHValue] = useState<string>('0');\n  const chainId = useGetActiveChainId();\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n  const troveDetail = troveDetails(trove, chainId);\n\n  const withdraw = useWithdraw(\n    troveDetail.contractPrefix,\n    BigNumber.from(parseUnits(arthValue, 18)),\n  );\n\n  const handleClose = () => {\n    setARTHValue('0');\n    onClose();\n  };\n\n  const handleWithdraw = () => {\n    withdraw(() => {\n      setARTHValue('0');\n      handleClose();\n    });\n  };\n\n  const onValueChange = async (val: string) => {\n    if (val === '') {\n      setARTHValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setARTHValue(check ? val : String(Number(val)));\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Withdraw ARTH'}\n        open={openModal}\n        handleClose={() => handleClose()}\n        closeButton\n      >\n        <CustomInputContainer\n          isBalanceLoading={depositedStake.isLoading}\n          IBalanceValue={getDisplayBalance(BigNumber.from(depositedStake.value), 18)}\n          ILabelValue={'How much ARTH would you like to withdraw?'}\n          showBalance={false}\n          DefaultValue={arthValue}\n          LogoSymbol={'ARTH'}\n          SymbolText={'ARTH'}\n          dontShowBackgroundContainer={true}\n          setText={(t) => onValueChange(t)}\n          inputMode={'decimal'}\n          tagText={'MAX'}\n          hasDropDown={false}\n          errorCallback={(flag: boolean) => {\n            setIsInputFieldError(flag);\n          }}\n        />\n        <div className=\"single-line-center-between m-t-4 m-b-32\">\n          <div />\n          <div className=\"single-line-center-between\">\n            <TextWrapper text={'Staked ARTH Balance'} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags m-l-4\">\n              {depositedStake.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={`${Number(\n                    getDisplayBalance(depositedStake.value, 18, 3),\n                  ).toLocaleString()} ARTH`}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n        {unClaimedReward.value.gt(0) && (\n          <div className=\"single-line-center-between m-t-12 m-b-16\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Gain you will recieve'} fontSize={12} />\n              <ToolTipip\n                toolTipText={`This amount is the ${troveDetail.depositToken.toUpperCase()} earned from ${troveDetail.trove.toUpperCase()} liquidation bonuses.`}\n              />\n            </div>\n            <div className=\"single-line-center-start\">\n              {unClaimedReward.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(unClaimedReward.value, 18, 3)).toLocaleString() +\n                    ' ' +\n                    troveDetail.depositToken.toUpperCase()\n                  }\n                  fontSize={12}\n                  Fcolor={theme.color.green[300]}\n                />\n              )}\n            </div>\n          </div>\n        )}\n        <Grid container spacing={2}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              onClick={() => handleClose()}\n              tracking_id={unClaimedReward.value.gt(0) ? `withdraw&claim_S_P` : `withdraw_S_P`}\n              tracking_params={{\n                collateral: troveDetail.trove,\n                action: 'cancel',\n                amount: Number(arthValue),\n              }}\n            >\n              Cancel\n            </Button>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              disabled={isInputFieldError || !Number(arthValue)}\n              onClick={handleWithdraw}\n              tracking_id={unClaimedReward.value.gt(0) ? `withdraw&claim_S_P` : `withdraw_S_P`}\n              tracking_params={{\n                collateral: troveDetail.trove,\n                action: 'confirm',\n                amount: Number(arthValue),\n              }}\n            >\n              {unClaimedReward.value.gt(0) ? `Withdraw and Claim` : `Withdraw`}\n            </Button>\n          </Grid>\n        </Grid>\n      </Modal>\n    </>\n  );\n};\n\nexport default StakeArthModal;\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\nimport * as Sentry from \"@sentry/react\";\n\nexport default function (contractPrefix: string, amount: BigNumber) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n\n  return useCallback(\n    async (callback: () => void): Promise<void> => {\n      const contract = core.getStabilityPool(contractPrefix, chainId);\n\n      try {\n        const response = await contract.withdrawFromSP(amount);\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            response,\n            contractPrefix,\n            amount,\n          });\n        }\n\n        addTransaction(response, {\n          summary: `Withdraw ${Number(getDisplayBalance(amount, 18, 3)).toLocaleString()} ARTH`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          e,\n          contractPrefix,\n          amount,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e.stack,\n          },\n        });\n      }\n    },\n    [amount, addPopup, addTransaction, contractPrefix, core],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport Numeral from 'numeral';\nimport React from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextButton from '../../../theme/components/TextButton';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTip from '../../../theme/components/Tooltip';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport ActionButton from \"../../../theme/components/ActionButton\";\nimport useCore from \"../../../hooks/useCore\";\nimport { useWallet } from \"use-wallet\";\nimport theme from \"../../../theme\";\nimport DataField from \"../../../theme/components/DataField\";\nimport InfoTip from \"../../../theme/components/InfoTip\";\n\ninterface Iprops {\n  ethGain: { isLoading: boolean; value: BigNumber };\n  poolShare: { isLoading: boolean; value: BigNumber };\n  remainingETH: { isLoading: boolean; value: BigNumber };\n  poolDeposit: { isLoading: boolean; value: BigNumber };\n  depositedStake: { isLoading: boolean; value: BigNumber };\n  tvl: { isLoading: boolean; value: BigNumber };\n  trove: string;\n  onDeposit: () => void;\n  onWithdrawal: () => void;\n  onClaim: () => void;\n}\n\nconst MobileRowCard = (props: Iprops) => {\n  const {\n    onDeposit,\n    onWithdrawal,\n    trove,\n    poolShare,\n    tvl,\n    poolDeposit,\n    remainingETH,\n    depositedStake,\n    ethGain,\n  } = props;\n\n  const chainId = useGetActiveChainId();\n  const core = useCore();\n  const { account } = useWallet();\n\n  const troveDetail = troveDetails(trove, chainId);\n  const isUserWhiteListed = core.isUserWhiteListed(chainId, account);\n\n  console.log('isUserWhiteListed || troveDetail.isDeprecated', isUserWhiteListed || troveDetail.isDeprecated);\n\n  return (\n    <CustomGrid>\n      <UpperDiv>\n        <SymbolDiv>\n          <IconLoader\n            iconName={troveDetail.depositToken}\n            iconType={'tokenSymbol'}\n            width={44}\n            className=\"m-r-16\"\n          />\n          <TextWrapper text={troveDetail.displayName} fontWeight={600} />\n        </SymbolDiv>\n        <DataField\n          label={'Pool Share'}\n          isValueLoading={poolShare.isLoading}\n          value={`${poolShare.value.toString() + '%'}`}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={600}\n          className={'m-b-16'}\n        />\n        <DataField\n          label={'Pool Deposit'}\n          isValueLoading={poolDeposit.isLoading}\n          value={`${Numeral(getDisplayBalance(poolDeposit.value, 18, 3)).format('0,0.000a') + ' ARTH'}`}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={600}\n          className={'m-b-16'}\n        />\n        <DataField\n          label={'Remaining Rewards'}\n          labelToolTip={`This amount is the ${troveDetail.depositToken.toUpperCase()} earned from ${troveDetail.depositToken.toUpperCase()} liquidation bonuses.`}\n          isValueLoading={remainingETH.isLoading}\n          value={Numeral(getDisplayBalance(remainingETH.value, 18, 3)).format('0,0.000a') +\n            ' ' +\n            troveDetail.depositToken.toUpperCase()}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={600}\n          className={'m-b-16'}\n        />\n        <DataField\n          label={'TVL'}\n          labelToolTip={`This amount is the ${troveDetail.depositToken.toUpperCase()} earned from ${troveDetail.depositToken.toUpperCase()} liquidation bonuses.`}\n          isValueLoading={remainingETH.isLoading}\n          value={`${Numeral(getDisplayBalance(tvl.value, 18, 6)).format('0,0.000a')} ARTH`}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={600}\n          className={'m-b-16'}\n        />\n        <div className={'m-b-16'}>\n          <DataField\n            label={'Your Locked Stake'}\n            isValueLoading={depositedStake.isLoading}\n            value={Number(getDisplayBalance(depositedStake.value, 18, 3)).toLocaleString() +\n              ' ARTH'}\n            labelFontColor={theme.color.transparent[100]}\n            labelFontWeight={600}\n            className={'m-b-2'}\n          />\n          <div className={'single-line-center-end'}>\n            <TextButton\n              onClick={() =>\n                depositedStake.value.gt(0)\n                  ? onWithdrawal()\n                  : () => { }\n              }\n              text={'Withdraw'}\n              tracking_id={ethGain.value.gt(0) ? `withdraw&claim_S_P` : `withdraw_S_P`}\n              tracking_params={{\n                collateral: troveDetail.trove,\n                action: 'initial',\n                amount: Number(getDisplayBalance(depositedStake.value, 18, 3)),\n              }}\n              fontWeight={600}\n              disabled={depositedStake.value.lte(0)}\n            />\n          </div>\n        </div>\n        <DataField\n          label={'Unclaimed Rewards'}\n          isValueLoading={ethGain.isLoading}\n          value={\n            ' ' +\n            Number(getDisplayBalance(ethGain.value, 18, 3)).toLocaleString() +\n            ' ' +\n            troveDetail.depositToken.toUpperCase()}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={600}\n          className={'m-b-32'}\n        />\n        {troveDetail.isDeprecated &&\n          <InfoTip type={\"Error\"} msg={\"This collateral is depreciated. Please use some of the other collaterals\"} className={\"m-b-12\"} />\n        }\n        {troveDetail.isDeprecated\n          ? <ActionButton\n            text={\"Deprecated\"}\n            onClick={onDeposit}\n            disabled={true}\n          />\n          : <ActionButton\n            text={ethGain.value.gt(0) ? `Deposit & Claim` : `Deposit`}\n            onClick={onDeposit}\n            tracking_id={ethGain.value.gt(0) ? `deposit&claim_S_P` : `deposit_S_P`}\n            tracking_params={{\n              collateral: troveDetail.trove,\n              action: 'initial',\n            }}\n          />\n        }\n      </UpperDiv>\n      {/*{(depositedStake.value.gt(0) || ethGain.value.gt(0)) && (\n        <LowerDiv>\n          <div className=\"text-center\">\n            <div className=\"m-b-8 single-line-center-center\">\n              <TextWrapper text={' Your Locked stake:'} fontWeight={300} Fcolor={'#FFFFFF88'} />\n              &nbsp;\n              {depositedStake.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(depositedStake.value, 18, 3)).toLocaleString() +\n                    ' ARTH'\n                  }\n                  fontWeight={600}\n                />\n              )}\n            </div>\n            <div className=\"m-b-16 single-line-center-center\">\n              <TextButton\n                onClick={() => onWithdrawal()}\n                text={ethGain.value.gt(0) ? `Withdraw & Claim` : `Withdraw`}\n                tracking_id={ethGain.value.gt(0) ? `withdraw&claim_S_P` : `withdraw_S_P`}\n                tracking_params={{\n                  collateral: troveDetail.trove,\n                  action: 'initial',\n                  amount: Number(getDisplayBalance(depositedStake.value, 18, 3)),\n                }}\n                className={'m-l-12'}\n                fontWeight={600}\n              />\n            </div>\n            <div className=\"m-b-8 single-line-center-center\">\n              <TextWrapper text={'Unclaimed Rewards:'} fontWeight={300} Fcolor={'#FFFFFF88'} />\n              &nbsp;\n              {ethGain.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    ' ' +\n                    Number(getDisplayBalance(ethGain.value, 18, 3)).toLocaleString() +\n                    ' ' +\n                    troveDetail.depositToken.toUpperCase()\n                  }\n                  fontWeight={600}\n                />\n              )}\n            </div>\n          </div>\n        </LowerDiv>\n      )}*/}\n    </CustomGrid>\n  );\n};\n\nexport default MobileRowCard;\n\nconst CustomGrid = styled.div`\n  background: linear-gradient(180deg, #48423e 0%, #373030 100%);\n  border: 1px solid rgba(255, 255, 255, 0.16);\n  box-sizing: border-box;\n  border-radius: 12px;\n  margin-bottom: 16px;\n`;\n\nconst UpperDiv = styled.div`\n  padding: 32px;\n  border-bottom: 1px solid #ffffff29;\n  @media(max-width: 600px) {\n    padding: 24px;\n  }\n`;\n\nconst SymbolDiv = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 40px;\n`;\n\nconst LowerDiv = styled.div`\n  padding: 16px 32px 16px 32px;\n  @media(max-width: 600px) {\n    padding: 16px 24px 16px 24px;\n  }\n`;\n\nconst WithdrawClaimButton = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ff7f57;\n  margin: 0 0 0 10px;\n  cursor: pointer;\n`;\n","import React, { useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\n\nimport useETHGain from '../../../hooks/state/stabilityPool/useETHGain';\nimport useGetDepositedAmount from '../../../hooks/state/stabilityPool/useGetDepositedAmount';\nimport useGetPoolDeposit from '../../../hooks/state/stabilityPool/useGetPoolDeposit';\nimport useGetPoolShare from '../../../hooks/state/stabilityPool/useGetPoolShare';\nimport useGetRemainingETHGain from '../../../hooks/state/stabilityPool/useGetRemainingETHGain';\nimport useGetTvlInARTH from '../../../hooks/state/useGetTvlInARTH';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport ConfirmClaimModal from '../modal/ConfirmClaimModal';\nimport StakeArthModal from '../modal/StakeArthModal';\nimport WithdrawARTHModal from '../modal/WithdrawARTHModal';\n\nimport DesktopRowCard from './DesktopRowCard';\nimport MobileRowCard from './MobileRowCard';\n\ntype Props = {\n  trove: string;\n};\n\nconst SinglePool = ({ trove }: Props) => {\n  const [openStakeModal, setOpenStakeModal] = useState<boolean>(false);\n  const [openConfirmClaimModal, setOpenConfirmClaimModal] = useState<boolean>(false);\n  const [openConfirmWithdrawModal, setOpenConfirmWithdrawModal] = useState<boolean>(false);\n\n  const isMobile = useMediaQuery({ maxWidth: '1280px' });\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const ethGain = useETHGain(trove);\n  const poolShare = useGetPoolShare(trove);\n  const remainingETH = useGetRemainingETHGain(trove);\n  const poolDeposit = useGetPoolDeposit(trove);\n  const depositedStake = useGetDepositedAmount(trove);\n  const arthTvl = useGetTvlInARTH(troveDetail.contractPrefix);\n\n  return (\n    <div>\n      {/* {!isMobile ? (\n        <DesktopRowCard\n          ethGain={ethGain}\n          poolShare={poolShare}\n          remainingETH={remainingETH}\n          depositedStake={depositedStake}\n          tvl={arthTvl}\n          trove={trove}\n          onDeposit={() => setOpenStakeModal(true)}\n          onWithdrawal={() => setOpenConfirmWithdrawModal(true)}\n          onClaim={() => setOpenConfirmClaimModal(true)}\n        />\n      ) : (*/}\n      <MobileRowCard\n        ethGain={ethGain}\n        poolShare={poolShare}\n        remainingETH={remainingETH}\n        trove={trove}\n        poolDeposit={poolDeposit}\n        depositedStake={depositedStake}\n        tvl={arthTvl}\n        onDeposit={() => setOpenStakeModal(true)}\n        onWithdrawal={() => setOpenConfirmWithdrawModal(true)}\n        onClaim={() => setOpenConfirmClaimModal(true)}\n      />\n      {/*)}*/}\n      <StakeArthModal\n        unClaimedReward={ethGain}\n        trove={trove}\n        openModal={openStakeModal}\n        onClose={() => setOpenStakeModal(false)}\n      />\n      <WithdrawARTHModal\n        unClaimedReward={ethGain}\n        depositedStake={depositedStake}\n        trove={trove}\n        openModal={openConfirmWithdrawModal}\n        onClose={() => setOpenConfirmWithdrawModal(false)}\n      />\n      <ConfirmClaimModal\n        openModal={openConfirmClaimModal}\n        collateralPool={trove}\n        onClose={() => setOpenConfirmClaimModal(false)}\n      />\n    </div>\n  );\n};\n\nexport default SinglePool;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.getDepositorETHGain(account);\n    setValue({ isLoading: false, value: value });\n  }, [account, core, contractPrefix]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => {\n        console.error(`Failed to fetch getDepositorETHGain() for ${contractPrefix}: ${err}`);\n      });\n    }\n  }, [core.isUnlocked, account, core.myAccount, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.totalLUSDDeposits();\n    if (value.lte(0)) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const currentDeposit = await contract.getCompoundedLUSDDeposit(core.myAccount);\n    setValue({ isLoading: false, value: currentDeposit.mul(100).div(value) });\n  }, [account, core, contractPrefix, chainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(\n          `Failed to fetch getCompoundedLUSDDeposit() for ${contractPrefix}: ${err}`,\n        ),\n      );\n    }\n  }, [core.isUnlocked, core.myAccount, account, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.getETH();\n    setValue({ isLoading: false, value: value });\n  }, [account, core, contractPrefix]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch getETH() for ${contractPrefix}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.totalLUSDDeposits();\n\n    setValue({ isLoading: false, value });\n  }, [account, core, contractPrefix, chainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(\n          `Failed to fetch getCompoundedLUSDDeposit() for ${contractPrefix}: ${err}`,\n        ),\n      );\n    }\n  }, [core.isUnlocked, core.myAccount, account, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.getCompoundedLUSDDeposit(core.myAccount);\n    setValue({ isLoading: false, value: value });\n  }, [account, core, contractPrefix]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(\n          `Failed to fetch getCompoundedLUSDDeposit() for ${contractPrefix}: ${err}`,\n        ),\n      );\n    }\n  }, [core.isUnlocked, account, core.myAccount, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport { LOADING_DEFAULT_BASIC_STATE } from '../../utils/constants';\nimport { BasicState } from '../../utils/interface';\nimport useCore from '../useCore';\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<BasicState>(LOADING_DEFAULT_BASIC_STATE);\n\n  const core = useCore();\n  const { account } = useWallet();\n  const activeChainId = useGetActiveChainId();\n\n  const contract = core.getStabilityPool(contractPrefix, activeChainId);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const response = await contract.totalLUSDDeposits();\n\n    setValue({\n      isLoading: false,\n      value: response,\n    });\n  }, [account, contract]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch tvl in (arth) %: ${err}`));\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import React, { useMemo } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useCore from '../../../hooks/useCore';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport ToolTip from '../../../theme/components/Tooltip';\n\nimport SinglePool from './SinglePool';\nimport { useWallet } from \"use-wallet\";\nimport SingleTrove from \"../../SelectLoan/component/SingleTrove\";\n\nconst StablizeTable = () => {\n  const isMobile = useMediaQuery({ maxWidth: '1280px' });\n  const activeChainId = useGetActiveChainId();\n  const {account} = useWallet();\n\n  const core = useCore();\n  const collateralTypes: string[] = useMemo(() => core.getAllTroves(activeChainId, account), [core, activeChainId, account]);\n\n  return(\n    <div className={'mo-custom-container'}>\n      <Grid container className=\"m-t-24\" spacing={2}>\n        {collateralTypes.map((collateral: string) => (\n          <Grid item lg={4} md={6} sm={12} xs={12} key={collateral}>\n            <SinglePool key={collateral} trove={collateral} />\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  )\n\n  /*return (\n    <DataContainer className={'material-primary'}>\n      {!isMobile && (\n        <Grid container style={{ padding: '0px 32px ', marginBottom: '16px' }}>\n          <Grid item lg={3}>\n            <CustomTableHeading>POOL REWARD</CustomTableHeading>\n          </Grid>\n          <Grid item lg={2}>\n            <CustomTableHeading>POOL SHARE</CustomTableHeading>\n          </Grid>\n          <Grid item lg={3}>\n            <CustomTableHeading>\n              REMAINING REWARD\n              <ToolTip\n                toolTipText={\n                  'Total unclaimed rewards for all the depositors in the stability pool.'\n                }\n              />\n            </CustomTableHeading>\n          </Grid>\n          <Grid item lg={2}>\n            <CustomTableHeading>TVL</CustomTableHeading>\n          </Grid>\n          <Grid item lg={2} />\n        </Grid>\n      )}\n      <div>\n        {collateralTypes.map((collateral: string) => (\n          <SinglePool key={collateral} trove={collateral} />\n        ))}\n      </div>\n    </DataContainer>\n  );*/\n};\n\nexport default StablizeTable;\n\nconst DataContainer = styled.div`\n  background: rgba(255, 255, 255, 0.02);\n  backdrop-filter: blur(70px);\n  border-radius: 6px;\n  padding: 24px 32px;\n  @media (max-width: 600px) {\n    background: transparent;\n    backdrop-filter: none;\n    border-radius: 6px;\n    padding: 32px 0;\n  }\n`;\n\nconst CustomTableHeading = styled.span`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 150%;\n  letter-spacing: 0.08em;\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.32);\n  opacity: 0.64;\n  text-align: left;\n  display: flex;\n  align-items: center;\n`;\n","import React from 'react';\n\nimport Container from '../../components/Container';\nimport PageHeader from '../../theme/components/PageHeader';\n\nimport StablizeTable from './component/StablizeTable';\nimport TextWrapper from \"../../theme/components/TextWrapper\";\nimport theme from \"../../theme\";\nimport IconLoader from \"../../theme/components/IconLoader\";\nimport { VfatLink } from \"../Farming\";\nimport StakedBanner from \"../../components/StakedBanner\";\n\nconst StabilityPool = () => {\n  return (\n    <>\n      <Container size=\"lg\">\n        <VfatLink onClick={() => window.location.href = '/#/farming'}>\n          <TextWrapper\n            text={'New'}\n            Fcolor={theme.color.primary[300]}\n            fontWeight={600}\n            className={'m-r-12'}\n          />\n          <TextWrapper text={'Farm $ARTH at more than 100% APR'} className={'m-r-12'} />\n          <IconLoader iconName={'ArrowTailRight'} iconType={'arrow'} />\n        </VfatLink>\n        <PageHeader\n          title={'STABILITY POOL'}\n          subTitle={'Deposit ARTH into a stability pool and earn rewards from liquidations'}\n          showLearnMore={true}\n          learnMoreLink={'https://docs.arthcoin.com/protocol/stability-pool'}\n        />\n        <StakedBanner />\n        <StablizeTable />\n      </Container>\n    </>\n  );\n};\n\nexport default StabilityPool;\n","import React, { useState } from \"react\";\n\nimport Grid from '@material-ui/core/Grid';\n\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { IModalProps } from \"../../../utils/interface\";\nimport { StrategiesStaticInfo } from \"../../../protocol/config\";\nimport useCloseStrategy from \"../../../hooks/callbacks/strategies/useCloseStrategy\";\nimport DataField from \"../../../theme/components/DataField\";\nimport theme from \"../../../theme\";\nimport useIsStrategyApproved from \"../../../hooks/state/strategies/useIsStrategyApproved\";\nimport useApproveStrategy from \"../../../hooks/callbacks/strategies/useApproveStrategy\";\nimport TextWrapper from \"../../../theme/components/TextWrapper\";\n\ninterface IProps {\n  trove: any;\n  strategy: StrategiesStaticInfo;\n}\n\nconst ConfirmCloseModal = (props: IModalProps & IProps) => {\n  const { onClose, open, strategy, trove } = props;\n\n  const [closingStrategy, setClosingStartegy] = useState<boolean>(false);\n  const closeStrategy = useCloseStrategy(strategy);\n\n  const OnCloseStrategy = () => {\n    setClosingStartegy(true)\n    closeStrategy(\n      () => {\n        window.location.href = '/#/strategies/all-strategies';\n        setClosingStartegy(false)\n      },\n      () => {\n        setClosingStartegy(false);\n      }\n    )\n  }\n\n  const [isApprovingStrategy, setIsApprovingStrategy] = useState<boolean>(false);\n  const strategyApprovalStatus = useIsStrategyApproved(props.strategy);\n  const approveStrategy = useApproveStrategy(props.strategy)\n  const onApproveStrategy = () => approveStrategy(\n    () => setIsApprovingStrategy(false),\n    () => { },\n  );\n\n  return (\n    <Modal\n      title={'Confirm Close Loan'}\n      open={open}\n      handleClose={onClose}\n      closeButton\n    >\n      <div>\n        <div className={'m-b-32'}>\n          <div className={'single-line-start-between m-b-8'}>\n            {/* <TextWrapper\n              text={'You will receive'}\n              fontWeight={600}\n              Fcolor={theme.color.transparent[200]}\n            />\n            <div>\n              {strategy.borrowTokens.map((item) => {\n                return (\n                  <TextWrapper\n                    text={1000 + ` ${item}`}\n                    fontWeight={600}\n                    Fcolor={theme.color.transparent[100]}\n                    className={'m-b-4'}\n                    align={'right'}\n                  />\n                )\n              })}\n            </div> */}\n          </div>\n          {/*<DataField\n            label={'Collateral Ratio'}\n            value={'123'}\n            labelFontColor={theme.color.transparent[100]}\n            labelFontWeight={'bold'}\n            className={'m-b-16'}\n          />\n          <DataField\n            label={'Collateral Ratio'}\n            value={'123'}\n            labelFontColor={theme.color.transparent[100]}\n            labelFontWeight={'bold'}\n            className={'m-b-16'}\n          />\n          <DataField\n            label={'Collateral Ratio'}\n            value={'123'}\n            labelFontColor={theme.color.transparent[100]}\n            labelFontWeight={'bold'}\n            className={'m-b-16'}\n          />*/}\n        </div>\n        <Grid container spacing={2} direction={\"row\"}>\n          <Grid item sm={12} xs={12}>\n            <Button\n              variant={\"default\"}\n              onClick={() => {\n                setIsApprovingStrategy(true);\n                onApproveStrategy();\n              }}\n              disabled={strategyApprovalStatus.isApproved || strategyApprovalStatus.isLoading || isApprovingStrategy}\n              loading={isApprovingStrategy}\n            >\n              {strategyApprovalStatus.isApproved ? 'Strategy Approved' : 'Approve Strategy'}\n            </Button>\n          </Grid>\n        </Grid>\n        <Grid container spacing={2}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              onClick={() => onClose()}\n              tracking_id=\"close_loan\"\n              tracking_params={{\n                collateral: strategy.trove,\n                action: 'cancel',\n                amount: Number(getDisplayBalance(trove.coll, 18, 3)),\n                other: {\n                  debt: Number(getDisplayBalance(trove.debt, 18, 3)),\n                },\n              }}\n            >\n              Cancel\n            </Button>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              disabled={!strategyApprovalStatus.isApproved || strategyApprovalStatus.isLoading}\n              loading={closingStrategy}\n              onClick={OnCloseStrategy}\n              tracking_id=\"close_loan\"\n              tracking_params={{\n                collateral: strategy.trove,\n                action: 'confirm',\n                amount: Number(getDisplayBalance(trove.coll, 18, 3)),\n                other: {\n                  debt: Number(getDisplayBalance(trove.debt, 18, 3)),\n                },\n              }}\n            >\n              Confirm Close Loan\n            </Button>\n          </Grid>\n        </Grid>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ConfirmCloseModal;\n","import { useCallback, useMemo } from 'react';\n\nimport { StrategiesStaticInfo } from '../../../protocol/config';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\nimport * as Sentry from \"@sentry/react\";\n\nexport default function (strategy: StrategiesStaticInfo) {\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n\n  const strategyContract = useMemo(() => core.contracts(strategy.contract, activeChainId), [\n    activeChainId,\n    core,\n    strategy.contract,\n  ]);\n\n  return useCallback(\n    async (onSuccess?: () => void, errorHandler?: () => void): Promise<void> => {\n      try {\n        const contract = strategyContract.connect(core.signer());\n\n        const tx = await contract.closePosition(['0', '0']);\n\n        addTransaction(tx, {\n          summary: `Leverage position closed for ${strategy.displayName} strategy`,\n        });\n\n        const response = await tx.wait();\n\n        if (errorHandler && response.status !== 1) {\n          Sentry.captureException({\n            response,\n            ...strategy,\n          });\n          errorHandler();\n        }\n        if (onSuccess && response.status === 1) onSuccess();\n      } catch (e) {\n        Sentry.captureException({\n          e,\n          ...strategy,\n        });\n        if (errorHandler) errorHandler();\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [strategyContract, core, strategy.displayName, addTransaction, addPopup],\n  );\n}\n","import React, { useMemo, useState } from \"react\";\nimport styled from 'styled-components';\n\nimport { StrategiesStaticInfo } from '../../../protocol/config';\nimport useCore from '../../../hooks/useCore';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\n\nimport theme from '../../../theme';\nimport DataField from '../../../theme/components/DataField';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextButton from '../../../theme/components/TextButton';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { getDisplayBalance } from \"../../../utils/formatBalance\";\nimport ConfirmCloseModal from \"../modal/CloseLoan\";\nimport useStrategyEarnings from \"../../../hooks/state/strategies/useStrategyEarnings\";\nimport useStrategyExposure from \"../../../hooks/state/strategies/useStrategyExposure\";\nimport Numeral from \"numeral\";\nimport useGetTotalCollateralRatio from \"../../../hooks/state/troveManager/useGetTotalCollateralRatio\";\n\ninterface IProps {\n  trove: any;\n  strategy: StrategiesStaticInfo;\n}\n\nconst MobilePositionCard = (props: IProps) => {\n  const { strategy, trove } = props;\n  const [confirmCloseModal, setConfirmCloseModal] = useState<boolean>(false);\n\n  const core = useCore()\n  const chainId = useGetActiveChainId();\n  const rewards = useStrategyEarnings(strategy)\n  const positions = useStrategyExposure(strategy, trove.deposit);\n  const totalCollteralRatio = useGetTotalCollateralRatio(strategy.trove);\n\n  const leverage = useMemo(() => {\n    const collateralRatio = trove.collateralRatio.toNumber()\n    return Math.floor((collateralRatio / (collateralRatio - 100)) * 1000)\n  }, [trove.collateralRatio])\n\n  const principalAmount = useMemo(() => {\n    const totalInPrincipal = positions.value[0].add(positions.value[1])\n    return totalInPrincipal.div(leverage).mul(1000)\n  }, [leverage, positions.value])\n\n  const depositTokens = useMemo(() => {\n    return strategy.depositTokens.map(d => core.tokens(d, chainId))\n  }, [chainId, core, strategy.depositTokens])\n\n  const borrowTokens = useMemo(() => {\n    return strategy.borrowTokens.map(d => core.tokens(d, chainId))\n  }, [chainId, core, strategy.borrowTokens])\n\n  const rewardToken = useMemo(() => {\n    return core.tokens(strategy.rewardToken, chainId)\n  }, [chainId, core, strategy.rewardToken])\n\n  return (\n    <Card className={'material-secondary'}>\n      <ConfirmCloseModal\n        open={confirmCloseModal}\n        onClose={() => setConfirmCloseModal(false)}\n        trove={trove}\n        strategy={strategy}\n      />\n      <PlatformIcon>\n        <IconLoader iconName={strategy.platform} iconType={'exchangePlatform'} width={32} />\n      </PlatformIcon>\n      <div className={'m-b-24'}>\n        <div className={'single-line-center-center m-b-12'}>\n          <ImgCon>\n            <IconLoader\n              iconName={props.strategy.trove}\n              iconType={'tokenSymbol'}\n              height={98}\n              width={98}\n            />\n          </ImgCon>\n        </div>\n        <TextWrapper\n          text={props.strategy.trove}\n          fontSize={24}\n          fontFamily={'Syne'}\n          align={'center'}\n          fontWeight={600}\n        />\n      </div>\n      <DataField\n        label={'Debt'}\n        isValueLoading={trove.isLoading}\n        value={`${Number(\n          getDisplayBalance(trove.debt, 18, 3),\n        ).toLocaleString()} ${'ARTH'}`}\n        labelFontColor={theme.color.transparent[100]}\n        labelFontWeight={'bold'}\n        className={'m-b-16'}\n      />\n      <div className={'single-line-start-between m-b-16'}>\n        <TextWrapper\n          text={'Principal Collateral'}\n          fontWeight={600}\n          Fcolor={theme.color.transparent[100]}\n        />\n        <div>\n          {depositTokens.map((item) => {\n            return (\n              <TextWrapper\n                text={`${getDisplayBalance(principalAmount, item.decimal, 3)} ${item.symbol}`}\n                className={'m-b-4'}\n                align={'right'}\n              />\n            )\n          })}\n        </div>\n      </div>\n      <div className={'single-line-start-between m-b-16'}>\n        <TextWrapper\n          text={'Leverage'}\n          fontWeight={600}\n          Fcolor={theme.color.transparent[100]}\n        />\n        <div>\n          <TextWrapper\n            text={`${(leverage / 1000).toFixed(2)}x`}\n            className={'m-b-4'}\n            align={'right'}\n          />\n        </div>\n      </div>\n      <div className={'single-line-start-between m-b-16'}>\n        <TextWrapper\n          text={'Exposure'}\n          fontWeight={600}\n          Fcolor={theme.color.transparent[100]}\n        />\n        <div>\n          {borrowTokens.map((item, index) => {\n            return (\n              <TextWrapper\n                text={`${getDisplayBalance(positions.value[index], item.decimal, 3)} ${item.symbol}`}\n                className={'m-b-4'}\n                align={'right'}\n              />\n            )\n          })}\n        </div>\n      </div>\n      <DataField\n        label={'Your Collateral Ratio'}\n        value={`${Number(trove.collateralRatio.toNumber()).toLocaleString()}%`}\n        labelFontColor={theme.color.transparent[100]}\n        valueFontColor={theme.color.green[300]}\n        labelFontWeight={'bold'}\n        className={'m-b-16'}\n      />\n      <DataField\n        label={'Total Collateral Ratio'}\n        value={`${Numeral(getDisplayBalance(totalCollteralRatio.value, 18, 6)).format(\n          '0,0.000%',\n        )}`}\n        labelFontColor={theme.color.transparent[100]}\n        labelFontWeight={'bold'}\n        className={'m-b-16'}\n      />\n      <DataField\n        label={'Reward'}\n        isValueLoading={rewards.isLoading}\n        value={`${Number(getDisplayBalance(rewards.value, 18, 3))} ${strategy.rewardToken}`}\n        labelFontColor={theme.color.transparent[100]}\n        valueFontColor={theme.color.primary[300]}\n        labelFontWeight={'bold'}\n        className={'m-b-16'}\n      />\n      <div className={'m-t-32 single-line-center-center'}>\n        <TextButton\n          onClick={() => setConfirmCloseModal(true)}\n          text={'Close Position & Claim Rewards'}\n          tracking_id=\"close_loan\"\n          tracking_params={{\n            collateral: strategy.trove,\n            action: 'initial',\n            amount: Number(getDisplayBalance(trove.coll, 18, 3)),\n            other: {\n              debt: Number(getDisplayBalance(trove.debt, 18, 3)),\n            },\n          }}\n        />\n      </div>\n    </Card>\n  );\n};\n\nexport default MobilePositionCard;\n\nconst Card = styled.div`\n  padding: 32px;\n  border-radius: 12px;\n  height: 100%;\n  position: relative;\n  @media(max-width: 600px) {\n    padding: 32px 24px;\n  }\n`;\n\nconst ImgCon = styled.div`\n  //width: 98px;\n  //height: 98px;\n  //box-shadow: 2px 2px 20px #2A2827;\n  //border-radius: 50%;\n  position: relative;\n`;\n\nconst PlatformIcon = styled.div`\n  position: absolute;\n  top: -16px;\n  left: 50%;\n  transform: translate(-50%, 0);\n`\n","import React, { useMemo, useState } from 'react';\nimport Loader from 'react-spinners/PulseLoader';\n\nimport config from '../../../config';\nimport useCreateDSProxy from '../../../hooks/callbacks/useCreateDSProxy';\nimport useGetLeverageAccount from '../../../hooks/state/useGetLeverageAccount';\nimport { ZERO_ADDRESS } from '../../../protocol/constants';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { IModalProps } from '../../../utils/interface';\nimport InfoTip from \"../../../theme/components/InfoTip\";\n\ninterface IProps {\n  onSuccess: () => void;\n}\n\nenum DSProxyBuildTxState {\n  NOT_COMPLETED,\n  PENDING,\n  COMPLETED,\n}\n\nconst SignModal = (props: IModalProps & IProps) => {\n  const [dsProxyBuildTxState, setDSProxyBuildTxState] = useState<DSProxyBuildTxState>(\n    DSProxyBuildTxState.NOT_COMPLETED,\n  );\n\n  const { open, onClose, onSuccess } = props;\n  const chainId = useGetActiveChainId();\n\n  const leverageAccount = useGetLeverageAccount();\n\n  const createDSProxyAction = useCreateDSProxy();\n\n  const onSuccessCB = () => {\n    setDSProxyBuildTxState(DSProxyBuildTxState.COMPLETED);\n    onSuccess();\n  };\n\n  const onCreateDSProxy = () => {\n    setDSProxyBuildTxState(DSProxyBuildTxState.PENDING);\n    createDSProxyAction(onSuccessCB, () =>\n      setDSProxyBuildTxState(DSProxyBuildTxState.NOT_COMPLETED),\n    );\n  };\n\n  const etherscanUrl = useMemo(() => {\n    return `${config[chainId].etherscanUrl}/address/${leverageAccount.value}`;\n  }, [chainId, leverageAccount]);\n\n  const FetchingDetails = () => {\n    return (\n      <TextWrapper\n        text={\n          <div>\n            Fetching your details please hold on\n            <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n          </div>\n        }\n        align={'center'}\n      />\n    );\n  };\n\n  return (\n    <Modal\n      closeButton\n      open={open}\n      handleClose={onClose}\n      title={\n        leverageAccount.value === ZERO_ADDRESS\n          ? 'Create a Strategy Account'\n          : 'Continue with Strategy'\n      }\n    >\n      {leverageAccount.isLoading ? (\n        <FetchingDetails />\n      ) : (\n        <div>\n          <TextWrapper\n            text={\n              leverageAccount.value === ZERO_ADDRESS && !leverageAccount.isLoading ? (\n                \"To use the various leverage strategies, we'll need you to create a leverage account. \" +\n                'Click on the button below to create a leverage account.'\n              ) : (\n                <div>\n                  You have a leverage account controlled by you.\n                  <br />\n                  <br />\n                  <div style={{ textAlign: 'center' }}>\n                    <a\n                      href={etherscanUrl}\n                      rel=\"noopener noreferrer\"\n                      target=\"_blank\"\n                      className={'links'}\n                    >\n                      {leverageAccount.value}\n                    </a>\n                  </div>\n                  <br />\n                  All leveraged positions will now be made using this account. Please make sure\n                  you have understood about all the{' '}\n                  <a\n                    href=\"https://docs.arthcoin.com/protocol/risks-and-security\"\n                    className={'links'}\n                  >\n                    risks\n                  </a>{' '}\n                  and that you have read and understood the documentation on{' '}\n                  <a\n                    href=\"https://docs.arthcoin.com/tutorials/leverage-strategies\"\n                    className={'links'}\n                  >\n                    how leverage works\n                  </a>\n                  .\n                  <br />\n                  <br />\n                  Do not invest more than what you are willing to lose and you acknowledge that\n                  you will take responsibility for any losses.\n                </div>\n              )\n            }\n          />\n        </div>\n      )}\n      <div className={'m-t-24'}>\n        <InfoTip\n          type={'Error'}\n          msg={'Please be aware that this feature is currently experimental and there is a risk you could lose all your funds. Only invest funds that you can afford to lose.'}\n        />\n      </div>\n      <div className={'m-t-32'}>\n        <Button\n          loading={\n            leverageAccount.isLoading || dsProxyBuildTxState === DSProxyBuildTxState.PENDING\n          }\n          disabled={\n            dsProxyBuildTxState === DSProxyBuildTxState.PENDING ||\n            dsProxyBuildTxState === DSProxyBuildTxState.COMPLETED\n          }\n          text={\n            leverageAccount.value === ZERO_ADDRESS\n              ? 'Create a leverage account'\n              : \"Yes I understand. Let's Continue!\"\n          }\n          onClick={leverageAccount.value === ZERO_ADDRESS ? onCreateDSProxy : onSuccess}\n          tracking_id={leverageAccount.value === ZERO_ADDRESS\n            ? 'create_account'\n            : 'continue_open_position'}\n          tracking_params={{ action: 'confirm' }}\n        />\n      </div>\n    </Modal>\n  );\n};\n\nexport default SignModal;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { FarmingConfigurations, StrategiesStaticInfo } from '../../../protocol/config';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (strategy: StrategiesStaticInfo) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const chainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.contracts(strategy.contract, chainId);\n    const balance: BigNumber = await contract.rewardsEarned(account);\n\n    setValue({ isLoading: false, value: balance });\n  }, [account, core, strategy.contract, chainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => {\n        setValue({ isLoading: false, value: BigNumber.from(0) });\n        console.error(`Failed to fetch strategy earnings: ${err}`)\n      });\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { FarmingConfigurations, StrategiesStaticInfo } from '../../../protocol/config';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: [BigNumber, BigNumber];\n};\n\nexport default (strategy: StrategiesStaticInfo, collat: BigNumber) => {\n  const [value, setValue] = useState<State>({\n    isLoading: true,\n    value: [BigNumber.from(0), BigNumber.from(0)],\n  });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const chainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: [BigNumber.from(0), BigNumber.from(0)] });\n      return;\n    }\n\n    const contract = core.contracts(strategy.contract, chainId);\n    const value: [BigNumber, BigNumber] = await contract.underlyingCollateralFromBalance(\n      collat,\n    );\n\n    setValue({ isLoading: false, value });\n  }, [account, core, strategy.contract, chainId, collat]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch strategy exposure: ${err}`));\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import React from 'react';\n\nimport DataPointsInfo from './components/DataPointsInfo';\nimport PositionTable from './components/PositionTable';\nimport MobilePositionCard from \"./components/MobilePositionCard\";\nimport { useGetActiveChainId } from \"../../state/chains/hooks\";\nimport useCore from \"../../hooks/useCore\";\nimport { useMediaQuery } from \"react-responsive\";\nimport useGetLeverageTrove from \"../../hooks/state/troveManager/useGetLeverageTrove\";\nimport LoadingPage from \"../../components/LoadingPage\";\nimport TextWrapper from \"../../theme/components/TextWrapper\";\nimport { Grid } from \"@material-ui/core\";\nimport { useWallet } from \"use-wallet\";\n\nconst YourPosition = () => {\n  const activeChainId = useGetActiveChainId();\n  const core = useCore();\n  const {account} = useWallet();\n  const strategies = core.getAllStrategies(activeChainId);\n  const isMobile = useMediaQuery({ maxWidth: '600px' });\n\n  const trove = useGetLeverageTrove(false);\n\n  if (trove.isLoading) {\n    return (\n      <div style={{ position: 'relative', height: '150px' }}>\n        <LoadingPage />\n      </div>\n    );\n  }\n\n  if (trove.value.length <= 0) {\n    return (\n      <div className=\"m-t-40 m-b-40 material-primary\">\n        <TextWrapper\n          text={'You dont have any positions open'}\n          fontSize={24}\n          fontWeight={'bold'}\n          className=\"m-b-8\"\n          align=\"center\"\n        />\n        <TextWrapper\n          text={'Open a leveraged position on a farm by interacting with one of the strategies'}\n          fontSize={18}\n          className=\"m-b-8\"\n          Fcolor={'#FFFFFF64'}\n          align={'center'}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className={'mo-custom-container'}>\n      <Grid container spacing={2}>\n        {trove.value.map((trove) => {\n          return (\n            <Grid item lg={4} md={6} sm={12} xs={12}>\n              <MobilePositionCard\n                strategy={strategies.find(s => s.trove === trove.token)}\n                trove={trove}\n                key={trove.token}\n              />\n            </Grid>\n          );\n        })}\n      </Grid>\n    </div>\n  );\n};\n\nexport default YourPosition;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport useCore from '../../useCore';\nimport useGetLeverageAccount from '../useGetLeverageAccount';\nimport { useWallet } from \"use-wallet\";\n\nexport type LeverageTroveState = {\n  isLoading: boolean;\n  value: Array<any>;\n};\n\nexport default (doRefresh: boolean) => {\n  const [value, setValue] = useState<LeverageTroveState>({ isLoading: true, value: [] });\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const {account} = useWallet();\n\n  const leverageAccount = useGetLeverageAccount();\n  const fetchValue = useCallback(async () => {\n    if (!leverageAccount.value && !leverageAccount.isLoading) {\n      setValue({ isLoading: false, value: [] });\n      return;\n    }\n\n    const collaterals = core.getAllTroves(activeChainId);\n\n    const finalTroves = [];\n    for (let i = 0; i < collaterals.length; i++) {\n      const collateral = collaterals[i];\n\n      const troveContract = core.getTroveManager(collateral, activeChainId);\n      const trove = await troveContract.Troves(leverageAccount.value);\n      if (trove.coll.lte(0) && trove.debt.lte(0) && trove.status !== 1) continue;\n\n      const collateralPriceFeedContract = core.getPriceFeed(collateral, activeChainId);\n      const collateralPrice = await collateralPriceFeedContract.callStatic.fetchPrice();\n\n      const recoveryMode = await troveContract.checkRecoveryMode(collateralPrice);\n      const tcr = await troveContract.getTCR(collateralPrice);\n\n      const spContract = core.getStabilityPool(collateral, activeChainId);\n      const arthInSp = await spContract.totalLUSDDeposits();\n\n      const pendingETHReward: any =\n        (await troveContract.getPendingETHReward(leverageAccount.value)) || BigNumber.from(0);\n      const pendingLUSDDebtReward: any =\n        (await troveContract.getPendingLUSDDebtReward(leverageAccount.value)) ||\n        BigNumber.from(0);\n\n      let coll: any = trove.coll;\n      let debt: any = trove.debt;\n      if (pendingETHReward && pendingETHReward.gt(0)) coll = coll.add(pendingETHReward);\n      if (pendingLUSDDebtReward && pendingLUSDDebtReward.gt(0))\n        debt = debt.add(pendingLUSDDebtReward);\n\n      const collateralRatio = debt.lte(0)\n        ? BigNumber.from(0)\n        : coll.mul(collateralPrice).mul(100).div(debt).div(DECIMALS_18);\n\n      const expectedDebt = coll.mul(collateralPrice).mul(100).div(110).div(DECIMALS_18);\n      const avail_to_mint = recoveryMode\n        ? BigNumber.from(0)\n        : debt.lt(expectedDebt)\n        ? expectedDebt.sub(debt)\n        : BigNumber.from(0);\n\n      const expectedCollateral = BigNumber.from(110)\n        .mul(debt)\n        .mul(DECIMALS_18)\n        .div(collateralPrice)\n        .div(100);\n      const avail_to_withdraw = recoveryMode\n        ? BigNumber.from(0)\n        : expectedCollateral.lt(coll)\n        ? coll.sub(expectedCollateral)\n        : BigNumber.from(0);\n\n      finalTroves.push({\n        id: i,\n        hasRedistribution: pendingETHReward?.gt(0) || pendingLUSDDebtReward?.gt(0),\n        token: collateral,\n        avail_to_mint: avail_to_mint,\n        deposit: coll,\n        debt: debt,\n        avail_to_withdraw: avail_to_withdraw,\n        collateralRatio: collateralRatio,\n        isLiquidateable: recoveryMode\n          ? collateralRatio.lt(tcr.mul(100).div(DECIMALS_18)) && arthInSp.gte(debt)\n          : collateralRatio.lt(110),\n      });\n    }\n\n    setValue({ isLoading: false, value: finalTroves });\n  }, [leverageAccount.value, core, activeChainId]);\n\n  useEffect(() => {\n    setValue({ isLoading: true, value: [] });\n  }, [doRefresh]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch open loans %: ${err}`));\n    }\n  }, [core.isUnlocked, doRefresh, core.myAccount, fetchValue, activeChainId, account]);\n\n  return value;\n};\n","import { useCallback } from 'react';\n\nimport { useAddPopup } from '../../state/application/hooks';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport formatErrorMessage from '../../utils/formatErrorMessage';\nimport useCore from '../useCore';\n\nexport default function () {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const chainId = useGetActiveChainId();\n  const addTransaction = useTransactionAdder();\n\n  return useCallback(\n    async (cb?: () => void, errorCB?: () => void): Promise<void> => {\n      try {\n        const contract = core.getLeverageAccountRegistry(chainId);\n        const tx = await contract['build()']();\n\n        addTransaction(tx, {\n          summary: `Create a leverage account`,\n        });\n\n        const response = await tx.wait();\n        if (cb && response.status === 1) cb();\n        if (errorCB && response.status !== 1) errorCB();\n      } catch (e) {\n        if (errorCB) errorCB();\n\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, chainId, addPopup, addTransaction],\n  );\n}\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport styled from 'styled-components';\n\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport theme from '../../../theme';\nimport DataField from '../../../theme/components/DataField';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport { StrategiesStaticInfo } from \"../../../protocol/config\";\nimport TextButton from \"../../../theme/components/TextButton\";\nimport isStrategyOpen from \"../../../hooks/state/strategies/isStrategyOpen\";\nimport Loader from \"react-spinners/BeatLoader\";\nimport { formatToBN } from \"../../../utils/formatBalance\";\nimport useGetAPRValue from \"../../../hooks/state/strategies/useGetAPRValue\";\nimport Button from \"../../../theme/components/Button\";\nimport useCore from \"../../../hooks/useCore\";\nimport { useWallet } from \"use-wallet\";\nimport InfoTip from \"../../../theme/components/InfoTip\";\n\ninterface IProps {\n  strategy: StrategiesStaticInfo;\n  onTroveClick: () => void;\n}\n\nconst MobilePoolCard = (props: IProps) => {\n  const { strategy, onTroveClick } = props;\n  const chainId = useGetActiveChainId();\n  const core = useCore();\n  const { account } = useWallet();\n\n  const troveDetail = troveDetails(strategy.trove, chainId);\n  const isUserWhiteListed = core.isUserWhiteListed(chainId, account);\n\n  const hasPosition = isStrategyOpen(strategy.trove);\n  const aprValues = useGetAPRValue(strategy.trove);\n\n\n\n  const maxLeverage = useMemo(() => {\n    if (aprValues.isLoading) {\n      return {\n        isLoading: true,\n        value: '-'\n      }\n    } else {\n      if (aprValues.value.totalAPR === '-' || !Number(aprValues.value.totalAPR)) {\n        return {\n          isLoading: false,\n          value: '-'\n        }\n      } else {\n        return {\n          isLoading: false,\n          value: Number(aprValues.value.totalAPR) * strategy.maxLeverage\n        }\n      }\n    }\n  }, [aprValues.isLoading, aprValues.value.totalAPR, strategy.maxLeverage])\n\n  return (\n    <Card className={'material-secondary pointer'}>\n      <PlatformIcon>\n        <IconLoader iconName={strategy.platform} iconType={'exchangePlatform'} width={32} />\n      </PlatformIcon>\n      <div className={'m-b-24'}>\n        <div className={'single-line-center-center m-b-12'}>\n          <IconLoader\n            iconName={troveDetail.depositToken}\n            iconType={'tokenSymbol'}\n            width={98}\n          />\n        </div>\n        <TextWrapper\n          text={strategy.displayName}\n          fontSize={24}\n          fontFamily={'Syne'}\n          align={'center'}\n          fontWeight={600}\n        />\n      </div>\n      <div className={'single-line-center-center m-b-24'}>\n        <TextWrapper\n          text={strategy.description}\n          align={'center'}\n          Fcolor={theme.color.transparent[100]}\n        />\n      </div>\n      <div className={'m-b-32'}>\n        <DataField\n          label={'Leveraged APR'}\n          value={`${Number(maxLeverage.value)?.toFixed(3) || '-'}%`}\n          isValueLoading={maxLeverage.isLoading}\n          labelFontColor={theme.color.transparent[100]}\n          valueFontColor={theme.color.primary[300]}\n          valueFontSize={16}\n          valueFontWeight={'bold'}\n          labelFontWeight={'bold'}\n          className={'m-b-12'}\n        />\n        <DataField\n          label={'APR'}\n          value={`${Number(aprValues.value.totalAPR)?.toFixed(3) || '-'}%`}\n          isValueLoading={aprValues.isLoading}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={'bold'}\n          className={'m-b-12'}\n        />\n        <DataField\n          label={'MAHA APR'}\n          // value={`${Number(aprValues.value.totalAPR)?.toFixed(3) || '-' }%`}\n          value={'0%'}\n          isValueLoading={aprValues.isLoading}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={'bold'}\n          className={'m-b-12'}\n        />\n        <DataField\n          label={'Max Leverage'}\n          value={`${strategy.maxLeverage}x`}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={'bold'}\n          className={'m-b-12'}\n        />\n        <DataField\n          label={'One-time fee'}\n          value={'0.00%'}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={'bold'}\n          className={'m-b-12'}\n        />\n        <DataField\n          label={'Reward Fee'}\n          value={'0.00'}\n          labelFontColor={theme.color.transparent[100]}\n          labelFontWeight={'bold'}\n        />\n      </div>\n      {troveDetail.isDeprecated && <InfoTip type={\"Error\"} msg={\"This Strategy is depreciated\"} className={'m-b-8'} />}\n      {hasPosition.isLoading\n        ? <div className={'single-line-center-center'}>\n          <Loader loading={hasPosition.isLoading} size={6} color={'white'} />\n        </div>\n        : hasPosition.value\n          ? <TextButton\n            text={\"View Position\"}\n            onClick={() => window.location.href = '/#/strategies/your-position'}\n            align={\"center\"}\n            tracking_id={'view_position'}\n            tracking_params={{\n\n            }}\n            className={'p-t-12 p-b-12'}\n          />\n          : troveDetail.isDeprecated\n            ? <Button\n              text={\"Open Position (Depreciated)\"}\n              onClick={onTroveClick}\n              disabled={true}\n            />\n            : <Button\n              text={\"Open Position\"}\n              onClick={onTroveClick}\n              disabled={troveDetail.isDeprecated}\n            />\n      }\n    </Card>\n  );\n};\n\nexport default MobilePoolCard;\n\nconst Card = styled.div`\n  padding: 32px;\n  border-radius: 12px;\n  height: 100%;\n  cursor: pointer;\n  position: relative;\n  @media (max-width: 600px) {\n    padding: 24px;\n  }\n`;\n\nconst PlatformIcon = styled.div`\n  position: absolute;\n  top: -16px;\n  left: 50%;\n  transform: translate(-50%, 0);\n`\n","import config from \"../config\";\nimport { Mixpanel } from \"../analytics/Mixpanel\";\nimport { tracking_params } from \"../theme/components/Button\";\n\nexport const trackMixpanel = (tracking_id: string, chainId: number, t_params: tracking_params = {}) => {\n  const params = {\n    networkName: config[chainId]?.networkDisplayName || '',\n    ...t_params,\n  };\n\n  if (tracking_id) {\n    Mixpanel.track(`buttonClick:${tracking_id.toLowerCase()}`, params);\n  }\n};\n","import React, { useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { StrategiesStaticInfo } from '../../../protocol/config';\n\nimport SignModal from '../modals/SignModal';\n\nimport MobilePoolCard from './MobilePoolCard';\nimport isStrategyOpen from \"../../../hooks/state/strategies/isStrategyOpen\";\nimport { trackMixpanel } from \"../../../utils/mixpanel\";\nimport { useGetActiveChainId } from \"../../../state/chains/hooks\";\n\ninterface IProps {\n  strategy: StrategiesStaticInfo;\n}\n\nconst PoolCard = (props: IProps) => {\n  const { strategy } = props;\n  const [openSignModal, setOpenSignModal] = useState<boolean>(false);\n\n  const redirection = `/#/strategies/add/${strategy.trove}`;\n  const hasPosition = isStrategyOpen(strategy.trove);\n  const chainId = useGetActiveChainId();\n\n  const onTroveclick = () => {\n    if (hasPosition.isLoading) {\n    } else if (hasPosition.value) {\n      trackMixpanel(\n        'view_position',\n        chainId,\n      )\n      window.location.href = '/#/strategies/your-position'\n    } else {\n      const isSigned = false;\n      if (!isSigned) {\n        trackMixpanel(\n          'open_position',\n          chainId,\n          {\n            action: 'initial',\n          }\n        )\n        setOpenSignModal(true);\n      } else {\n        window.location.href = redirection;\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SignModal\n        open={openSignModal}\n        onClose={() => setOpenSignModal(false)}\n        onSuccess={() => (window.location.href = redirection)}\n      />\n      <MobilePoolCard strategy={strategy} onTroveClick={onTroveclick} />\n    </div>\n  );\n};\n\nexport default PoolCard;\n","import React, { useMemo } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useCore from '../../../hooks/useCore';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport TextButton from '../../../theme/components/TextButton';\n\nimport PoolCard from './PoolCard';\nimport { useWallet } from \"use-wallet\";\n\nconst PoolTable = () => {\n  const isMobile = useMediaQuery({ maxWidth: '600px' });\n  const activeChainId = useGetActiveChainId();\n\n  const core = useCore();\n  const {account} = useWallet();\n  const strategiesTypes = useMemo(() => core.getAllStrategies(activeChainId, account), [\n    core,\n    activeChainId,\n    account\n  ]);\n\n  return (\n    <div className={'mo-custom-container'}>\n      <div className={'m-b-24'}>\n        <Grid container className=\"m-t-24\" spacing={2}>\n          {strategiesTypes.map((strategy, index) => (\n            <Grid item lg={4} md={6} sm={12} xs={12} key={index}>\n              <PoolCard strategy={strategy} key={index} />\n            </Grid>\n          ))}\n        </Grid>\n      </div>\n      {isMobile && <div className={\"single-line-center-center\"}>\n        <TextButton\n          onClick={() =>\n            window.open(\n              \"https://docs.google.com/forms/d/e/1FAIpQLSdOoo2_88RuRZoDfOEj8B_fN7r8DUmXh9mZH5Mkj59WLzrQ6Q/viewform?usp=sf_link\"\n            )\n          }\n          text={\"Request Pool\"}\n        />\n      </div>}\n    </div>\n  );\n};\n\nexport default PoolTable;\n\nconst DataContainer = styled.div`\n  background: rgba(255, 255, 255, 0.02);\n  backdrop-filter: blur(70px);\n  border-radius: 6px;\n  padding: 24px 32px;\n  @media (max-width: 600px) {\n    background: transparent;\n    backdrop-filter: none;\n    border-radius: 6px;\n    padding: 32px 0;\n  }\n`;\n\nconst CustomTableHeading = styled.span`\n  display: flex;\n  align-items: center;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 150%;\n  letter-spacing: 0.08em;\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.32);\n  opacity: 0.64;\n  text-align: left;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\ninterface IProps {\n  mode: 'your-position' | 'all-strategies';\n  onModeChange: (id: 'your-position' | 'all-strategies') => void;\n}\n\nconst Toggler = (props: IProps) => {\n  const { mode, onModeChange } = props;\n\n  let headerList: { id: 'your-position' | 'all-strategies'; name: string }[] = [\n    {\n      id: 'all-strategies',\n      name: 'All Strategies',\n    },\n    {\n      id: 'your-position',\n      name: 'Your Position',\n    },\n  ];\n  return (\n    <div\n      style={{ position: 'relative', display: 'flex' }}\n      className=\"mo-custom-container \"\n    >\n      <ScrollDiv style={{ overflowX: 'scroll' }}>\n        <ButtonGroupDiv>\n          {headerList.map((obj) => (\n            <TextDiv\n              style={\n                mode === obj.id\n                  ? {\n                      background: mode === obj.id ? '#423B38' : 'transparent',\n                      border: '1px solid rgba(255, 255, 255, 0.08)',\n                    }\n                  : {}\n              }\n              key={obj?.id}\n              onClick={() => {\n                onModeChange(obj.id);\n              }}\n            >\n              <Text1>{obj?.name}</Text1>\n            </TextDiv>\n          ))}\n        </ButtonGroupDiv>\n      </ScrollDiv>\n    </div>\n  );\n};\n\nexport default Toggler;\n\nconst ButtonGroupDiv = styled.div`\n  background: #2a2827;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 6px 0;\n  flex-wrap: wrap;\n  width: max-content;\n`;\n\nconst TextDiv = styled.div`\n  height: 40px;\n  display: inline-flex;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n  border-radius: 4px;\n  margin: 0 6px;\n  padding: 0 12px;\n  cursor: pointer;\n\n  &:hover {\n    background: #423b3860;\n  }\n`;\n\nconst ScrollDiv = styled.div`\n  ::-webkit-scrollbar {\n    height: 0;\n    background: transparent; /* make scrollbar transparent */\n  }\n`;\n\nconst Text1 = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff;\n  margin: 0;\n`;\n","import React, { useEffect, useState } from \"react\";\n\nimport PageHeader from '../../theme/components/PageHeader';\nimport YourPosition from '../YourPosition';\n\nimport PoolTable from './components/PoolTable';\nimport { useParams } from \"react-router-dom\";\nimport Toggler from \"./components/Toggler\";\nimport TextButton from \"../../theme/components/TextButton\";\nimport { useMediaQuery } from \"react-responsive\";\nimport TextWrapper from \"../../theme/components/TextWrapper\";\nimport theme from \"../../theme\";\nimport IconLoader from \"../../theme/components/IconLoader\";\nimport { VfatLink } from \"../Farming\";\nimport StakedBanner from \"../../components/StakedBanner\";\n\ntype IMode = 'your-position' | 'all-strategies';\n\nconst Strategies = () => {\n  const { mode } = useParams();\n  const [selectedMode, setSelectedMode] = useState<IMode>('all-strategies');\n  const isMobile = useMediaQuery({ maxWidth: '600px' });\n\n  useEffect(() => {\n    if (mode === 'your-position' || mode === 'all-strategies') {\n      window.location.href = `/#/strategies/${mode}`;\n      setSelectedMode(mode)\n    } else {\n      window.location.href = `/#/strategies/your-position`;\n      setSelectedMode('all-strategies');\n      /*if (collateralForActiveTroves.value.length > 0) {\n        window.location.href = `/#/loans/your-loans`;\n        setSelectedMode('your-loans')\n      } else {\n        window.location.href = `/#/loans/all-loans`;\n        setSelectedMode('all-loans')\n      }*/\n    }\n  }, [mode]);\n\n  return (\n    <div className={'custom-container'}>\n      <VfatLink onClick={() => window.location.href = '/#/farming'}>\n        <TextWrapper\n          text={'New'}\n          Fcolor={theme.color.primary[300]}\n          fontWeight={600}\n          className={'m-r-12'}\n        />\n        <TextWrapper text={'Farm $ARTH at more than 100% APR'} className={'m-r-12'} />\n        <IconLoader iconName={'ArrowTailRight'} iconType={'arrow'} />\n      </VfatLink>\n      <PageHeader\n        title={'Strategies'}\n        subTitle={`Leverage strategies allow you to gain more exposure to assets/farms/LPs using ARTH's minting mechanism`}\n        showLearnMore={true}\n        learnMoreLink={'https://docs.arthcoin.com/tutorials/leverage-strategies'}\n      />\n      <StakedBanner />\n      <div className={'single-line-center-between m-b-24'}>\n        <Toggler mode={selectedMode} onModeChange={(data) => window.location.href = `/#/strategies/${data}`} />\n        {!isMobile && <TextButton\n          onClick={() =>\n            window.open(\n              \"https://docs.google.com/forms/d/e/1FAIpQLSdOoo2_88RuRZoDfOEj8B_fN7r8DUmXh9mZH5Mkj59WLzrQ6Q/viewform?usp=sf_link\"\n            )\n          }\n          text={\"Request Pool\"}\n          className={\"m-l-16\"}\n        />}\n      </div>\n      {/* <div className='m-b-40'>\n        <DataPointsInfo />\n      </div> */}\n      {/* <div className={'mo-custom-container '}>\n        <TextWrapper\n          text={'STRATEGIES'}\n          fontFamily={'Syne'}\n          fontSize={24}\n          FletterSpacing={'0.1rem'}\n          fontWeight={'bold'}\n          className={'m-b-32'}\n        />\n      </div> */}\n      {selectedMode === 'all-strategies' && <PoolTable />}\n      {selectedMode === 'your-position' && <YourPosition />}\n    </div>\n  );\n};\n\nexport default Strategies;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport { TokeniseStaticInfo } from '../../../protocol/config';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport theme from '../../../theme';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextButton from '../../../theme/components/TextButton';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ActionButton from \"../../../theme/components/ActionButton\";\nimport InfoTip from \"../../../theme/components/InfoTip\";\n\ninterface IProps {\n  tokenziseInfo: TokeniseStaticInfo;\n  onDeposit: () => void;\n  onWithdraw: () => void;\n}\n\nconst TokenisationCard = (props: IProps) => {\n  const { onDeposit, onWithdraw, tokenziseInfo } = props;\n\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n  const tokeniseBalance = useTokenBalance(core.tokens(tokenziseInfo.tokeniseToken, chainId));\n\n  return (\n    <Card className={'material-secondary'}>\n      <div>\n        <div className={'m-b-24'}>\n          <div className={'single-line-center-center m-b-12'}>\n            <ImgCon>\n              <IconLoader\n                iconName={tokenziseInfo.tokeniseToken}\n                iconType={'tokenSymbol'}\n                height={98}\n                width={tokenziseInfo.isTokeniseLP ? 192 : 98}\n              />\n            </ImgCon>\n          </div>\n          <TextWrapper\n            text={tokenziseInfo.tokeniseToken}\n            fontSize={24}\n            fontFamily={'Syne'}\n            align={'center'}\n            fontWeight={600}\n            className={'m-b-2'}\n          />\n          <TextButton\n            align={'center'}\n            onClick={() => window.open(tokenziseInfo.link)}\n            text={`Get ${tokenziseInfo.depositToken}`}\n            tracking_id={`get_token`}\n            tracking_params={{\n              collateral: tokenziseInfo.depositToken,\n            }}\n          />\n        </div>\n        <Desc className={'single-line-center-center m-b-8'}>\n          <TextWrapper\n            text={tokenziseInfo.description}\n            align={'center'}\n            Fcolor={theme.color.transparent[100]}\n          />\n        </Desc>\n        {tokeniseBalance.value.gt(0) &&\n          <TextButton\n            align={'center'}\n            onClick={() => window.location.href = '/#/strategies/all-strategies'}\n            text={`Get Leverage upto 5x`}\n            tracking_id={`get_token`}\n            tracking_params={{\n              collateral: tokenziseInfo.depositToken,\n            }}\n            className={'m-b-24'}\n          />\n        }\n        {/* <div className={'single-line-center-between m-b-32'}>\n         <div>\n          <TextWrapper\n            text={'You Deposit'}\n            Fcolor={theme.color.transparent[100]}\n            className={'m-b-8'}\n          />\n          <div className={'single-line-center-start'}>\n            <IconLoader\n              iconName={tokenziseInfo.depositToken}\n              iconType={'tokenSymbol'}\n              width={16}\n              className={'m-r-4'}\n            />\n            <TextWrapper text={tokenziseInfo.depositToken} fontWeight={600} />\n          </div>\n        </div>\n         <div>\n          <TextWrapper\n            text={'1 ARTH Value'}\n            Fcolor={theme.color.transparent[100]}\n            className={'m-b-8'}\n            align={'right'}\n          />\n          <TextWrapper text={'2.1 ARTH-USD'} fontWeight={600} />\n        </div>\n      </div>*/}\n      </div>\n      <ButtonPosition>\n        <div>\n          <ActionButton\n            text={'Mint'}\n            onClick={onDeposit}\n            tracking_id={'tokenize_mint'}\n            tracking_params={{\n              collateral: tokenziseInfo.tokeniseToken,\n              action: 'initial',\n            }}\n          />\n        </div>\n        {/*{tokeniseBalance.value.gt(0) && (*/}\n          <div className={'single-line-center-center m-t-24'}>\n            <TextButton\n              onClick={onWithdraw}\n              text={'Redeem'}\n              tracking_id={'tokenize_redeem'}\n              tracking_params={{\n                collateral: tokenziseInfo.tokeniseToken,\n                action: 'initial',\n              }}\n            />\n          </div>\n        {/*)}*/}\n      </ButtonPosition>\n    </Card>\n  );\n};\n\nexport default TokenisationCard;\n\nconst Card = styled.div`\n  padding: 32px;\n  border-radius: 12px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  @media(max-width: 600px) {\n    padding: 32px 24px;\n  }\n`;\n\nconst ImgCon = styled.div`\n  //width: 98px;\n  //height: 98px;\n  //box-shadow: 2px 2px 20px #2A2827;\n  //border-radius: 50%;\n  position: relative;\n`;\n\nconst Desc = styled.div`\n  min-height: 52px;\n`;\n\nconst ButtonPosition = styled.div``;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React from 'react';\n\nimport useTokenizationDeposit from '../../../hooks/callbacks/tokenization/useTokenizationDeposit';\nimport useApprove, { ApprovalState } from '../../../hooks/callbacks/useApprove';\nimport useCore from '../../../hooks/useCore';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\n\ninterface IProps {\n  onCancel: () => void;\n  depositToken: string;\n  wrappedToken: string;\n  val: string;\n  disableButton: boolean;\n}\n\nexport default (props: IProps) => {\n  const chainId = useGetActiveChainId();\n\n  const core = useCore();\n  const depositToken = core.tokens(props.depositToken, chainId);\n  const wrappedToken = core.tokens(props.wrappedToken, chainId);\n\n  const [approveStatus, approve] = useApprove(depositToken, wrappedToken?.address || '');\n\n  const depositAction = useTokenizationDeposit(\n    props.wrappedToken,\n    BigNumber.from(parseUnits(props.val, depositToken.decimal)),\n    depositToken,\n  );\n\n  const handleDeposit = () => {\n    depositAction(() => {\n      props.onCancel();\n    });\n  };\n\n  const isApproved = approveStatus === ApprovalState.APPROVED;\n  const isApproving = approveStatus === ApprovalState.PENDING;\n\n  return !isApproved ? (\n    <Button\n      loading={isApproving}\n      text={isApproving ? 'Approving' : 'Approve'}\n      size={'lg'}\n      onClick={approve}\n      disabled={isApproved || props.disableButton}\n      tracking_id={'tokenize_mint_apporve'}\n      tracking_params={{\n        collateral: depositToken.symbol,\n      }}\n    />\n  ) : (\n    <Button\n      disabled={props.disableButton}\n      text={'Deposit'}\n      size={'lg'}\n      onClick={handleDeposit}\n      tracking_id={'tokenize_mint'}\n      tracking_params={{\n        collateral: depositToken.symbol,\n        action: 'confirm',\n      }}\n    // tracking_id={'farming_deposit'}\n    // tracking_params={{\n    //   action: 'confirm',\n    //   collateral: props.poolInfo.name,\n    //   amount: Number(val),\n    // }}\n    />\n  );\n};\n","import { BigNumber, Contract } from 'ethers';\nimport Numeral from 'numeral';\nimport { useCallback } from 'react';\n\nimport ERC20 from '../../../protocol/ERC20';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\nimport * as Sentry from \"@sentry/react\";\n\nexport default function (wrappedTokenName: string, amount: BigNumber, depositToken: ERC20) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.contracts(wrappedTokenName, chainId);\n\n      try {\n        const response = await contract.deposit(amount);\n\n        addTransaction(response, {\n          summary: `Deposit ${Numeral(\n            getDisplayBalance(amount, depositToken.decimal, 3),\n          ).format(\n            '0,0.00a',\n          )} ${depositToken.symbol.toUpperCase()} into ${wrappedTokenName.toUpperCase()}`,\n        });\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            response,\n            wrappedTokenName,\n            amount,\n            depositToken,\n          });\n        }\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          e,\n          wrappedTokenName,\n          amount,\n          depositToken,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e.stack,\n          },\n        });\n      }\n    },\n    [core, wrappedTokenName, chainId, amount, addTransaction, depositToken, addPopup],\n  );\n\n  return action;\n}\n","import React, { useMemo, useState } from 'react';\nimport { parseUnits } from 'ethers/lib/utils';\nimport { BigNumber } from 'ethers';\nimport { Grid } from '@material-ui/core';\n\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport { TokeniseStaticInfo } from '../../../protocol/config';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport CollateralDropDown from '../../../theme/components/CollateralDropDown';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport Input from '../../../theme/components/Input';\nimport InputContainer from '../../../theme/components/InputContainer';\nimport Modal from '../../../theme/components/Modal';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { IModalProps } from '../../../utils/interface';\nimport ApproveDepositButton from '../components/ApproveDepositButton';\n\n\nconst getARTHUSDOut = (input: BigNumber, gonsPerFragment: BigNumber, gonsPrecision: BigNumber): BigNumber =>\n  input.mul(gonsPerFragment).div(gonsPrecision);\n\n\nconst getARTHInForARTHUSD = (output: BigNumber, gonsPerFragment: BigNumber, gonsPrecision: BigNumber): BigNumber =>\n  output.mul(gonsPrecision).div(gonsPerFragment);\n\ninterface IProps {\n  tokenziseInfo: TokeniseStaticInfo;\n}\n\nconst Deposit = (props: IModalProps & IProps) => {\n  const { open, onClose, tokenziseInfo } = props;\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n\n  const [depositTokenSupply, setDepositTokenSupply] = useState<string>('');\n  const [tokeniseSupply, setTokeniseSupply] = useState<string>('');\n\n  const arthUSDGonsInfo = { // useGetARTHUSDGonsInfo();\n    isLoading: false,\n    gonsPerFramgment: BigNumber.from(2),\n    gonsPrecision: BigNumber.from(1),\n  }\n\n  const depositToken = core.tokens(tokenziseInfo.depositToken, chainId);\n  const tokenizeToken = core.tokens(tokenziseInfo.tokeniseToken, chainId);\n\n  const depositTokenBalance = useTokenBalance(core.tokens(tokenziseInfo.depositToken, chainId));\n  const tokeniseBalance = useTokenBalance(core.tokens(tokenziseInfo.tokeniseToken, chainId));\n\n  const disableButton = useMemo(() => {\n    return (\n      arthUSDGonsInfo.isLoading ||\n      depositTokenBalance.isLoading ||\n      tokeniseBalance.isLoading ||\n      !Number(depositTokenSupply) ||\n      !Number(tokeniseSupply) ||\n      BigNumber.from(parseUnits(depositTokenSupply, depositToken.decimal)).gt(depositTokenBalance.value)\n    );\n  }, [arthUSDGonsInfo.isLoading, depositTokenBalance.isLoading, depositTokenBalance.value, tokeniseBalance.isLoading, depositTokenSupply, tokeniseSupply, depositToken.decimal]);\n\n  const onInputChange = (val: string) => {\n    if (!Number(val) || (props.tokenziseInfo.tokeniseToken === 'ARTH.usd' && arthUSDGonsInfo.gonsPrecision.lte(0))) {\n      setDepositTokenSupply('');\n      setTokeniseSupply('');\n      return;\n    }\n\n    if (props.tokenziseInfo.tokeniseToken === 'ARTH.usd') {\n      const output: BigNumber = getARTHUSDOut(\n        BigNumber.from(parseUnits(val, tokenizeToken.decimal)),\n        arthUSDGonsInfo.gonsPerFramgment,\n        arthUSDGonsInfo.gonsPrecision\n      );\n\n      setDepositTokenSupply(val);\n      setTokeniseSupply(\n        getDisplayBalance(output, 18, 18)\n      );\n      return;\n    }\n\n    setDepositTokenSupply(val);\n    setTokeniseSupply(val);\n  }\n\n  const onOutputChange = (val: string) => {\n    if (!Number(val) || (props.tokenziseInfo.tokeniseToken === 'ARTH.usd' && arthUSDGonsInfo.gonsPerFramgment.lte(0))) {\n      setDepositTokenSupply('');\n      setTokeniseSupply('');\n      return;\n    }\n\n    if (props.tokenziseInfo.tokeniseToken === 'ARTH.usd') {\n      const output: BigNumber = getARTHInForARTHUSD(\n        BigNumber.from(parseUnits(val, tokenizeToken.decimal)),\n        arthUSDGonsInfo.gonsPerFramgment,\n        arthUSDGonsInfo.gonsPrecision\n      );\n\n      setDepositTokenSupply(\n        getDisplayBalance(output, depositToken.decimal)\n      );\n      setTokeniseSupply(val);\n      return;\n    }\n\n    setDepositTokenSupply(val);\n    setTokeniseSupply(val);\n  }\n\n  return (\n    <Modal\n      title={`Mint ${props.tokenziseInfo.tokeniseToken}`}\n      open={open}\n      handleClose={onClose}\n      closeButton\n    >\n      <div>\n        <div className=\"m-b-8\">\n          <InputContainer\n            label={`How much would you like to supply?`}\n            dataLabel={'Balance: '}\n            dataValue={getDisplayBalance(depositTokenBalance.value, depositToken.decimal)}\n          >\n            <div className=\"single-line-center-between\">\n              <Input\n                value={depositTokenSupply}\n                setValue={onInputChange}\n                maxTag={true}\n                onMaxClick={() => {\n                  onInputChange(getDisplayBalance(depositTokenBalance.value, depositToken.decimal))\n                }}\n              />\n              <CollateralDropDown selectedCollateral={tokenziseInfo.depositToken} />\n            </div>\n          </InputContainer>\n        </div>\n        <div className=\"text-center m-t-12 m-b-12\">\n          <IconLoader iconName={'ArrowTailDown'} iconType={'arrow'} />\n        </div>\n        <div className=\"m-b-8\">\n          <InputContainer\n            label={'How much tokens do you need?'}\n            dataLabel={'Balance: '}\n            dataValue={getDisplayBalance(tokeniseBalance.value, tokenizeToken.decimal)}\n          >\n            <div className=\"single-line-center-between\">\n              <Input\n                value={tokeniseSupply}\n                setValue={onOutputChange}\n              />\n              <CollateralDropDown selectedCollateral={tokenziseInfo.tokeniseToken} />\n            </div>\n          </InputContainer>\n        </div>\n        <div className={'m-t-32'}>\n          <Grid container spacing={2}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'outlined'}\n                text={'Cancel'}\n                onClick={onClose}\n                tracking_id={'tokenize_mint'}\n                tracking_params={{\n                  collateral: tokenziseInfo.tokeniseToken,\n                  action: 'cancel',\n                }}\n              />\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <ApproveDepositButton\n                val={depositTokenSupply === '' ? '0' : depositTokenSupply}\n                wrappedToken={props.tokenziseInfo.tokeniseToken}\n                onCancel={onClose}\n                depositToken={props.tokenziseInfo.depositToken}\n                disableButton={disableButton}\n              />\n            </Grid>\n          </Grid>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default Deposit;\n","import { BigNumber } from 'ethers';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useMemo, useState } from 'react';\n\nimport { Grid } from '@material-ui/core';\n\nimport useTokenizationWithdraw from '../../../hooks/callbacks/tokenization/useTokenizationWithdraw';\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport { TokeniseStaticInfo } from '../../../protocol/config';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport CollateralDropDown from '../../../theme/components/CollateralDropDown';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport Input from '../../../theme/components/Input';\nimport InputContainer from '../../../theme/components/InputContainer';\nimport Modal from '../../../theme/components/Modal';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { IModalProps } from '../../../utils/interface';\n// import useGetARTHUSDGonsInfo from '../../../hooks/state/useGetARTHUSDGonsInfo';\n\nconst getARTHUSDOut = (input: BigNumber, gonsPerFragment: BigNumber, gonsPrecision: BigNumber): BigNumber =>\n  input.mul(gonsPerFragment).div(gonsPrecision);\n\n\nconst getARTHInForARTHUSD = (output: BigNumber, gonsPerFragment: BigNumber, gonsPrecision: BigNumber): BigNumber =>\n  output.mul(gonsPrecision).div(gonsPerFragment);\n\ninterface IProps {\n  tokenziseInfo: TokeniseStaticInfo;\n}\n\nconst Withdraw = (props: IModalProps & IProps) => {\n  const { open, onClose, tokenziseInfo } = props;\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n\n  const [depositTokenSupply, setDepositTokenSupply] = useState<string>('');\n  const [tokeniseSupply, setTokeniseSupply] = useState<string>('');\n\n  const arthUSDGonsInfo = { // useGetARTHUSDGonsInfo();\n    isLoading: false,\n    gonsPerFramgment: BigNumber.from(2),\n    gonsPrecision: BigNumber.from(1),\n  }\n\n  const depositToken = core.tokens(tokenziseInfo.depositToken, chainId);\n  const tokenizeToken = core.tokens(tokenziseInfo.tokeniseToken, chainId);\n\n  const depositTokenBalance = useTokenBalance(core.tokens(tokenziseInfo.depositToken, chainId));\n  const tokeniseBalance = useTokenBalance(core.tokens(tokenziseInfo.tokeniseToken, chainId));\n\n  const withdrawAction = useTokenizationWithdraw(\n    props.tokenziseInfo.tokeniseToken,\n    BigNumber.from(\n      parseUnits(\n        props.tokenziseInfo.tokeniseToken === 'ARTH.usd' ? depositTokenSupply || '0' : tokeniseSupply || '0',\n        core.tokens(\n          props.tokenziseInfo.tokeniseToken === 'ARTH.usd'\n            ? props.tokenziseInfo.depositToken\n            : props.tokenziseInfo.tokeniseToken,\n          chainId\n        ).decimal,\n      ),\n    ),\n    core.tokens(props.tokenziseInfo.depositToken, chainId),\n  );\n\n  const disableButton = useMemo(() => {\n    return (\n      arthUSDGonsInfo.isLoading ||\n      depositTokenBalance.isLoading ||\n      tokeniseBalance.isLoading ||\n      !Number(depositTokenSupply) ||\n      !Number(tokeniseSupply) ||\n      BigNumber.from(parseUnits(tokeniseSupply, depositToken.decimal)).gt(tokeniseBalance.value)\n    );\n  }, [arthUSDGonsInfo.isLoading, depositTokenBalance.isLoading, tokeniseBalance.isLoading, tokeniseBalance.value, depositTokenSupply, tokeniseSupply, depositToken.decimal]);\n\n  const onOutputChange = (val: string) => {\n    if (!Number(val) || (props.tokenziseInfo.tokeniseToken === 'ARTH.usd' && arthUSDGonsInfo.gonsPrecision.lte(0))) {\n      setDepositTokenSupply('');\n      setTokeniseSupply('');\n      return;\n    }\n\n    if (props.tokenziseInfo.tokeniseToken === 'ARTH.usd') {\n      const output: BigNumber = getARTHUSDOut(\n        BigNumber.from(parseUnits(val, 18)),\n        arthUSDGonsInfo.gonsPerFramgment,\n        arthUSDGonsInfo.gonsPrecision\n      );\n\n      setDepositTokenSupply(val);\n      setTokeniseSupply(\n        getDisplayBalance(output, depositToken.decimal)\n      );\n      return;\n    }\n\n    setDepositTokenSupply(val);\n    setTokeniseSupply(val);\n  }\n\n  const onInputChange = (val: string) => {\n    if (!Number(val) || (props.tokenziseInfo.tokeniseToken === 'ARTH.usd' && arthUSDGonsInfo.gonsPerFramgment.lte(0))) {\n      setDepositTokenSupply('');\n      setTokeniseSupply('');\n      return;\n    }\n\n    if (props.tokenziseInfo.tokeniseToken === 'ARTH.usd') {\n      const output: BigNumber = getARTHInForARTHUSD(\n        BigNumber.from(parseUnits(val, 18)),\n        arthUSDGonsInfo.gonsPerFramgment,\n        arthUSDGonsInfo.gonsPrecision\n      );\n\n      setDepositTokenSupply(\n        getDisplayBalance(output, depositToken.decimal)\n      );\n      setTokeniseSupply(val);\n      return;\n    }\n\n    setDepositTokenSupply(val);\n    setTokeniseSupply(val);\n  }\n\n  return (\n    <Modal\n      title={`Redeem ${props.tokenziseInfo.depositToken}`}\n      open={open}\n      handleClose={onClose}\n      closeButton\n    >\n      <div>\n        <div className=\"m-b-8\">\n          <InputContainer\n            label={'How much tokens do you need to redeem?'}\n            dataLabel={'Balance: '}\n            dataValue={getDisplayBalance(tokeniseBalance.value, tokenizeToken.decimal)}\n          >\n            <div className=\"single-line-center-between\">\n              <Input\n                value={tokeniseSupply}\n                setValue={onInputChange}\n                maxTag={true}\n                onMaxClick={() => {\n                  onInputChange(getDisplayBalance(tokeniseBalance.value, tokenizeToken.decimal))\n                }}\n              />\n              <CollateralDropDown\n                selectedCollateral={tokenziseInfo.tokeniseToken}\n                collateralText={tokenziseInfo.tokeniseToken}\n              />\n            </div>\n          </InputContainer>\n        </div>\n        <div className=\"text-center m-t-12 m-b-12\">\n          <IconLoader iconName={'ArrowTailDown'} iconType={'arrow'} />\n        </div>\n        <div className=\"m-b-8\">\n          <InputContainer\n            label={`How much will you receive?`}\n            dataLabel={'Balance: '}\n            dataValue={getDisplayBalance(depositTokenBalance.value, depositToken.decimal)}\n          >\n            <div className=\"single-line-center-between\">\n              <Input value={depositTokenSupply} setValue={onOutputChange} />\n              <CollateralDropDown selectedCollateral={tokenziseInfo.depositToken} />\n            </div>\n          </InputContainer>\n        </div>\n        <div className={'m-t-32'}>\n          <Grid container spacing={2}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'outlined'}\n                text={'Cancel'}\n                onClick={onClose}\n                tracking_id={'tokenize_redeem'}\n                tracking_params={{\n                  collateral: tokenziseInfo.tokeniseToken,\n                  action: 'cancel',\n                }}\n              />\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                text={'Withdraw'}\n                disabled={disableButton}\n                onClick={withdrawAction}\n                tracking_id={'tokenize_redeem'}\n                tracking_params={{\n                  collateral: tokenziseInfo.tokeniseToken,\n                  action: 'confirm',\n                }}\n              />\n            </Grid>\n          </Grid>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default Withdraw;\n","import { BigNumber, Contract } from 'ethers';\nimport Numeral from 'numeral';\nimport { useCallback } from 'react';\n\nimport ERC20 from '../../../protocol/ERC20';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\nimport * as Sentry from \"@sentry/react\";\n\nexport default function (wrappedTokenName: string, amount: BigNumber, depositToken: ERC20) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.contracts(wrappedTokenName, chainId);\n\n      try {\n        const response = await contract.withdraw(amount);\n\n        addTransaction(response, {\n          summary: `Withdraw ${Numeral(\n            getDisplayBalance(amount, depositToken.decimal, 3),\n          ).format(\n            '0,0.00a',\n          )} ${depositToken.symbol.toUpperCase()} from ${wrappedTokenName.toUpperCase()}`,\n        });\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            response,\n            wrappedTokenName,\n            amount,\n            depositToken,\n          });\n        }\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          e,\n          wrappedTokenName,\n          amount,\n          depositToken,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e.stack,\n          },\n        });\n      }\n    },\n    [core, wrappedTokenName, chainId, amount, addTransaction, depositToken, addPopup],\n  );\n\n  return action;\n}\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { Grid } from '@material-ui/core';\n\nimport Container from '../../components/Container';\nimport useCore from '../../hooks/useCore';\nimport { TokeniseStaticInfo } from '../../protocol/config';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport PageHeader from '../../theme/components/PageHeader';\n\nimport TokenisationCard from './components/TokenisationCard';\nimport Deposit from './modals/Deposit';\nimport Withdraw from './modals/Withdraw';\nimport { useLocation } from 'react-router-dom';\nimport TextWrapper from \"../../theme/components/TextWrapper\";\nimport theme from \"../../theme\";\nimport IconLoader from \"../../theme/components/IconLoader\";\nimport { VfatLink } from \"../Farming\";\n\nconst Tokenization = () => {\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n  const tokenziseInfo = core.getAllTokeniseInfo(chainId);\n\n  // parse the URL to automatically open any popup\n  const { search } = useLocation();\n  useEffect(() => {\n    const query = new URLSearchParams(search)\n    const toOpen = query.get('open')\n    const found = tokenziseInfo.find(r => r.tokeniseToken === toOpen)\n    if (found) onDepositPress(found)\n  }, [search, tokenziseInfo])\n\n  const [openDeposit, setOpenDeposit] = useState<boolean>(false);\n  const [openWithdraw, setOpenWithdraw] = useState<boolean>(false);\n\n  const [selectedData, setSelectedData] = useState<TokeniseStaticInfo | null>(null);\n\n  const onDepositPress = (data: TokeniseStaticInfo) => {\n    setSelectedData(data);\n    setOpenDeposit(true);\n  };\n\n  const onWithdrawPress = (data: TokeniseStaticInfo) => {\n    setSelectedData(data);\n    setOpenWithdraw(true);\n  };\n\n  const onDepositClose = () => {\n    setSelectedData(null);\n    setOpenDeposit(false);\n  };\n\n  const onWithdrawClose = () => {\n    setSelectedData(null);\n    setOpenWithdraw(false);\n  };\n\n  return (\n    <Container size=\"lg\">\n      <VfatLink onClick={() => window.location.href = '/#/farming'}>\n        <TextWrapper\n          text={'New'}\n          Fcolor={theme.color.primary[300]}\n          fontWeight={600}\n          className={'m-r-12'}\n        />\n        <TextWrapper text={'Farm $ARTH at more than 100% APR'} className={'m-r-12'} />\n        <IconLoader iconName={'ArrowTailRight'} iconType={'arrow'} />\n      </VfatLink>\n      <PageHeader\n        title={'TOKENIZE'}\n        subTitle={'Tokenize ARTH, Staking pools, farms, vaults into fungible tokens.'}\n        showLearnMore={true}\n        learnMoreLink={'https://docs.arthcoin.com/protocol/tokenized-pools'}\n      />\n      <div className={'mo-custom-container'}>\n        <Grid container className=\"m-t-24\" spacing={2}>\n          {tokenziseInfo.map((data) => {\n            return (\n              <Grid item lg={4} md={4} sm={12} xs={12}>\n                <TokenisationCard\n                  tokenziseInfo={data}\n                  onDeposit={() => onDepositPress(data)}\n                  onWithdraw={() => onWithdrawPress(data)}\n                />\n              </Grid>\n            );\n          })}\n        </Grid>\n      </div>\n\n      {selectedData !== null && (\n        <Deposit open={openDeposit} onClose={onDepositClose} tokenziseInfo={selectedData} />\n      )}\n      {selectedData !== null && (\n        <Withdraw open={openWithdraw} onClose={onWithdrawClose} tokenziseInfo={selectedData} />\n      )}\n    </Container>\n  );\n};\n\nexport default Tokenization;\n","import { BigNumber } from 'ethers';\nimport { data } from 'jquery';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { AppState } from '../../../state';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport useCore from '../../useCore';\n\ntype Trove = {\n  debt: BigNumber;\n  coll: BigNumber;\n  stake: BigNumber;\n  status: BigNumber | number;\n  arrayIndex: BigNumber;\n};\n\ntype State = {\n  isLoading: boolean;\n  value: Trove;\n};\n\nconst defaultTrove: Trove = {\n  debt: BigNumber.from(0),\n  coll: BigNumber.from(0),\n  stake: BigNumber.from(0),\n  status: 0,\n  arrayIndex: BigNumber.from(0),\n};\n\nexport default (trove: string, ownerAddress: string) => {\n  const [value, setValue] = useState<State>({\n    isLoading: true,\n    value: defaultTrove,\n  });\n\n  const core = useCore();\n  const { account } = useWallet();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const hasPendingRewards = useSelector((state: AppState) => state.trove.hasPendingRewards);\n  const pendingETHReward = useSelector((state: AppState) => state.trove.pendingETHReward);\n  const pendingLUSDDebtReward = useSelector(\n    (state: AppState) => state.trove.pendingLUSDDebtReward,\n  );\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: defaultTrove });\n      return;\n    }\n\n    const contract = core.getTroveManager(troveDetail.contractPrefix, activeChainId);\n    let value = await contract.Troves(ownerAddress);\n    if (hasPendingRewards[troveDetail.depositToken] && ownerAddress === account) {\n      const pendingColl = pendingETHReward[troveDetail.depositToken] || BigNumber.from(0);\n      const pendingDebt = pendingLUSDDebtReward[troveDetail.depositToken] || BigNumber.from(0);\n      value = {\n        arrayIndex: value.arrayIndex,\n        coll: value.coll.add(pendingColl),\n        debt: value.debt.add(pendingDebt),\n        frontEndTag: value.frontEndTag,\n        stake: value.stake,\n        status: value.status,\n      };\n    } else {\n      value = {\n        arrayIndex: value.arrayIndex,\n        coll: value.coll,\n        debt: value.debt,\n        frontEndTag: value.frontEndTag,\n        stake: value.stake,\n        status: value.status,\n      };\n    }\n\n    setValue({ isLoading: false, value: value });\n  }, [\n    account,\n    core,\n    troveDetail.contractPrefix,\n    troveDetail.depositToken,\n    activeChainId,\n    hasPendingRewards,\n    pendingETHReward,\n    pendingLUSDDebtReward,\n    ownerAddress,\n  ]);\n\n  useEffect(() => {\n    setValue({ isLoading: true, value: defaultTrove });\n  }, [trove]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => {\n        window.history.back();\n        console.error(`Failed to fetch trove: ${err}`);\n      });\n    }\n  }, [\n    core.isUnlocked,\n    account,\n    core.myAccount,\n    blockNumber,\n    fetchValue,\n    activeChainId,\n    ownerAddress,\n  ]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport React, { useMemo } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useCloseTrove from '../../../hooks/callbacks/borrowerOperations/useCloseTrove';\nimport useApprove, { ApprovalState } from '../../../hooks/callbacks/useApprove';\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport { ARTH_GAS_COMPENSATION } from '../../../protocol/constants';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport InfoTip from '../../../theme/components/InfoTip';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  getTrove: any;\n  trove: string;\n  openModal: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst ConfirmCloseLoanModal = (props: Iprops) => {\n  const { getTrove, openModal, onClose, onSuccess, trove } = props;\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n  const arthBalance = useTokenBalance(core.tokens('ARTH', activeChainId));\n\n  const [arthApprovalStatus, approveARTH] = useApprove(\n    core.tokens('ARTH', activeChainId),\n    core.getController(troveDetail.contractPrefix, activeChainId)?.address || undefined,\n  );\n\n  const closeTrove = useCloseTrove(troveDetail.contractPrefix.toUpperCase());\n  const isARTHApproved = useMemo(() => arthApprovalStatus === ApprovalState.APPROVED, [\n    arthApprovalStatus,\n  ]);\n  const isARTHApproving = useMemo(() => arthApprovalStatus === ApprovalState.PENDING, [\n    arthApprovalStatus,\n  ]);\n\n  const balanceNeededAmount = useMemo(() => {\n    if (arthBalance.isLoading)\n      return { isLoading: true, value: BigNumber.from(0), amountNeededMore: BigNumber.from(0) };\n    if (getTrove.debt.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n        amountNeededMore: BigNumber.from(0),\n      };\n\n    return {\n      isLoading: false,\n      value: getTrove.debt.sub(ARTH_GAS_COMPENSATION),\n      amountNeededMore: arthBalance.value.lt(getTrove.debt.sub(ARTH_GAS_COMPENSATION))\n        ? getTrove.debt.sub(ARTH_GAS_COMPENSATION).sub(arthBalance.value)\n        : BigNumber.from(0),\n    };\n  }, [getTrove.debt, arthBalance]);\n\n  const handleCloseTrove = () => {\n    closeTrove(() => {\n      onSuccess();\n      onClose();\n    });\n  };\n\n  return (\n    <Modal\n      title={'Confirm Close Loan'}\n      open={openModal}\n      handleClose={() => onClose()}\n      closeButton\n    >\n      <div>\n        <div className=\"single-line-center-between m-b-12\">\n          <TextWrapper text={'Your collateral amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={Number(getDisplayBalance(getTrove.coll, 18, 3)).toLocaleString()}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"tags m-l-4\">\n              <TextWrapper\n                text={troveDetail.depositToken.toUpperCase()}\n                fontSize={12}\n                Fcolor={'#FFFFFF88'}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-b-12\">\n          <TextWrapper text={'Your total debt amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={Number(getDisplayBalance(getTrove.debt, 18, 3)).toLocaleString()}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-b-16\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Liquidation Reserve'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n          </div>\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={Number(getDisplayBalance(troveDetail.liquidationReserve, 18, 3)).toLocaleString()} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-b-12\">\n          <TextWrapper\n            text={'Your payable debt amount'}\n            fontWeight={600}\n            Fcolor={'#FFFFFF88'}\n          />\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={Number(\n                getDisplayBalance(getTrove.debt.sub(ARTH_GAS_COMPENSATION), 18, 3),\n              ).toLocaleString()}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n            </div>\n          </div>\n        </div>\n        <div className=\"custom-divider\" />\n        <div className=\"single-line-center-between m-b-12\">\n          <TextWrapper text={'You will receive'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={Number(getDisplayBalance(getTrove.coll, 18, 3)).toLocaleString()}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"tags m-l-4\">\n              <TextWrapper\n                text={troveDetail.depositToken.toUpperCase()}\n                fontSize={12}\n                Fcolor={'#FFFFFF88'}\n              />\n            </div>\n          </div>\n        </div>\n        <br />\n        {balanceNeededAmount.amountNeededMore.gt(0) && (\n          <>\n            <div className=\"m-b-24\">\n              <InfoTip\n                type={'Warning'}\n                msg={`You need at least ${Number(\n                  getDisplayBalance(balanceNeededAmount.value, 18, 3),\n                ).toLocaleString()} ARTH(${Number(\n                  getDisplayBalance(balanceNeededAmount.amountNeededMore, 18, 3),\n                ).toLocaleString()} ARTH more) to close your trove.`}\n              />\n            </div>\n            <br />\n          </>\n        )}\n        <Grid container spacing={2} className=\"m-b-32\">\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              onClick={() => onClose()}\n              tracking_id=\"close_loan\"\n              tracking_params={{\n                collateral: trove,\n                action: 'cancel',\n                amount: Number(getDisplayBalance(getTrove.coll, 18, 3)),\n                other: {\n                  debt: Number(getDisplayBalance(getTrove.debt, 18, 3)),\n                },\n              }}\n            >\n              Cancel\n            </Button>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            {!isARTHApproved && activeChainId === 137 ? (\n              <Button\n                disabled={balanceNeededAmount.amountNeededMore.gt(0)}\n                loading={balanceNeededAmount.isLoading || isARTHApproving}\n                onClick={approveARTH}\n                tracking_id=\"approve_ARTH_close_loan\"\n                tracking_params={{\n                  collateral: trove,\n                }}\n              >\n                Approve ARTH\n              </Button>\n            ) : (\n              <Button\n                disabled={balanceNeededAmount.amountNeededMore.gt(0)}\n                loading={balanceNeededAmount.isLoading}\n                onClick={handleCloseTrove}\n                tracking_id=\"close_loan\"\n                tracking_params={{\n                  collateral: trove,\n                  action: 'confirm',\n                  amount: Number(getDisplayBalance(getTrove.coll, 18, 3)),\n                  other: {\n                    debt: Number(getDisplayBalance(getTrove.debt, 18, 3)),\n                  },\n                }}\n              >\n                Confirm Close Loan\n              </Button>\n            )}\n          </Grid>\n        </Grid>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ConfirmCloseLoanModal;\n","import { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\n\nexport default function (symbol: string) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(symbol, chainId);\n        const response = await contract.closeTrove();\n\n        addTransaction(response, {\n          summary: `Close Loan on ${symbol.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [symbol, core, addTransaction, addPopup],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport React, { useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useGetTrove from '../../../hooks/state/troveManager/useGetTrove';\nimport useCollateralPriceFeed from '../../../hooks/state/useCollateralPriceFeed';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport theme from '../../../theme';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport SuccessModal from '../../../theme/components/SuccesModal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTip from '../../../theme/components/Tooltip';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport ConfirmCloseLoanModal from '../modal/ConfirmCloseLoanModal';\nimport { useWallet } from \"use-wallet\";\nimport TextButton from \"../../../theme/components/TextButton\";\nimport config from \"../../../config\";\nimport useTokenDecimals from '../../../hooks/useTokenDecimals';\n\ninterface Iprops {\n  trove: string;\n  ownerAddress: string;\n  onModifyLoan: () => void;\n}\n\nconst OpenedLaon = (props: Iprops) => {\n  const { trove, onModifyLoan, ownerAddress } = props;\n  const [openConfirmationModal, setOpenConfirmationModal] = useState<boolean>(false);\n  const [closeLoanSuccessModal, setCloseLoanSuccessModal] = useState<boolean>(false);\n  const chainId = useGetActiveChainId();\n  const { account } = useWallet()\n  const troveDetail = troveDetails(trove, chainId);\n  const collateralGMUPrice = useCollateralPriceFeed(troveDetail.depositToken, troveDetail.contractPrefix);\n  const getTrove = useGetTrove(troveDetail.contractPrefix, ownerAddress);\n\n  const depositTokenDecimals = useTokenDecimals(troveDetail.depositToken)\n\n  const collateralRatio = useMemo(() => {\n    if (collateralGMUPrice.isLoading) return { isLoading: true, value: BigNumber.from(0) };\n\n    const debtAmountBN = getTrove.value?.debt || BigNumber.from(0);\n    const collateralValueBN = getTrove.value?.coll || BigNumber.from(1);\n\n    if (debtAmountBN.lte(0)) return { isLoading: false, vaue: BigNumber.from(0) };\n    const ratio = collateralValueBN.mul(collateralGMUPrice.value).mul(100).div(debtAmountBN);\n\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [getTrove, collateralGMUPrice]);\n\n  return (\n    <div>\n      <ConfirmCloseLoanModal\n        getTrove={getTrove.value}\n        trove={trove}\n        openModal={openConfirmationModal}\n        onClose={() => setOpenConfirmationModal(false)}\n        onSuccess={() => setCloseLoanSuccessModal(true)}\n      />\n      <div className={'custom-mahadao-container'}>\n        <div className={'custom-mahadao-container-content'}>\n          {ownerAddress !== account &&\n            <div className={'m-b-32'}>\n              <TextWrapper\n                text={'Owner Address'}\n                align={'center'}\n              />\n              <TextButton\n                onClick={() => window.open(`${config[chainId].etherscanUrl}/address/${ownerAddress}`)}\n                text={`${ownerAddress}`}\n                align={'center'}\n              />\n            </div>\n          }\n          <LaonInfoLine>\n            <div className=\"single-line-center-between\">\n              <div className=\"single-line-center-start\">\n                <TextWrapper text={'Total Collateral'} fontSize={18} Fcolor={'#FFFFFF88'} />\n              </div>\n              <div className=\"single-line-center-start\">\n                {getTrove.isLoading ? (\n                  <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n                ) : (\n                  <TextWrapper\n                    text={Number(\n                      getDisplayBalance(getTrove.value.coll, depositTokenDecimals, 3),\n\n\n                    ).toLocaleString()}\n                    fontSize={18}\n                    Fcolor={'#FFFFFF'}\n                    fontWeight={600}\n                  />\n                )}\n                <div className=\"tags m-l-4\">\n                  <TextWrapper\n                    text={troveDetail.depositToken.toUpperCase()}\n                    fontSize={18}\n                    Fcolor={'#FFFFFF88'}\n                    fontWeight={600}\n                  />\n                </div>\n              </div>\n            </div>\n          </LaonInfoLine>\n          <div className=\"text-center m-t-12 m-b-12\">\n            <IconLoader iconName={'ArrowTailDown'} iconType={'arrow'} />\n          </div>\n          <LaonInfoLine>\n            <div className=\"single-line-center-between\">\n              <div className=\"single-line-center-start\">\n                <TextWrapper text={'Total Debt'} fontSize={18} Fcolor={'#FFFFFF88'} />\n              </div>\n              <div className=\"single-line-center-start\">\n                {getTrove.isLoading ? (\n                  <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n                ) : (\n                  <TextWrapper\n                    text={Number(\n                      getDisplayBalance(getTrove.value.debt, 18, 3),\n                    ).toLocaleString()}\n                    fontSize={18}\n                    Fcolor={'#FFFFFF'}\n                    fontWeight={600}\n                  />\n                )}\n                <div className=\"tags m-l-4\">\n                  <TextWrapper\n                    text={'ARTH'}\n                    fontSize={18}\n                    Fcolor={'#FFFFFF88'}\n                    fontWeight={600}\n                  />\n                </div>\n              </div>\n            </div>\n          </LaonInfoLine>\n          <div className=\"m-t-20\">\n            <div className=\"single-line-center-between\">\n              <div className=\"single-line-center-start\">\n                <TextWrapper text={'Collateral Ratio'} fontSize={12} />\n                <ToolTip\n                  toolTipText={\n                    'The ratio between the $GMU value of the collateral and the debt (in ARTH) you are depositing. While the Minimum Collateral Ratio is 110% during normal operation, it is recommended to keep the Collateral Ratio always above 150% to avoid liquidation under Recovery Mode. A Collateral Ratio above 200% or 250% is recommended for additional safety.'\n                  }\n                />\n              </div>\n              <div className=\"single-line-center-start\">\n                {collateralRatio.isLoading ? (\n                  <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n                ) : (\n                  <TextWrapper\n                    text={\n                      Number(getDisplayBalance(collateralRatio.value, 18, 3)).toLocaleString() +\n                      '%'\n                    }\n                    fontSize={12}\n                    Fcolor={theme.color.green[300]}\n                  />\n                )}\n              </div>\n            </div>\n            <div className=\"single-line-center-between m-t-12\">\n              <div className=\"single-line-center-start\">\n                <TextWrapper text={'Liquidation Reserve'} fontSize={12} />\n                <ToolTip\n                  toolTipText={\n                    'An amount set aside to cover the liquidator’s gas costs if your loan needs to be liquidated. The amount increases your debt and is refunded if you close your loan by fully paying off its net debt.'\n                  }\n                />\n              </div>\n              <div className=\"single-line-center-start\">\n                <TextWrapper text={Number(getDisplayBalance(troveDetail.liquidationReserve, 18, 3)).toLocaleString() +\n                  ' ARTH'} fontSize={12} Fcolor={theme.color.green[300]} />\n              </div>\n            </div>\n          </div>\n          {ownerAddress === account &&\n            <div className={'m-t-32'}>\n              <Grid container spacing={2}>\n                <Grid item lg={6} md={6} sm={12} xs={12}>\n                  <Button\n                    onClick={() => setOpenConfirmationModal(true)}\n                    tracking_id=\"close_loan\"\n                    tracking_params={{\n                      collateral: trove,\n                      action: \"initial\",\n                      amount: Number(getDisplayBalance(getTrove.value.coll, 18, 3)),\n                      other: {\n                        debt: Number(getDisplayBalance(getTrove.value.debt, 18, 3))\n                      }\n                    }}\n                    disabled={getTrove.value.coll.lte(0) || getTrove.value.debt.lte(0)}\n                  >\n                    Close Loan\n                  </Button>\n                </Grid>\n                <Grid item lg={6} md={6} sm={12} xs={12}>\n                  <Button\n                    onClick={() => onModifyLoan()}\n                    tracking_id=\"modify_loan\"\n                    tracking_params={{ collateral: trove }}\n                    disabled={getTrove.value.coll.lte(0) || getTrove.value.debt.lte(0)}\n                  >\n                    Modify Loan\n                  </Button>\n                </Grid>\n              </Grid>\n            </div>\n          }\n        </div>\n      </div>\n\n      <SuccessModal\n        modalOpen={closeLoanSuccessModal}\n        setModalOpen={() => {\n          window.location.href = '/#/loans/overview';\n          setCloseLoanSuccessModal(false);\n        }}\n        title={'Your transaction is being mined on blockchain'}\n        buttonText={'Close'}\n      />\n    </div>\n  );\n};\n\nexport default OpenedLaon;\n\nconst LaonInfoLine = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 6px;\n  padding: 14px 12px;\n`;\n","import React, { useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport Grid from '@material-ui/core/Grid';\n\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport LoanInfo from '../LoanInfo/LoanInfo';\n\nimport OpenedLaon from './component/OpenedLoan';\nimport PageHeader from \"../../theme/components/PageHeader\";\nimport Button from \"../../theme/components/Button\";\nimport IconLoader from \"../../theme/components/IconLoader\";\nimport { troveDetails } from \"../../utils/tokenDetails\";\nimport useGetTrove from \"../../hooks/state/troveManager/useGetTrove\";\nimport LoadingPage from \"../../components/LoadingPage\";\nimport TextWrapper from \"../../theme/components/TextWrapper\";\nimport { useWallet } from \"use-wallet\";\n\nconst LoanDetails = () => {\n  const { trove, ownerAddress } = useParams();\n  const chainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, chainId);\n  const getTrove = useGetTrove(troveDetail.contractPrefix, ownerAddress);\n\n  useEffect(() => {\n    //ToDo: if the owner address is a valid address\n  }, [ownerAddress])\n\n  if (getTrove.isLoading) {\n    return (\n      <div style={{ position: 'relative', height: 'calc(100vh - 100px)' }}>\n        <LoadingPage />\n      </div>\n    );\n  }\n\n  if (getTrove.value.stake.lte(0)) {\n    window.location.href = '/#/loans/your-loans';\n    return (\n      <div className=\"m-t-40 m-b-40 material-primary\">\n        <TextWrapper\n          text={`You dont have any loan open for ${trove}`}\n          fontSize={24}\n          fontWeight={'bold'}\n          className=\"m-b-8\"\n          align=\"center\"\n        />\n        <TextWrapper\n          text={'Open Interest free loan with leveraged position from the leverage strategies'}\n          fontSize={18}\n          className=\"m-b-8\"\n          Fcolor={'#FFFFFF64'}\n          align={'center'}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"custom-container\">\n      <PageHeader\n        title={`${trove.toUpperCase()} LOAN`}\n        subTitle={'Borrow ARTH against different collaterals at 0% interest.'}\n        showLearnMore={true}\n        learnMoreLink={'https://docs.arthcoin.com/protocol/introduction-arth-loans'}\n      />\n      <Grid container style={{ marginTop: '24px' }} spacing={2}>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <OpenedLaon\n            trove={trove}\n            ownerAddress={ownerAddress}\n            onModifyLoan={() => {\n              window.open(`/#/loan/modify/${trove}`, '_self');\n            }}\n          />\n        </Grid>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <LoanInfo trove={trove} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default LoanDetails;\n","import { BigNumber } from 'ethers';\nimport React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useAddColl from '../../../hooks/callbacks/borrowerOperations/useAddColl';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  trove: string;\n  addedValue: BigNumber;\n  troveCollateral: BigNumber;\n  openModal: boolean;\n  cr: BigNumber;\n  newCR: BigNumber;\n  debtAmount: BigNumber;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst ConfirmAddCollateral = (props: Iprops) => {\n  const {\n    openModal,\n    onClose,\n    addedValue,\n    trove,\n    troveCollateral,\n    debtAmount,\n    cr,\n    newCR,\n    onSuccess,\n  } = props;\n\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const addColl = useAddColl(\n    troveDetail.contractPrefix,\n    addedValue,\n    debtAmount,\n    troveCollateral.add(addedValue),\n  );\n\n  const handleAddColl = () => {\n    addColl(() => {\n      onSuccess();\n      onClose();\n    });\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Confirm Add Collateral'}\n        open={openModal}\n        handleClose={() => onClose()}\n        closeButton\n      >\n        <div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'New added Collateral amount'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(addedValue, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current Collateral amount'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(troveCollateral, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'New Collateral amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(troveCollateral.add(addedValue), 18, 3),\n                ).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current Collateral Ratio'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(cr, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-32\">\n            <TextWrapper text={'New Collateral Ratio'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(newCR, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <Grid container spacing={2} className={'m-t-32'}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id=\"modify_loan_add_collateral\"\n                tracking_params={{\n                  action: 'cancel',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedValue, 18, 3)),\n                }}\n              >\n                Cancel\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                onClick={handleAddColl}\n                tracking_id=\"modify_loan_add_collateral\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedValue, 18, 3)),\n                }}\n              >\n                Confirm Add Collateral\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default ConfirmAddCollateral;\n","import { BigNumber } from 'ethers';\nimport Numeral from 'numeral';\nimport { useCallback } from 'react';\n\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (\n  contractPrefix: string,\n  addCollAmount: BigNumber, // Collateral to add in trove.\n  debtAmount: BigNumber, // Total debt after the modification.\n  collateralAmount: BigNumber, // Total collateral after the modification.\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const activeChainId = useGetActiveChainId();\n  const addTransaction = useTransactionAdder();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(contractPrefix, activeChainId);\n\n        const [\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        ]: string[] = await findHintsForNominalCollateralRatio(\n          collateralAmount.mul(DECIMALS_18.mul(100)).div(debtAmount),\n          core.getSortedTroves(contractPrefix, activeChainId),\n          core.getHintHelper(contractPrefix, activeChainId),\n          core.getTroveManager(contractPrefix, activeChainId),\n          core.myAccount,\n        );\n\n        const response = await contract.addColl(\n          addCollAmount,\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        );\n\n        addTransaction(response, {\n          summary: `Add ${Numeral(getDisplayBalance(addCollAmount, 18, 3)).format(\n            '0,0.00a',\n          )} ${contractPrefix.toUpperCase()} to Loan.`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      contractPrefix,\n      core,\n      addTransaction,\n      addPopup,\n      addCollAmount,\n      debtAmount,\n      collateralAmount,\n      activeChainId,\n    ],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useWithdrawColl from '../../../hooks/callbacks/borrowerOperations/useWithdrawColl';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  trove: string;\n  addedValue: BigNumber;\n  troveCollateral: BigNumber;\n  openModal: boolean;\n  cr: BigNumber;\n  newCR: BigNumber;\n  debtAmount: BigNumber;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst ConfirmRemoveCollateral = (props: Iprops) => {\n  const {\n    openModal,\n    onClose,\n    addedValue,\n    trove,\n    troveCollateral,\n    debtAmount,\n    cr,\n    newCR,\n    onSuccess,\n  } = props;\n\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const withdrawColl = useWithdrawColl(\n    troveDetail.contractPrefix,\n    addedValue,\n    debtAmount,\n    troveCollateral.sub(addedValue),\n  );\n\n  const handleWithdrawColl = () => {\n    withdrawColl(() => {\n      onSuccess();\n      onClose();\n    });\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Confirm Remove Collateral'}\n        open={openModal}\n        handleClose={() => onClose()}\n        closeButton\n      >\n        <div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Withdrawing Collateral amount'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(addedValue, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current Collateral amount'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(troveCollateral, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'New Collateral amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(troveCollateral.sub(addedValue), 18, 3),\n                ).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current Collateral Ratio'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(cr, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-32\">\n            <TextWrapper text={'New Collateral Ratio'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(newCR, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <Grid container spacing={2} className={'m-t-32'}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id=\"modify_loan_withdraw_collateral\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedValue, 18, 3)),\n                }}\n              >\n                Cancel\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                onClick={handleWithdrawColl}\n                tracking_id=\"modify_loan_withdraw_collateral\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedValue, 18, 3)),\n                }}\n              >\n                Confirm Remove Collateral\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default ConfirmRemoveCollateral;\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (\n  contractPrefix: string,\n  withdrawCollAmount: BigNumber,\n  debtAmount: BigNumber, // Total debt after the modification.\n  collateralAmount: BigNumber, // Total collateral after the modification.\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetActiveChainId();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(contractPrefix, activeChainId);\n\n        const [\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        ]: string[] = await findHintsForNominalCollateralRatio(\n          collateralAmount.mul(DECIMALS_18.mul(100)).div(debtAmount),\n          core.getSortedTroves(contractPrefix, activeChainId),\n          core.getHintHelper(contractPrefix, activeChainId),\n          core.getTroveManager(contractPrefix, activeChainId),\n          core.myAccount,\n        );\n\n        const response = await contract.withdrawColl(\n          withdrawCollAmount,\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        );\n\n        addTransaction(response, {\n          summary: `Withdraw ${Number(\n            getDisplayBalance(withdrawCollAmount, 18, 3),\n          ).toLocaleString()} ${contractPrefix.toUpperCase()} from Loan.`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      contractPrefix,\n      core,\n      addTransaction,\n      addPopup,\n      withdrawCollAmount,\n      debtAmount,\n      collateralAmount,\n      activeChainId,\n    ],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport CustomInputContainer from \"../../components/CustomInputContainer\";\nimport { ValidateNumber } from '../../components/CustomInputContainer/RegexValidation';\nimport DepositModal from '../../components/DepositModal';\nimport useApprove, { ApprovalState } from '../../hooks/callbacks/useApprove';\nimport useGetIsRecoveryMode from '../../hooks/state/troveManager/useGetIsRecoveryMode';\nimport useGetTrove from '../../hooks/state/troveManager/useGetTrove';\nimport useCollateralPriceFeed from '../../hooks/state/useCollateralPriceFeed';\nimport useTokenBalance from '../../hooks/state/useTokenBalance';\nimport useCore from '../../hooks/useCore';\nimport { DECIMALS_18 } from '../../protocol/constants';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport Button from '../../theme/components/Button';\nimport InfoTip from '../../theme/components/InfoTip';\nimport SuccessModal from '../../theme/components/SuccesModal';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport ToolTip from '../../theme/components/Tooltip';\nimport { crParameters, getDisplaycrParameters } from '../../utils/crParameters';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport { troveDetails } from '../../utils/tokenDetails';\n\nimport ConfirmAddCollateral from './modal/ConfirmAddCollateral';\nimport ConfirmRemoveCollateral from './modal/ConfirmRemoveCollateral';\nimport { useWallet } from \"use-wallet\";\n\ninterface Iprops {\n  trove: string;\n}\n\nconst CollateralModifyLoan = (props: Iprops) => {\n  const { trove } = props;\n\n  const [depositModal, setdepositModal] = useState<boolean>(false);\n  const [addCollateralValue, setAddCollateralValue] = useState<string>('0');\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n  const [withdrawCollateralValue, setWithdrawCollateralValue] = useState<string>('0');\n  const [openAddConfirmationModal, setOpenAddConfirmationModal] = useState<boolean>(false);\n  const [isWithdrawInputFieldError, setWithdrawIsInputFieldError] = useState<boolean>(false);\n  const [openRemoveConfirmationModal, setOpenRemoveConfirmationModal] = useState<boolean>(\n    false,\n  );\n  const [openSuccessModal, setOpenSuccessModal] = useState<boolean>(false);\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n  const { account } = useWallet();\n  const getTrove = useGetTrove(trove, account);\n  const collateralGMUPrice = useCollateralPriceFeed(troveDetail.depositToken, troveDetail.contractPrefix);\n  const collateralBalance = useTokenBalance(\n    core.tokens(troveDetail.depositToken, activeChainId),\n  );\n  const [collatApproveStatus, approveCollateral] = useApprove(\n    core.tokens(troveDetail.depositToken, activeChainId),\n    core.getBorrowerOperations(troveDetail.depositToken, activeChainId).address,\n  );\n  const isRecoveryMode = useGetIsRecoveryMode(troveDetail.contractPrefix);\n\n  const showDepositWETH = useMemo(() => {\n    return (\n      core.config('blockchainToken', activeChainId) ===\n      troveDetail.depositToken.replace('W', '')\n    );\n  }, [core, activeChainId, troveDetail.depositToken]);\n\n  const isCollatApproved = useMemo(() => collatApproveStatus === ApprovalState.APPROVED, [\n    collatApproveStatus,\n  ]);\n  const isCollatApproving = useMemo(() => collatApproveStatus === ApprovalState.PENDING, [\n    collatApproveStatus,\n  ]);\n\n  const collateralRatio = useMemo(() => {\n    if (collateralGMUPrice.isLoading || getTrove.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (getTrove.value.debt.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    const ratio = getTrove.value.coll\n      .mul(collateralGMUPrice.value)\n      .mul(100)\n      .div(getTrove.value.debt);\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [getTrove, collateralGMUPrice]);\n\n  const modifiedCollatreal = useMemo(() => {\n    if (collateralGMUPrice.isLoading || getTrove.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (getTrove.value.debt.lte(0) || getTrove.value.coll.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    const addCollateralBN = BigNumber.from(parseUnits(addCollateralValue, 18));\n    const removeCollateralBN = BigNumber.from(parseUnits(withdrawCollateralValue, 18));\n    if (removeCollateralBN.gt(getTrove.value.coll)) {\n      return { isLoading: false, value: BigNumber.from(0) };\n    }\n\n    const bnCollateral = getTrove.value.coll.add(addCollateralBN).sub(removeCollateralBN);\n    const ratio = bnCollateral.mul(collateralGMUPrice.value).mul(100).div(getTrove.value.debt);\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [getTrove, addCollateralValue, withdrawCollateralValue, collateralGMUPrice]);\n\n  const isModifiedCollateralRatioBelowMin = useMemo(() => {\n    if (isRecoveryMode.isLoading || modifiedCollatreal.isLoading) return false;\n    const crData = crParameters(trove, activeChainId);\n    return !isRecoveryMode.value\n      ? modifiedCollatreal.value.lte(DECIMALS_18.mul(crData.mcr).div(1000))\n      : modifiedCollatreal.value.lte(DECIMALS_18.mul(crData.ccr).div(1000));\n  }, [\n    isRecoveryMode.isLoading,\n    isRecoveryMode.value,\n    modifiedCollatreal.isLoading,\n    modifiedCollatreal.value,\n    trove,\n    activeChainId,\n  ]);\n\n  const isCollateralRatioBelowMin = useMemo(() => {\n    if (isRecoveryMode.isLoading || collateralRatio.isLoading) return false;\n    const crData = crParameters(trove, activeChainId);\n    return !isRecoveryMode.value\n      ? collateralRatio.value.lte(DECIMALS_18.mul(crData.mcr).div(1000))\n      : collateralRatio.value.lte(DECIMALS_18.mul(crData.ccr).div(1000));\n  }, [\n    activeChainId,\n    collateralRatio.isLoading,\n    collateralRatio.value,\n    isRecoveryMode.isLoading,\n    isRecoveryMode.value,\n    trove,\n  ]);\n\n  const getApproveAndAddCollButton = () =>\n    isCollatApproved ? (\n      <Button\n        disabled={!Number(addCollateralValue) || !isCollatApproved || isInputFieldError}\n        onClick={() => setOpenAddConfirmationModal(true)}\n        tracking_id=\"modify_loan_add_collateral\"\n        tracking_params={{\n          action: 'initial',\n          collateral: trove,\n          amount: Number(addCollateralValue),\n        }}\n      >\n        Add collateral\n      </Button>\n    ) : (\n      <Button\n        loading={isCollatApproving}\n        disabled={!Number(addCollateralValue) || isCollatApproving || isInputFieldError}\n        onClick={approveCollateral}\n        tracking_id=\"approve_modify_loan_add_collateral\"\n        tracking_params={{ collateral: trove }}\n      >\n        Approve\n      </Button>\n    );\n\n  const onAddCollateralChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setAddCollateralValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setWithdrawCollateralValue('0');\n    setAddCollateralValue(check ? val : String(Number(val)));\n  };\n\n  const onWithdrawCollateralChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setWithdrawCollateralValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setAddCollateralValue('0');\n    setWithdrawCollateralValue(check ? val : String(Number(val)));\n  };\n\n  const resetFields = () => {\n    setAddCollateralValue('0');\n    setWithdrawCollateralValue('0');\n  };\n\n  return (\n    <div>\n      <ConfirmAddCollateral\n        cr={collateralRatio.value}\n        newCR={modifiedCollatreal.value}\n        debtAmount={getTrove.value.debt}\n        addedValue={BigNumber.from(parseUnits(addCollateralValue, 18))}\n        troveCollateral={getTrove.value.coll}\n        trove={trove}\n        openModal={openAddConfirmationModal}\n        onClose={() => setOpenAddConfirmationModal(false)}\n        onSuccess={() => {\n          setOpenAddConfirmationModal(false);\n          setOpenSuccessModal(true);\n        }}\n      />\n      <ConfirmRemoveCollateral\n        cr={collateralRatio.value}\n        newCR={modifiedCollatreal.value}\n        debtAmount={getTrove.value.debt}\n        addedValue={BigNumber.from(parseUnits(withdrawCollateralValue, 18))}\n        troveCollateral={getTrove.value.coll}\n        trove={trove}\n        openModal={openRemoveConfirmationModal}\n        onClose={() => setOpenRemoveConfirmationModal(false)}\n        onSuccess={() => {\n          setOpenRemoveConfirmationModal(false);\n          setOpenSuccessModal(true);\n        }}\n      />\n      <SuccessModal\n        modalOpen={openSuccessModal}\n        setModalOpen={() => {\n          resetFields();\n          setOpenSuccessModal(false);\n        }}\n        title={'Your transaction is being mined on blockchain'}\n        buttonText={'Close'}\n      />\n      {isCollateralRatioBelowMin && (\n        <div className=\"m-b-24\">\n          <InfoTip\n            type={'Warning'}\n            msg={\n              !isRecoveryMode.value\n                ? `Collateral ratio is below ${\n                    getDisplaycrParameters(trove, activeChainId).mcr\n                  }% and can be liquidated.\n                 Add ${trove.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n                : `System is currently in Recovery Mode. Collateral ratio is below\n                ${\n                  getDisplaycrParameters(trove, activeChainId).ccr\n                }% and can be liquidated. Add ${troveDetail.depositToken.toUpperCase()}\n                or decrease debt by repaying some of the borrowed ARTH.`\n            }\n          />\n        </div>\n      )}\n      {isModifiedCollateralRatioBelowMin &&\n      (Number(addCollateralValue) || Number(withdrawCollateralValue)) ? (\n        <div className=\"m-b-24\">\n          <InfoTip\n            type={'Warning'}\n            msg={\n              !isRecoveryMode.value\n                ? `The modified loan has Collateral ratio is below\n                  ${getDisplaycrParameters(trove, activeChainId).mcr}% and can be liquidated.\n                  Add ${trove.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n                : `System is currently in Recovery Mode. The modified loan has Collateral ratio is below\n                  ${\n                    getDisplaycrParameters(trove, activeChainId).ccr\n                  }% and can be liquidated. Add\n                  ${troveDetail.depositToken.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n            }\n          />\n        </div>\n      ) : null}\n      <div className=\"p-b-32 bottom-divider\">\n        <CustomInputContainer\n          ILabelValue={'Add Collateral'}\n          IBalanceValue={`${getDisplayBalance(collateralBalance.value, 18, 3)}`}\n          isBalanceLoading={collateralBalance.isLoading}\n          ILabelInfoValue={''}\n          disabled={collateralBalance.isLoading || getTrove.isLoading}\n          DefaultValue={addCollateralValue.toString()}\n          LogoSymbol={troveDetail.depositToken}\n          hasDropDown={false}\n          SymbolText={troveDetail.depositToken}\n          inputMode={'decimal'}\n          setText={(val: string) => {\n            onAddCollateralChange(val);\n          }}\n          tagText={'MAX'}\n          tokenDecimals={18}\n          errorCallback={(flag: boolean) => {\n            setIsInputFieldError(flag);\n          }}\n        />\n        <div className=\"m-t-20\">\n          {showDepositWETH ? (\n            <Grid container spacing={2}>\n              <Grid item lg={6} md={6} sm={12} xs={12}>\n                <Button\n                  onClick={() => setdepositModal(true)}\n                  tracking_id={'convert_token'}\n                  tracking_params={{\n                    collateral: troveDetail.depositToken.replace('W', '').toUpperCase(),\n                  }}\n                >\n                  {`Wrap ${troveDetail.depositToken\n                    .replace('W', '')\n                    .toUpperCase()} to ${troveDetail.depositToken.toUpperCase()}`}\n                </Button>\n              </Grid>\n              <Grid item lg={6} md={6} sm={12} xs={12}>\n                {getApproveAndAddCollButton()}\n              </Grid>\n            </Grid>\n          ) : (\n            getApproveAndAddCollButton()\n          )}\n        </div>\n      </div>\n      <div className=\"p-t-20\">\n        <CustomInputContainer\n          ILabelValue={'Withdraw Collateral'}\n          showBalance={false}\n          IBalanceValue={`${getDisplayBalance(getTrove.value.coll, 18)}`}\n          isBalanceLoading={collateralBalance.isLoading || getTrove.isLoading}\n          DefaultValue={withdrawCollateralValue.toString()}\n          ILabelInfoValue={''}\n          LogoSymbol={troveDetail.depositToken}\n          disabled={isRecoveryMode.value || getTrove.isLoading || isCollateralRatioBelowMin}\n          hasDropDown={false}\n          SymbolText={troveDetail.depositToken}\n          setText={(val: string) => {\n            onWithdrawCollateralChange(val);\n          }}\n          tokenDecimals={18}\n          errorCallback={(flag: boolean) => {\n            setWithdrawIsInputFieldError(flag);\n          }}\n        />\n        <div className=\"single-line-center-between m-t-12 m-b-24\">\n          <div />\n          <div className=\"single-line-center-between\">\n            <TextWrapper text={`Current collateral`} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags m-l-4\">\n              {getTrove.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(getTrove.value.coll, 18, 3)).toLocaleString() +\n                    ` ${troveDetail.depositToken.toUpperCase()}`\n                  }\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n        <div className=\"m-t-20\">\n          <Button\n            disabled={\n              isCollateralRatioBelowMin ||\n              isModifiedCollateralRatioBelowMin ||\n              !Number(withdrawCollateralValue) ||\n              isWithdrawInputFieldError\n            }\n            onClick={() => setOpenRemoveConfirmationModal(true)}\n            tracking_id=\"modify_loan_withdraw_collateral\"\n            tracking_params={{\n              action: 'initial',\n              collateral: trove,\n              amount: Number(withdrawCollateralValue),\n            }}\n          >\n            Withdraw Collateral\n          </Button>\n        </div>\n      </div>\n      <div className=\"m-t-20\">\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Current Collateral Ratio'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The ratio between the $GMU value of the collateral and the debt (in ARTH) you are depositing.\n               While the Minimum Collateral Ratio is ${\n                 getDisplaycrParameters(trove, activeChainId).mcr\n               }% during normal\n                operation, it is recommended to keep the Collateral Ratio always above\n                ${\n                  getDisplaycrParameters(trove, activeChainId).ccr\n                }% to avoid liquidation under Recovery Mode.\n                 A Collateral Ratio above 200% or 250% is recommended for additional safety.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {collateralRatio.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={`${Number(\n                  getDisplayBalance(collateralRatio.value, 18, 3),\n                ).toLocaleString()} %`}\n                fontSize={12}\n              />\n            )}\n          </div>\n        </div>\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'New Collateral Ratio'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The ratio between the $GMU value of the collateral and the debt (in ARTH) as a result of\n              your loan modification. While the Minimum Collateral Ratio is ${\n                getDisplaycrParameters(trove, activeChainId).mcr\n              }% during normal operation, it is\n              recommended to keep the Collateral Ratio always above ${\n                getDisplaycrParameters(trove, activeChainId).ccr\n              }% to avoid liquidation under Recovery Mode.\n              A Collateral Ratio above 200% or 250% is recommended for additional safety.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {modifiedCollatreal.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  modifiedCollatreal.value.eq(collateralRatio.value)\n                    ? '0 %'\n                    : `${Number(\n                        getDisplayBalance(modifiedCollatreal.value, 18, 3),\n                      ).toLocaleString()} %`\n                }\n                fontSize={12}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n      {depositModal && (\n        <DepositModal onCancel={() => setdepositModal(false)} onDeposit={() => {}} />\n      )}\n    </div>\n  );\n};\n\nexport default CollateralModifyLoan;\n","import { BigNumber } from 'ethers';\nimport React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useWithdrawARTH from '../../../hooks/callbacks/borrowerOperations/useWithdrawARTH';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  currentDebt: BigNumber;\n  addedDebt: BigNumber;\n  borrowingFee: BigNumber;\n  borrowingFeeRate: BigNumber;\n  cr: BigNumber;\n  newCR: BigNumber;\n  troveCollateral: BigNumber;\n  openModal: boolean;\n  onClose: () => void;\n  trove: string;\n  onSuccess: () => void;\n}\n\nconst ConfirmGenerateARTH = (props: Iprops) => {\n  const {\n    currentDebt,\n    addedDebt,\n    borrowingFee,\n    borrowingFeeRate,\n    cr,\n    newCR,\n    troveCollateral,\n    openModal,\n    onClose,\n    trove,\n    onSuccess,\n  } = props;\n\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const withdrawARTH = useWithdrawARTH(\n    troveDetail.contractPrefix,\n    borrowingFeeRate,\n    addedDebt.sub(borrowingFee),\n    currentDebt.add(addedDebt),\n    troveCollateral,\n  );\n\n  const handleWithdraw = () => {\n    withdrawARTH(() => {\n      onSuccess();\n      onClose();\n    });\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Confirm Generate ARTH'}\n        open={openModal}\n        handleClose={() => onClose()}\n        closeButton\n      >\n        <div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Generating ARTH amount'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(addedDebt, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'Current Debt amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(currentDebt, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'New Debt amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(currentDebt.add(addedDebt), 18, 3),\n                ).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'One-time fee'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(borrowingFee, 18, 3)).toLocaleString() +\n                  '(' +\n                  Number(getDisplayBalance(borrowingFeeRate, 16, 3)).toLocaleString() +\n                  '%)'\n                }\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current Collateral Ratio'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(cr, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-32\">\n            <TextWrapper text={'New Collateral Ratio'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(newCR, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <Grid container spacing={2}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id=\"modify_loan_generate_ARTH\"\n                tracking_params={{\n                  action: 'cancel',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedDebt, 18, 3)),\n                }}\n              >\n                Cancel\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                onClick={handleWithdraw}\n                tracking_id=\"modify_loan_generate_ARTH\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedDebt, 18, 3)),\n                }}\n              >\n                Confirm Generate ARTH\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default ConfirmGenerateARTH;\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (\n  symbol: string,\n  feeRate: BigNumber,\n  withdrawARTHAmount: BigNumber,\n  debtAmount: BigNumber, // Total debt after the modification.\n  collateralAmount: BigNumber, // Total collateral after the modification.\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetActiveChainId();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(symbol, activeChainId);\n\n        const [\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        ]: string[] = await findHintsForNominalCollateralRatio(\n          collateralAmount.mul(DECIMALS_18.mul(100)).div(debtAmount),\n          core.getSortedTroves(symbol, activeChainId),\n          core.getHintHelper(symbol, activeChainId),\n          core.getTroveManager(symbol, activeChainId),\n          core.myAccount,\n        );\n\n        const response = await contract.withdrawLUSD(\n          feeRate,\n          withdrawARTHAmount,\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        );\n\n        addTransaction(response, {\n          summary: `Generate ${Number(\n            getDisplayBalance(withdrawARTHAmount, 18, 3),\n          ).toLocaleString()} ARTH from Loan on ${symbol.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      symbol,\n      core,\n      addTransaction,\n      addPopup,\n      withdrawARTHAmount,\n      debtAmount,\n      collateralAmount,\n      feeRate,\n      activeChainId,\n    ],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useRepayARTH from '../../../hooks/callbacks/borrowerOperations/useRepayARTH';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from \"../../../utils/tokenDetails\";\nimport { useGetActiveChainId } from \"../../../state/chains/hooks\";\n\ninterface Iprops {\n  trove: string;\n  currentDebt: BigNumber;\n  removedDebt: BigNumber;\n  cr: BigNumber;\n  newCR: BigNumber;\n  troveCollateral: BigNumber;\n  openModal: boolean;\n  onClose: () => void;\n  symbol: string;\n  onSuccess: () => void;\n}\n\nconst ConfirmPaybackARTH = (props: Iprops) => {\n  const {\n    trove,\n    currentDebt,\n    removedDebt,\n    cr,\n    newCR,\n    troveCollateral,\n    openModal,\n    onClose,\n    symbol,\n    onSuccess,\n  } = props;\n\n  const chainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, chainId);\n\n  const repayARTH = useRepayARTH(\n    troveDetail.contractPrefix,\n    removedDebt,\n    currentDebt.sub(removedDebt),\n    troveCollateral,\n  );\n\n  const handleRepayARTH = () => {\n    repayARTH(() => {\n      onSuccess();\n      onClose();\n    });\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Confirm Payback ARTH'}\n        open={openModal}\n        handleClose={() => onClose()}\n        closeButton\n      >\n        <div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'Payback ARTH amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(removedDebt, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'Current Debt amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(currentDebt, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'New Debt amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(currentDebt.sub(removedDebt), 18, 3),\n                ).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current Collateral Ratio'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(cr, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-32\">\n            <TextWrapper text={'New Collateral Ratio'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(newCR, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <Grid container spacing={2} className={'m-t-32'}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id=\"modify_loan_payback_ARTH\"\n                tracking_params={{\n                  action: 'cancel',\n                  collateral: symbol,\n                  amount: Number(getDisplayBalance(removedDebt, 18, 3)),\n                }}\n              >\n                Cancel\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                onClick={handleRepayARTH}\n                tracking_id=\"modify_loan_payback_ARTH\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: symbol,\n                  amount: Number(getDisplayBalance(removedDebt, 18, 3)),\n                }}\n              >\n                Confirm Payback ARTH\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default ConfirmPaybackARTH;\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (\n  contractPrefix: string,\n  paybackARTHAmount: BigNumber,\n  debtAmount: BigNumber, // Total debt after the modification.\n  collateralAmount: BigNumber, // Total collateral after the modification.\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetActiveChainId();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(contractPrefix, activeChainId);\n\n        const [\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        ]: string[] = await findHintsForNominalCollateralRatio(\n          collateralAmount.mul(DECIMALS_18.mul(100)).div(debtAmount),\n          core.getSortedTroves(contractPrefix, activeChainId),\n          core.getHintHelper(contractPrefix, activeChainId),\n          core.getTroveManager(contractPrefix, activeChainId),\n          core.myAccount,\n        );\n\n        const response = await contract.repayLUSD(\n          paybackARTHAmount,\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        );\n\n        addTransaction(response, {\n          summary: `Payback ${Number(\n            getDisplayBalance(paybackARTHAmount, 18, 3),\n          ).toLocaleString()} ARTH from Loan on ${contractPrefix.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      core,\n      contractPrefix,\n      activeChainId,\n      collateralAmount,\n      debtAmount,\n      paybackARTHAmount,\n      addTransaction,\n      addPopup,\n    ],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport CustomInputContainer from '../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../components/CustomInputContainer/RegexValidation';\nimport useApprove, { ApprovalState } from '../../hooks/callbacks/useApprove';\nimport useGetBorrowingFeeRateWithDecay from '../../hooks/state/troveManager/useGetBorrowingFeeRateWithDecay';\nimport useGetIsRecoveryMode from '../../hooks/state/troveManager/useGetIsRecoveryMode';\nimport useGetTrove from '../../hooks/state/troveManager/useGetTrove';\nimport useCollateralPriceFeed from '../../hooks/state/useCollateralPriceFeed';\nimport useTokenBalance from '../../hooks/state/useTokenBalance';\nimport useCore from '../../hooks/useCore';\nimport {\n  ARTH_GAS_COMPENSATION,\n  DECIMALS_18,\n  MIN_NET_DEBT,\n} from '../../protocol/constants';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport Button from '../../theme/components/Button';\nimport InfoTip from '../../theme/components/InfoTip';\nimport SuccessModal from '../../theme/components/SuccesModal';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport ToolTip from '../../theme/components/Tooltip';\nimport { crParameters, getDisplaycrParameters } from '../../utils/crParameters';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport { troveDetails } from '../../utils/tokenDetails';\n\nimport ConfirmGenerateARTH from './modal/ConfirmGenerateARTH';\nimport ConfirmPaybackARTH from './modal/ConfirmPaybackARTH';\nimport { useWallet } from \"use-wallet\";\n\ninterface Iprops {\n  trove: string;\n}\n\nconst DebtModifyLoan = (props: Iprops) => {\n  const { trove } = props;\n  const currentSymbol = 'ARTH';\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const [paybackDebtAmount, setPaybackDebtAmount] = useState<string>('0');\n  const [generateDebtAmount, setGenerateDebtAmount] = useState<string>('0');\n  const [isPaybackFieldError, setIsPaybackFieldError] = useState<boolean>(false);\n  const [openPaybackConfirmationModal, setOpenPaybackConfirmationModal] = useState<boolean>(\n    false,\n  );\n  const [openGenerateConfirmationModal, setOpenGenerateConfirmationModal] = useState<boolean>(\n    false,\n  );\n  const [openSuccessModal, setOpenSuccessModal] = useState<boolean>(false);\n  const { account } = useWallet();\n  const getTrove = useGetTrove(trove, account);\n  const isRecoveryMode = useGetIsRecoveryMode(troveDetail.depositToken);\n  const borrowRate = useGetBorrowingFeeRateWithDecay(troveDetail.depositToken);\n  const collateralGMUPrice = useCollateralPriceFeed(troveDetail.depositToken, troveDetail.contractPrefix);\n\n  const [collatApproveStatus, approveCollateral] = useApprove(\n    core.tokens('ARTH', activeChainId),\n    core.getController(troveDetail.contractPrefix, activeChainId)?.address || undefined,\n  );\n  console.log('hit', core.tokens('ARTH', activeChainId),\n    core.getController(troveDetail.contractPrefix, activeChainId)?.address || undefined)\n  const isARTHApproved = useMemo(() => collatApproveStatus === ApprovalState.APPROVED, [\n    collatApproveStatus,\n  ]);\n  const isARTHApproving = useMemo(() => collatApproveStatus === ApprovalState.PENDING, [\n    collatApproveStatus,\n  ]);\n\n  const arthBalance = useTokenBalance(core.tokens(currentSymbol, activeChainId));\n\n  const collateralRatio = useMemo(() => {\n    if (collateralGMUPrice.isLoading || getTrove.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (getTrove.value.debt.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    const ratio = getTrove.value.coll\n      .mul(collateralGMUPrice.value)\n      .mul(100)\n      .div(getTrove.value.debt);\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [getTrove, collateralGMUPrice]);\n\n  const modifiedCollatrealRatio = useMemo(() => {\n    if (collateralGMUPrice.isLoading || getTrove.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (getTrove.value.debt.lte(0) || getTrove.value.coll.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n    const generateDebtBN = BigNumber.from(parseUnits(generateDebtAmount, 18));\n    const paybackDebtBN = BigNumber.from(parseUnits(paybackDebtAmount, 18));\n    if (paybackDebtBN.gt(getTrove.value.debt))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    const bnDebt = getTrove.value.debt.add(generateDebtBN).sub(paybackDebtBN);\n    const ratio = getTrove.value.coll.mul(collateralGMUPrice.value).mul(100).div(bnDebt);\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [getTrove, generateDebtAmount, paybackDebtAmount, collateralGMUPrice]);\n\n  const isModifiedCollateralRatioBelowMin = useMemo(() => {\n    if (isRecoveryMode.isLoading || modifiedCollatrealRatio.isLoading) return false;\n    const crData = crParameters(trove, activeChainId);\n    return !isRecoveryMode.value\n      ? modifiedCollatrealRatio.value.lte(DECIMALS_18.mul(crData.mcr).div(1000))\n      : modifiedCollatrealRatio.value.lte(DECIMALS_18.mul(crData.ccr).div(1000));\n  }, [\n    isRecoveryMode.isLoading,\n    isRecoveryMode.value,\n    modifiedCollatrealRatio.isLoading,\n    modifiedCollatrealRatio.value,\n    trove,\n    activeChainId,\n  ]);\n\n  const isCollateralRatioBelowMin = useMemo(() => {\n    if (isRecoveryMode.isLoading || collateralRatio.isLoading) return false;\n    const crData = crParameters(trove, activeChainId);\n    return !isRecoveryMode.value\n      ? collateralRatio.value.lte(DECIMALS_18.mul(crData.mcr).div(1000))\n      : collateralRatio.value.lte(DECIMALS_18.mul(crData.ccr).div(1000));\n  }, [\n    activeChainId,\n    collateralRatio.isLoading,\n    collateralRatio.value,\n    isRecoveryMode.isLoading,\n    isRecoveryMode.value,\n    trove,\n  ]);\n\n  const borrowingFee = useMemo(() => {\n    if (borrowRate.isLoading || isRecoveryMode.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (isRecoveryMode.value)\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    return {\n      isLoading: false,\n      value: BigNumber.from(parseUnits(generateDebtAmount, 18))\n        .mul(borrowRate.value)\n        .div(DECIMALS_18),\n    };\n  }, [borrowRate, isRecoveryMode, generateDebtAmount]);\n\n  const isModifiedDebtBelowMinDebt = useMemo(() => {\n    if (getTrove.isLoading) return false;\n    const bn = BigNumber.from(parseUnits(paybackDebtAmount, 18));\n    if (getTrove.value.debt.lt(bn)) return true;\n    return getTrove.value.debt\n      .sub(BigNumber.from(parseUnits(paybackDebtAmount, 18)))\n      .lt(ARTH_GAS_COMPENSATION.add(MIN_NET_DEBT));\n  }, [paybackDebtAmount, getTrove]);\n\n  const onGenerateValueChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setGenerateDebtAmount('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setPaybackDebtAmount('0');\n    setGenerateDebtAmount(check ? val : String(Number(val)));\n  };\n\n  const onPaybackValueChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setPaybackDebtAmount('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setGenerateDebtAmount('0');\n    setPaybackDebtAmount(check ? val : String(Number(val)));\n  };\n\n  const resetFields = () => {\n    setGenerateDebtAmount('0');\n    setPaybackDebtAmount('0');\n  };\n\n  return (\n    <div>\n      <ConfirmGenerateARTH\n        currentDebt={getTrove.value.debt}\n        addedDebt={BigNumber.from(parseUnits(generateDebtAmount, 18))}\n        borrowingFee={borrowingFee.value}\n        borrowingFeeRate={borrowRate.value}\n        cr={collateralRatio.value}\n        newCR={modifiedCollatrealRatio.value}\n        troveCollateral={getTrove.value.coll}\n        trove={trove}\n        openModal={openGenerateConfirmationModal}\n        onClose={() => setOpenGenerateConfirmationModal(false)}\n        onSuccess={() => {\n          setOpenSuccessModal(true);\n          setOpenGenerateConfirmationModal(false);\n        }}\n      />\n      <ConfirmPaybackARTH\n        trove={trove}\n        currentDebt={getTrove.value.debt}\n        removedDebt={BigNumber.from(parseUnits(paybackDebtAmount, 18))}\n        cr={collateralRatio.value}\n        newCR={modifiedCollatrealRatio.value}\n        troveCollateral={getTrove.value.coll}\n        symbol={troveDetail.depositToken}\n        openModal={openPaybackConfirmationModal}\n        onClose={() => setOpenPaybackConfirmationModal(false)}\n        onSuccess={() => {\n          setOpenSuccessModal(true);\n          setOpenPaybackConfirmationModal(false);\n        }}\n      />\n      <SuccessModal\n        modalOpen={openSuccessModal}\n        setModalOpen={() => {\n          resetFields();\n          setOpenSuccessModal(false);\n        }}\n        title={'Your transaction is being mined on blockchain'}\n        buttonText={'Close'}\n      />\n      {isModifiedDebtBelowMinDebt && (\n        <div className=\"m-b-24\">\n          <InfoTip\n            type={'Warning'}\n            msg={`You can not reduce your total debt below ${Number(\n              getDisplayBalance(MIN_NET_DEBT, 18, 3),\n            ).toLocaleString()} ARTH.`}\n          />\n        </div>\n      )}\n      {isCollateralRatioBelowMin && (\n        <div className=\"m-b-24\">\n          <InfoTip\n            type={'Warning'}\n            msg={\n              !isRecoveryMode.value\n                ? `Collateral ratio is below ${getDisplaycrParameters(trove, activeChainId).mcr\n                }% and can be liquidated. Add ${troveDetail.depositToken.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n                : `System is currently in Recovery Mode. Collateral ratio is below ${getDisplaycrParameters(trove, activeChainId).ccr\n                }% and can be liquidated. Add ${troveDetail.depositToken.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n            }\n          />\n        </div>\n      )}\n      {isModifiedCollateralRatioBelowMin &&\n        (Number(paybackDebtAmount) || Number(generateDebtAmount)) ? (\n        <div className=\"m-b-24\">\n          <InfoTip\n            type={'Warning'}\n            msg={\n              !isRecoveryMode.value\n                ? `The modified loan has Collateral ratio is below ${getDisplaycrParameters(trove, activeChainId).mcr\n                }% and can be liquidated. Add ${troveDetail.depositToken.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n                : `System is currently in Recovery Mode. The modified loan has Collateral ratio is below ${getDisplaycrParameters(trove, activeChainId).ccr\n                }% and can be liquidated. Add ${troveDetail.depositToken.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n            }\n          />\n        </div>\n      ) : null}\n      <div className=\"p-b-32 bottom-divider\">\n        <CustomInputContainer\n          ILabelValue={'Generate'}\n          IBalanceValue={`${getDisplayBalance(arthBalance.value, 18)}`}\n          isBalanceLoading={arthBalance.isLoading}\n          ILabelInfoValue={''}\n          disabled={arthBalance.isLoading}\n          DefaultValue={generateDebtAmount.toString()}\n          LogoSymbol={currentSymbol}\n          hasDropDown={false}\n          SymbolText={currentSymbol}\n          inputMode={'numeric'}\n          setText={(val: string) => {\n            onGenerateValueChange(val);\n          }}\n          tagText={'MAX'}\n          tokenDecimals={18}\n        />\n        <div className=\"m-t-20\">\n          <Button\n            disabled={\n              !Number(generateDebtAmount) ||\n              isCollateralRatioBelowMin ||\n              isModifiedCollateralRatioBelowMin\n            }\n            onClick={() => setOpenGenerateConfirmationModal(true)}\n            tracking_id=\"modify_loan_generate_ARTH\"\n            tracking_params={{\n              action: 'initial',\n              collateral: trove,\n              amount: Number(generateDebtAmount),\n            }}\n          >\n            Generate ARTH\n          </Button>\n        </div>\n      </div>\n      <div className=\"p-t-20\">\n        <CustomInputContainer\n          ILabelValue={'Payback'}\n          showBalance={false}\n          IBalanceValue={`${getDisplayBalance(getTrove.value.debt, 18)}`}\n          isBalanceLoading={arthBalance.isLoading || getTrove.isLoading}\n          DefaultValue={paybackDebtAmount.toString()}\n          ILabelInfoValue={''}\n          LogoSymbol={currentSymbol}\n          disabled={arthBalance.isLoading || getTrove.isLoading}\n          hasDropDown={false}\n          SymbolText={currentSymbol}\n          setText={(val: string) => {\n            onPaybackValueChange(val);\n          }}\n          tagText={'MAX'}\n          errorCallback={(flag: boolean) => setIsPaybackFieldError(flag)}\n          tokenDecimals={18}\n        />\n        <div className=\"single-line-center-between m-t-12 m-b-16\">\n          <div />\n          <div className=\"single-line-center-between\">\n            <TextWrapper text={`Current Debt`} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags\">\n              {getTrove.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(getTrove.value.debt, 18, 3)).toLocaleString() +\n                    ' ARTH'\n                  }\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n        <div className=\"m-t-20\">\n          {!isARTHApproved && (activeChainId === 137 || activeChainId === 80001) ? (\n            <Button\n              disabled={\n                isPaybackFieldError ||\n                !Number(paybackDebtAmount) ||\n                isARTHApproved ||\n                isARTHApproving ||\n                isModifiedDebtBelowMinDebt\n              }\n              loading={isARTHApproving}\n              onClick={approveCollateral}\n              tracking_id=\"approve_modify_loan_payback_ARTH\"\n              tracking_params={{ collateral: trove }}\n            >\n              Approve\n            </Button>\n          ) : (\n            <Button\n              disabled={\n                isPaybackFieldError || !Number(paybackDebtAmount) || isModifiedDebtBelowMinDebt\n              }\n              onClick={() => setOpenPaybackConfirmationModal(true)}\n              tracking_id=\"modify_loan_payback_ARTH\"\n              tracking_params={{\n                action: 'initial',\n                collateral: trove,\n                amount: Number(paybackDebtAmount),\n              }}\n            >\n              Payback ARTH\n            </Button>\n          )}\n        </div>\n      </div>\n      <div className=\"m-t-20\">\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Current Collateral Ratio'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The ratio between the $GMU value of the collateral and the debt (in ARTH) you are depositing. While the Minimum Collateral Ratio is ${getDisplaycrParameters(trove, activeChainId).mcr\n                }% during normal operation, it is recommended to keep the Collateral Ratio always above ${getDisplaycrParameters(trove, activeChainId).ccr\n                }% to avoid liquidation under Recovery Mode. A Collateral Ratio above 200% or 250% is recommended for additional safety.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {collateralRatio.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={Number(getDisplayBalance(collateralRatio.value, 18, 3)).toLocaleString()}\n                fontSize={12}\n              />\n            )}\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'%'} fontSize={12} />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'New Collateral Ratio'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The ratio between the $GMU value of the collateral and the debt (in ARTH) you are depositing. While the Minimum Collateral Ratio is ${getDisplaycrParameters(trove, activeChainId).mcr\n                }% during normal operation, it is recommended to keep the Collateral Ratio always above ${getDisplaycrParameters(trove, activeChainId).ccr\n                }% to avoid liquidation under Recovery Mode. A Collateral Ratio above 200% or 250% is recommended for additional safety.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {modifiedCollatrealRatio.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  modifiedCollatrealRatio.value.eq(collateralRatio.value)\n                    ? '0'\n                    : Number(\n                      getDisplayBalance(modifiedCollatrealRatio.value, 18, 3),\n                    ).toLocaleString()\n                }\n                fontSize={12}\n              />\n            )}\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'%'} fontSize={12} />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'One-time fee'} fontSize={12} />\n            <ToolTip\n              toolTipText={\n                'This amount is deducted from the borrowed amount as a one-time fee. There are no recurring fees for borrowing, which is thus interest-free.'\n              }\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {borrowingFee.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={Number(getDisplayBalance(borrowingFee.value, 18, 3)).toLocaleString()}\n                fontSize={12}\n              />\n            )}\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'ARTH'} fontSize={12} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DebtModifyLoan;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nimport IconLoader from '../../theme/components/IconLoader';\nimport InfoTip from '../../theme/components/InfoTip';\n\nimport CollateralModifyLoan from './CollateralModifyLoan';\nimport DebtModifyLoan from './DebtModifyLoan';\nimport { useParams } from \"react-router-dom\";\nimport { useGetActiveChainId } from \"../../state/chains/hooks\";\nimport { troveDetails } from \"../../utils/tokenDetails\";\nimport useGetTrove from \"../../hooks/state/troveManager/useGetTrove\";\nimport LoadingPage from \"../../components/LoadingPage\";\nimport TextWrapper from \"../../theme/components/TextWrapper\";\nimport PageHeader from \"../../theme/components/PageHeader\";\nimport LoanInfo from \"../LoanInfo/LoanInfo\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useWallet } from \"use-wallet\";\n\nconst ModifyLoan = () => {\n  const { trove } = useParams();\n  const chainId = useGetActiveChainId();\n  const troveDetail = troveDetails(trove, chainId);\n  const { account } = useWallet();\n  const getTrove = useGetTrove(troveDetail.contractPrefix, account);\n  const [type, setType] = useState<'Collateral' | 'Debt'>('Collateral');\n\n  if (getTrove.isLoading) {\n    return (\n      <div style={{ position: 'relative', height: 'calc(100vh - 100px)' }}>\n        <LoadingPage />\n      </div>\n    );\n  }\n\n  if (getTrove.value.stake.lte(0)) {\n    window.location.href = '/#/loans/your-loans';\n    return (\n      <div className=\"m-t-40 m-b-40 material-primary\">\n        <TextWrapper\n          text={`You dont have any loan open for ${trove}`}\n          fontSize={24}\n          fontWeight={'bold'}\n          className=\"m-b-8\"\n          align=\"center\"\n        />\n        <TextWrapper\n          text={'Open Interest free loan with leveraged position from the leverage strategies'}\n          fontSize={18}\n          className=\"m-b-8\"\n          Fcolor={'#FFFFFF64'}\n          align={'center'}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"custom-container\">\n      <PageHeader\n        title={`MODIFY ${trove.toUpperCase()} LOAN`}\n        subTitle={'Borrow ARTH against different collaterals at 0% interest.'}\n        showLearnMore={true}\n        learnMoreLink={'https://docs.arthcoin.com/protocol/introduction-arth-loans'}\n      />\n      <Grid container style={{ marginTop: '24px' }} spacing={2}>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <LeftTopCard className={'custom-mahadao-container'}>\n            <LeftTopCardHeader className={'custom-mahadao-container-header'}>\n              <div className=\"m-r-12 single-line-center-start pointer\">\n                <IconLoader\n                  iconName={'ArrowLeft'}\n                  iconType=\"arrow\"\n                  onClick={() => window.history.back()}\n                />\n              </div>\n              <div style={{ display: 'flex', flex: '1' }}>\n                <TabContainer onClick={() => setType('Collateral')}>\n                  {type === 'Collateral' && <ActiveTab />}\n                  <TabText>Collateral</TabText>\n                </TabContainer>\n                <TabContainer onClick={() => setType('Debt')}>\n                  {type === 'Debt' && <ActiveTab />}\n                  <TabText>Debt</TabText>\n                </TabContainer>\n              </div>\n            </LeftTopCardHeader>\n            <div className={'custom-mahadao-container-content'}>\n              <div className=\"m-b-12\">\n                <InfoTip\n                  type={'Warning'}\n                  msg={\n                    <div>\n                      Please understand the price mechanics of ARTH when modifying a loan. ARTH's price\n                      is stable in the short term but appreciates over the long-term. Read{' '}\n                      <a\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        href=\"https://docs.arthcoin.com/target-price-for-arth\"\n                        className={'links bold'}\n                      >\n                        the documentation\n                      </a>{' '}\n                      for more info.\n                    </div>\n                  }\n                />\n              </div>\n              {type === 'Collateral' && <CollateralModifyLoan trove={trove} />}\n              {type === 'Debt' && <DebtModifyLoan trove={trove} />}\n            </div>\n          </LeftTopCard>\n        </Grid>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <LoanInfo trove={trove} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default ModifyLoan;\n\nconst LeftTopCard = styled.div``;\n\nconst LeftTopCardHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst TabContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 12px 12px;\n  width: 100px;\n  height: 80px;\n  z-index: 1;\n  cursor: pointer;\n  position: relative;\n`;\n\nconst TabText = styled.span`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.88);\n`;\n\nconst ActiveTab = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 2px;\n  z-index: 0;\n  background: linear-gradient(81.26deg, #f47f57 14.65%, #fd5656 83.88%);\n  border-radius: 2px 2px 0 0;\n  bottom: 0;\n`;\n","import { getDisplayBalance } from \"../../../utils/formatBalance\";\nimport Input from \"../../../theme/components/Input\";\nimport CollateralDropDown from \"../../../theme/components/CollateralDropDown\";\nimport TextWrapper from \"../../../theme/components/TextWrapper\";\nimport theme from \"../../../theme\";\nimport InputContainer from \"../../../theme/components/InputContainer\";\nimport React, { useState } from \"react\";\nimport useCore from \"../../../hooks/useCore\";\nimport { useGetActiveChainId } from \"../../../state/chains/hooks\";\nimport useTokenBalance from \"../../../hooks/state/useTokenBalance\";\nimport { BigNumber } from \"ethers\";\nimport { parseUnits } from \"ethers/lib/utils\";\n\ninterface IProps {\n  selectedToken: string;\n  setTokenSupplyObj: (key: string, value: string) => void;\n  setTokenBalanceObj: (key: string, value: BigNumber) => void;\n}\n\nconst Inputs = (props: IProps) => {\n  const {selectedToken, setTokenSupplyObj, setTokenBalanceObj} = props;\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n  const ERC20token = core.tokens(selectedToken, chainId);\n  const tokenBalance = useTokenBalance(ERC20token);\n  const [amount, setAmount] = useState<string>('');\n\n  if (!tokenBalance.isLoading) {\n    setTokenBalanceObj(selectedToken, tokenBalance.value);\n  }\n\n  return (\n    <InputContainer\n      label={'Enter Amount'}\n      dataLabel={'Balance:'}\n      dataValue={Number(getDisplayBalance(tokenBalance.value, ERC20token.decimal, 3)).toLocaleString()}\n      className={'m-b-16'}\n    >\n      <div className={'single-line-center-between'}>\n        <Input\n          value={amount}\n          setValue={(value) => {\n            setAmount(value)\n            setTokenSupplyObj(selectedToken, value);\n          }}\n          maxTag={true}\n          onMaxClick={() => {\n            setAmount(Number(getDisplayBalance(tokenBalance.value, ERC20token.decimal, 3)).toString());\n            setTokenSupplyObj(selectedToken, Number(getDisplayBalance(tokenBalance.value, ERC20token.decimal, 3)).toString());\n          }}\n        />\n        <CollateralDropDown\n          selectedCollateral={selectedToken}\n          hasDropDown={false}\n        />\n      </div>\n      {\n        tokenBalance.value.lt(BigNumber.from(parseUnits(amount || '0', ERC20token.decimal))) &&\n          <TextWrapper\n            text={`Input cannot be greater than your ${selectedToken} balance`}\n            Fcolor={theme.color.red[300]}\n            fontSize={12}\n            className={'m-t-4'}\n          />\n      }\n    </InputContainer>\n  )\n}\n\nexport default Inputs;\n","import React from \"react\";\nimport DataField from \"../../../theme/components/DataField\";\nimport { getDisplayBalance } from \"../../../utils/formatBalance\";\nimport useGet3PoolVirtualPrice from \"../../../hooks/state/pool/useGet3PoolVirtualPrice\";\n\ninterface IProps {\n  minterContract: string;\n}\n\nconst Price = (props: IProps) => {\n  const {minterContract} = props;\n  const price = useGet3PoolVirtualPrice(minterContract);\n\n  return (\n    <DataField\n      label={'Price'}\n      value={Number(getDisplayBalance(price.value, 18, 6)).toLocaleString()}\n      valueTag={'USD'}\n      className={'m-b-8'}\n    />\n  )\n}\n\nexport default Price\n","import { BigNumber, Contract } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport ERC20 from '../../../protocol/ERC20';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\n\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value:BigNumber;\n};\n\nexport default (contractName: string) => {\n  const [price, setPrice] = useState<State>({\n    isLoading: true,\n    value: BigNumber.from(0),\n  });\n\n  const core = useCore();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    const contract = core.contracts(contractName, activeChainId);\n    setPrice({\n      isLoading: false,\n      value: await contract.get_virtual_price(),\n    });\n  }, [core, activeChainId, contractName]);\n\n  useEffect(() => {\n    fetchValue().catch((err) =>\n      console.error(`Failed to fetch ${contractName} pool token price: ${err.stack}`),\n    );\n  }, [blockNumber, core, contractName, activeChainId, fetchValue]);\n\n  return price;\n};\n","import { BigNumber, Contract } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport ERC20 from '../../../protocol/ERC20';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\n\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value:BigNumber;\n};\n\nexport default (poolContractName: string, amountIn1: BigNumber, amountIn2: BigNumber, amountIn3: BigNumber, amountIn4: BigNumber) => {\n  const [amountOut, setAmountOut] = useState<State>({\n    isLoading: true,\n    value: BigNumber.from(0),\n  });\n\n  const core = useCore();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    const contract = core.contracts('ZapDepositor', activeChainId);\n    const poolContract = core.contracts(poolContractName, activeChainId);\n\n    const amountOut = await contract.calc_token_amount(\n      poolContract.address,\n      [\n        amountIn1,\n        amountIn2,\n        amountIn3,\n        amountIn4\n      ],\n      true\n    );\n    \n    setAmountOut({\n      isLoading: false,\n      value: amountOut,\n    });\n  }, [\n    core, \n    activeChainId, \n    poolContractName, \n    amountIn1,\n    amountIn2,\n    amountIn3,\n    amountIn4\n  ]);\n\n  useEffect(() => {\n    fetchValue().catch((err) =>\n      console.error(`Failed to fetch out lp tokens amount: ${err.stack}`),\n    );\n  }, [\n    blockNumber, \n    core, \n    poolContractName, \n    activeChainId, \n    fetchValue,\n    amountIn1,\n    amountIn2,\n    amountIn3,\n    amountIn4\n  ]);\n\n  return amountOut;\n};\n","import React, { useMemo, useState } from \"react\";\nimport DataField from \"../../../theme/components/DataField\";\nimport { getDisplayBalance } from \"../../../utils/formatBalance\";\nimport useTotalSupply from \"../../../hooks/useTotalSupply\";\nimport { BigNumber } from \"ethers\";\nimport { DECIMALS_18 } from \"../../../protocol/constants\";\nimport useGetLpTokenOut from \"../../../hooks/state/pool/useGetLpTokenOut\";\nimport { parseUnits } from \"ethers/lib/utils\";\nimport useCore from \"../../../hooks/useCore\";\nimport { useGetActiveChainId } from \"../../../state/chains/hooks\";\n\ninterface IProps {\n  lpToken: string;\n  minterContract: string;\n  selectedToken: string;\n  firstCoinAmount: string;\n  underlyingtokensObj: object;\n  token3PoolUnderlyingTokens: string[];\n}\n\nconst ShareOfPool = (props: IProps) => {\n  const {lpToken, minterContract, selectedToken, firstCoinAmount, underlyingtokensObj, token3PoolUnderlyingTokens} = props;\n  const lpERC20TotalSupply = useTotalSupply(lpToken);\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n\n  const firstCoinERC20 = core.tokens(selectedToken, chainId);\n  const secondCoinERC20 = core.tokens(token3PoolUnderlyingTokens[0], chainId);\n  const thridCoinERC20 = core.tokens(token3PoolUnderlyingTokens[1], chainId);\n  const forthCoinERC20 = core.tokens(token3PoolUnderlyingTokens[2], chainId);\n\n  // @ts-ignore\n  const secondCoinAmount = underlyingtokensObj['BUSD'] || underlyingtokensObj['DAI'];\n  // @ts-ignore\n  const thirdCoinAmount = underlyingtokensObj['USDC'];\n  // @ts-ignore\n  const fourthCoinAmount = underlyingtokensObj['USDT'];\n\n   const lpTokensOut = useGetLpTokenOut(\n    minterContract,\n    selectedToken === 'ARTH.usd'\n      ? BigNumber.from(parseUnits(firstCoinAmount || '0', firstCoinERC20.decimal))\n      : BigNumber.from(parseUnits(firstCoinAmount || '0', firstCoinERC20.decimal)).mul(2e6).div(1e6),\n    BigNumber.from(parseUnits(secondCoinAmount || '0', secondCoinERC20.decimal)),\n    BigNumber.from(parseUnits(thirdCoinAmount || '0', thridCoinERC20.decimal)),\n    BigNumber.from(parseUnits(fourthCoinAmount || '0', forthCoinERC20.decimal))\n  );\n\n  const yourShare = useMemo(() => {\n    if (lpERC20TotalSupply.value.lte(0)) return BigNumber.from(0);\n    return lpTokensOut.value.mul(DECIMALS_18).mul(100).div(lpERC20TotalSupply.value)\n  }, [lpERC20TotalSupply.value, lpTokensOut.value]);\n\n  return (\n    <div>\n      <DataField\n        label={'Share of Pool'}\n        value={Number(getDisplayBalance(yourShare, 18, 6)).toLocaleString('en-US', {  maximumFractionDigits: 6}) + '%'}\n        className={'m-b-8'}\n      />\n      <DataField\n        label={'You will receive'}\n        value={Number(getDisplayBalance(lpTokensOut.value, 18, 6)).toLocaleString() + \" \" + lpToken}\n      />\n    </div>\n\n\n  )\n}\n\nexport default ShareOfPool;\n","import Button from \"../../../theme/components/Button\";\nimport React from \"react\";\nimport useAddARTHusdLiquidity from \"../../../hooks/callbacks/useAddARTHusdLiquidity\";\nimport { BigNumber } from \"ethers\";\nimport { parseUnits } from \"ethers/lib/utils\";\nimport useAddARTHLiquidity from \"../../../hooks/callbacks/useAddARTHLiquidity\";\nimport { getDisplayBalance } from \"../../../utils/formatBalance\";\nimport useGetLpTokenOut from \"../../../hooks/state/pool/useGetLpTokenOut\";\nimport useCore from \"../../../hooks/useCore\";\nimport { useGetActiveChainId } from \"../../../state/chains/hooks\";\n\ninterface IProps {\n  isButtonDisabled: boolean;\n  selectedToken: string;\n  token3PoolUnderlyingTokens: string[];\n  firstCoinAmount: string;\n  minterContract: string;\n  underlyingtokensObj: object;\n}\n\nconst ConfirmButton = (props: IProps) => {\n  const {isButtonDisabled, selectedToken, token3PoolUnderlyingTokens, firstCoinAmount, minterContract, underlyingtokensObj} = props;\n\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n  const firstCoinERC20 = core.tokens(selectedToken, chainId);\n  const secondCoinERC20 = core.tokens(token3PoolUnderlyingTokens[0], chainId);\n  const thridCoinERC20 = core.tokens(token3PoolUnderlyingTokens[1], chainId);\n  const forthCoinERC20 = core.tokens(token3PoolUnderlyingTokens[2], chainId);\n\n  // @ts-ignore\n  const secondCoinAmount = underlyingtokensObj['BUSD'] || underlyingtokensObj['DAI'];\n  // @ts-ignore\n  const thirdCoinAmount = underlyingtokensObj['USDC'];\n  // @ts-ignore\n  const fourthCoinAmount = underlyingtokensObj['USDT'];\n\n  const lpTokensOut = useGetLpTokenOut(\n    minterContract,\n    selectedToken === 'ARTH.usd'\n      ? BigNumber.from(parseUnits(firstCoinAmount || '0', firstCoinERC20.decimal))\n      : BigNumber.from(parseUnits(firstCoinAmount || '0', firstCoinERC20.decimal)).mul(2e6).div(1e6),\n    BigNumber.from(parseUnits(secondCoinAmount || '0', secondCoinERC20.decimal)),\n    BigNumber.from(parseUnits(thirdCoinAmount || '0', thridCoinERC20.decimal)),\n    BigNumber.from(parseUnits(fourthCoinAmount || '0', forthCoinERC20.decimal))\n  );\n\n  const arthUsdHandler = useAddARTHusdLiquidity(\n    Number(getDisplayBalance(lpTokensOut.value, 18, 6)).toString(),\n    BigNumber.from(parseUnits(firstCoinAmount || '0', firstCoinERC20.decimal)),\n    BigNumber.from(parseUnits(secondCoinAmount || '0', secondCoinERC20.decimal)),\n    BigNumber.from(parseUnits(thirdCoinAmount || '0', thridCoinERC20.decimal)),\n    BigNumber.from(parseUnits(fourthCoinAmount || '0', forthCoinERC20.decimal)),\n    BigNumber.from(parseUnits(Number(getDisplayBalance(lpTokensOut.value, 18, 6)).toString() || '0', 18))\n  );\n\n  const arthHandler = useAddARTHLiquidity(\n    Number(getDisplayBalance(lpTokensOut.value, 18, 6)).toString(),\n    BigNumber.from(parseUnits(firstCoinAmount || '0', firstCoinERC20.decimal)),\n    BigNumber.from(parseUnits(secondCoinAmount || '0', secondCoinERC20.decimal)),\n    BigNumber.from(parseUnits(thirdCoinAmount || '0', thridCoinERC20.decimal)),\n    BigNumber.from(parseUnits(fourthCoinAmount || '0', forthCoinERC20.decimal)),\n    BigNumber.from(parseUnits(Number(getDisplayBalance(lpTokensOut.value, 18, 6)).toString() || '0', 18))\n  );\n\n  return (\n    <Button\n      disabled={isButtonDisabled}\n      text={'Supply'}\n      size={'lg'}\n      onClick={selectedToken === 'ARTH.usd' ? arthUsdHandler : arthHandler}\n    />\n  )\n}\n\nexport default ConfirmButton;\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useAddPopup } from '../../state/application/hooks';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport formatErrorMessage from '../../utils/formatErrorMessage';\nimport useCore from '../useCore';\nimport { useSlippage } from '../../state/slippage/hooks';\n\nexport default function (\n  symbol: string,\n  arthUsdIn: BigNumber,\n  busdIn: BigNumber,\n  usdcIn: BigNumber,\n  usdtIn: BigNumber,\n  minLpTokenOut: BigNumber\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n  const slippage = useSlippage();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.contracts('SwapRouter', chainId);\n\n      const slippageRounded = Math.floor(slippage.value * 1e3) / 1e3;\n      const slippageAdjustedAmountout = !Number(slippage.value)\n        ? minLpTokenOut.mul(99).div(100)\n        : minLpTokenOut.sub(minLpTokenOut.mul(slippageRounded * 1e3).div(1e5))\n      \n      try {\n        const response = await contract.addLiquidityUsingARTHusd(\n          arthUsdIn,\n          busdIn,\n          usdcIn,\n          usdtIn,\n          slippageAdjustedAmountout.mul(99).div(100),\n          core.myAccount,\n          Math.floor(Date.now() / 1000) + 5 * 60\n        );\n\n        addTransaction(response, {\n          summary: `Add Liquidity for ${\n            Number(getDisplayBalance(minLpTokenOut,18)).toLocaleString('en-US', { maximumFractionDigits: 5})\n          } ${symbol.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      core, \n      chainId, \n      addTransaction, \n      slippage.value, \n      addPopup,\n      arthUsdIn,\n      busdIn,\n      usdcIn,\n      usdtIn,\n      minLpTokenOut, \n      symbol\n    ],\n  );\n\n  return action;\n}\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useAddPopup } from '../../state/application/hooks';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport formatErrorMessage from '../../utils/formatErrorMessage';\nimport useCore from '../useCore';\nimport { useSlippage } from '../../state/slippage/hooks';\n\nexport default function (\n  symbol: string,\n  arthUsdIn: BigNumber,\n  busdIn: BigNumber,\n  usdcIn: BigNumber,\n  usdtIn: BigNumber,\n  minLpTokenOut: BigNumber\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n  const slippage = useSlippage();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.contracts('SwapRouter', chainId);\n\n      const slippageRounded = Math.floor(slippage.value * 1e3) / 1e3;\n      const slippageAdjustedAmountout = !Number(slippage.value)\n        ? minLpTokenOut.mul(99).div(100)\n        : minLpTokenOut.sub(minLpTokenOut.mul(slippageRounded * 1e3).div(1e5))\n      \n      try {\n        const response = await contract.addLiquidityUsingARTH(\n          arthUsdIn,\n          busdIn,\n          usdcIn,\n          usdtIn,\n          slippageAdjustedAmountout.mul(99).div(100),\n          core.myAccount,\n          Math.floor(Date.now() / 1000) + 5 * 60\n        );\n\n        addTransaction(response, {\n          summary: `Add Liquidity for ${\n            Number(getDisplayBalance(minLpTokenOut,18)).toLocaleString('en-US', { maximumFractionDigits: 5})\n          } ${symbol.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      core, \n      chainId, \n      addTransaction, \n      slippage.value, \n      addPopup,\n      arthUsdIn,\n      busdIn,\n      usdcIn,\n      usdtIn,\n      minLpTokenOut, \n      symbol\n    ],\n  );\n\n  return action;\n}\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport useTokenBalance from \"../../../hooks/state/useTokenBalance\";\nimport { BigNumber } from \"ethers\";\nimport { parseUnits } from \"ethers/lib/utils\";\nimport { BNZERO, DECIMALS_18 } from \"../../../protocol/constants\";\nimport useApprove, { ApprovalState } from \"../../../hooks/callbacks/useApprove\";\nimport TextWrapper from \"../../../theme/components/TextWrapper\";\nimport theme from \"../../../theme\";\nimport { formatToBN, getDisplayBalance } from \"../../../utils/formatBalance\";\nimport Grid from \"@material-ui/core/Grid\";\nimport SlippageContainer from \"../../../components/SlippageContainer\";\nimport InputContainer from \"../../../theme/components/InputContainer\";\nimport Input from \"../../../theme/components/Input\";\nimport CollateralDropDown from \"../../../theme/components/CollateralDropDown\";\nimport Button from \"../../../theme/components/Button\";\nimport { PoolsStaticInfo } from \"../../../protocol/config\";\nimport useCore from \"../../../hooks/useCore\";\nimport { useGetActiveChainId } from \"../../../state/chains/hooks\";\nimport Inputs from \"./Inputs\";\nimport Price from \"./Price\";\nimport ApproveButtons from \"../../AddStrategies/components/ApproveButtons\";\nimport ShareOfPool from \"./ShareOfPool\";\nimport ConfirmButton from \"./ConfirmButton\";\n\ninterface IProps {\n  poolStaticInfo: PoolsStaticInfo;\n}\n\ninterface IApproval { [name: string]: 'Approved' | 'IsApproving' | 'NotApproved' }\n\nconst AddLquiditySection = (props: IProps) => {\n  const {poolStaticInfo} = props;\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n\n  const [firstCoinAmount, setFirstCoinAmount] = useState<string>('');\n  const [openDropDown, setOpenDropDown] = useState<boolean>(false);\n  const [selectedToken, setSelectedToken] = useState<string>('ARTH');\n  const supportedCollateral = ['ARTH', 'ARTH.usd'];\n\n  const [underlyingtokensObj, setUnderlyingtokensObj] = useState<{ [name: string]: string }>({});\n  const [underlyingtokensBalObj, setUnderlyingtokensBalObj] = useState<{ [name: string]: BigNumber }>({});\n  const [approvalStatus, setApprovalStatus] = useState<IApproval>({});\n\n  useEffect(() => {\n    poolStaticInfo.token3PoolUnderlyingTokens.forEach((t) => {\n      const supply = underlyingtokensObj;\n      supply[t] = '';\n      const bal = underlyingtokensBalObj;\n      bal[t] = BNZERO;\n      const status = approvalStatus;\n      status[t] = 'NotApproved';\n\n      setUnderlyingtokensObj(supply);\n      setUnderlyingtokensBalObj(bal)\n      setApprovalStatus({ ...status });\n\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [poolStaticInfo.token3PoolUnderlyingTokens]);\n\n  const [confirmModal, setConfirmModal] = useState<boolean>(false);\n\n  const firstCoinERC20 = core.tokens(selectedToken, chainId);\n\n  const firstCoinTokenBalance = useTokenBalance(firstCoinERC20);\n\n  const isFirstCoinInputGreaterThanBalance = useMemo(() => {\n    return firstCoinTokenBalance.value.lt(BigNumber.from(parseUnits(firstCoinAmount || '0', firstCoinERC20.decimal)))\n  }, [firstCoinAmount, firstCoinTokenBalance, firstCoinERC20]);\n\n  const [firstCoinApproveStatus, approveFirstCoin] = useApprove(\n    firstCoinERC20,\n    core.contracts('SwapRouter', chainId).address,\n  );\n\n  const isFirstCoinApproved = useMemo(() => firstCoinApproveStatus === ApprovalState.APPROVED, [firstCoinApproveStatus]);\n  const isFirstCoinApproving = useMemo(() => firstCoinApproveStatus === ApprovalState.PENDING, [firstCoinApproveStatus]);\n\n  const isButtonDisabled = useMemo(() => {\n    let checks = 0;\n\n    for (const [key, value] of Object.entries(underlyingtokensObj)) {\n      const token = core.tokens(key, chainId);\n      if (value !== '') checks++;\n      if (underlyingtokensBalObj[key].gte(formatToBN(underlyingtokensObj[key], token.decimal))) {\n        checks++;\n      }\n      if (approvalStatus[key] === 'Approved') checks ++\n    }\n\n    if (!isFirstCoinInputGreaterThanBalance) checks ++;\n    if (firstCoinAmount !== '') checks ++;\n    if (isFirstCoinApproved) checks ++;\n\n    return checks !== ((poolStaticInfo.token3PoolUnderlyingTokens.length * 3) + 3)\n  }, [approvalStatus,\n    chainId,\n    core,\n    firstCoinAmount,\n    isFirstCoinApproved,\n    isFirstCoinInputGreaterThanBalance,\n    poolStaticInfo.token3PoolUnderlyingTokens.length, underlyingtokensBalObj, underlyingtokensObj]);\n\n  const approvalButtons = useMemo(() => poolStaticInfo.token3PoolUnderlyingTokens.map((token) => {\n    const onlyOneCollateral = poolStaticInfo.token3PoolUnderlyingTokens.length === 1\n    return (\n      <Grid item lg={onlyOneCollateral ? 12 : 6} md={onlyOneCollateral ? 12 : 6} sm={12} xs={12}>\n        <ApproveButtons\n          key={token}\n          token={token}\n          contract={'SwapRouter'}\n          updateStatus={(data) => {\n            if (approvalStatus[token] !== data) {\n              const temp = approvalStatus;\n              temp[token] = data;\n              setApprovalStatus({ ...temp });\n            }\n          }}\n        />\n      </Grid>\n    )\n  }), [approvalStatus, poolStaticInfo.token3PoolUnderlyingTokens]);\n\n  return (\n    <div>\n\n      {/*<ConfirmLiquidity\n        lpToken={poolStaticInfo.lpToken}\n        selectedToken={selectedToken}\n        selectedTokenAmount={firstCoinAmount}\n        firstToken={poolStaticInfo.token3PoolUnderlyingTokens[0]}\n        secondToken={poolStaticInfo.token3PoolUnderlyingTokens[1]}\n        thirdToken={poolStaticInfo.token3PoolUnderlyingTokens[2]}\n        firstTokenDecimal={secondCoinERC20.decimal}\n        secondTokenDecimal={thridCoinERC20.decimal}\n        thirdTokenDecimal={forthCoinERC20.decimal}\n        firstTokenAmount={secondCoinAmount}\n        secondTokenAmount={thirdCoinAmount}\n        thirdTokenAmount={fourthCoinAmount}\n        shareOfPool={Number(getDisplayBalance(yourShare, 18, 6)).toLocaleString('en-US', { maximumFractionDigits: 6}) + '%'}\n        lpTokenOut={Number(getDisplayBalance(lpTokensOut.value, 18, 6)).toString()}\n        open={confirmModal}\n        onClose={() => setConfirmModal(false)}\n      />*/}\n      <Grid container>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <div className={'material-secondary'} style={{position: 'relative'}}>\n            <SlippageContainer />\n            <div className={'m-b-16'}/>\n            <InputContainer\n              label={'Enter Amount'}\n              dataLabel={'Balance:'}\n              dataValue={Number(getDisplayBalance(firstCoinTokenBalance.value, 18, 18)).toLocaleString()}\n              className={'m-b-16'}\n            >\n              <div className={'single-line-center-between'}>\n                <Input\n                  value={firstCoinAmount}\n                  setValue={setFirstCoinAmount}\n                  maxTag={true}\n                  onMaxClick={() => {\n                    setFirstCoinAmount(Number(getDisplayBalance(firstCoinTokenBalance.value, firstCoinERC20.decimal, 6)).toString());\n                  }}\n                />\n                <CollateralDropDown\n                  selectedCollateral={selectedToken}\n                  collateralTypes={supportedCollateral}\n                  showDropDown={openDropDown}\n                  toggleDropDown={() => setOpenDropDown(!openDropDown)}\n                  ondropDownValueChange={(data) => {\n                    setOpenDropDown(false)\n                    setSelectedToken(data)\n                  }}\n                  hasDropDown={true}\n                />\n              </div>\n              {\n                isFirstCoinInputGreaterThanBalance && <TextWrapper\n                  text={`Input cannot be greater than your ${selectedToken} balance`}\n                  Fcolor={theme.color.red[300]}\n                  fontSize={12}\n                  className={'m-t-4'}\n                />\n              }\n            </InputContainer>\n\n            {\n              poolStaticInfo.token3PoolUnderlyingTokens.map((item) => {\n                return (\n                  <Inputs\n                    selectedToken={item}\n                    setTokenSupplyObj={(key, value) => {\n                      const temp = underlyingtokensObj;\n                      temp[key] = value;\n                      setUnderlyingtokensObj({ ...temp });\n                    }}\n                    setTokenBalanceObj={(key, value) => {\n                      if (!underlyingtokensBalObj[key].eq(value)) {\n                        const temp = underlyingtokensBalObj;\n                        temp[key] = value;\n                        setUnderlyingtokensBalObj({ ...temp });\n                      }\n                    }}\n                  />\n                )\n              })\n            }\n            <div className={'m-t-12'}>\n              <Price minterContract={poolStaticInfo.minterContract} />\n              <ShareOfPool\n                lpToken={poolStaticInfo.lpToken}\n                minterContract={poolStaticInfo.minterContract}\n                selectedToken={selectedToken}\n                firstCoinAmount={firstCoinAmount}\n                underlyingtokensObj={underlyingtokensObj}\n                token3PoolUnderlyingTokens={poolStaticInfo.token3PoolUnderlyingTokens}\n              />\n            </div>\n            <div className={'m-t-32'}>\n              <Grid container spacing={2} direction={'row'}>\n                <Grid item lg={6} md={6} sm={12} xs={12}>\n                  <Button\n                    text={isFirstCoinApproved\n                        ? `${selectedToken} Approved`\n                        : `Approve ${selectedToken}`\n                    }\n                    onClick={\n                      !isFirstCoinApproved\n                        ? approveFirstCoin\n                        : () => {}\n                    }\n                    disabled={isFirstCoinApproved}\n                    loading={isFirstCoinApproving}\n                    tracking_id={'add_liquidity_approval'}\n                    tracking_params={{\n                      collateral: selectedToken,\n                    }}\n                  />\n                </Grid>\n                {approvalButtons}\n                <Grid item lg={12} md={12} sm={12} xs={12}>\n                  {Object.keys(underlyingtokensObj).length > 0 &&<ConfirmButton\n                    isButtonDisabled={isButtonDisabled}\n                    selectedToken={selectedToken}\n                    token3PoolUnderlyingTokens={poolStaticInfo.token3PoolUnderlyingTokens}\n                    firstCoinAmount={firstCoinAmount}\n                    minterContract={poolStaticInfo.minterContract}\n                    underlyingtokensObj={underlyingtokensObj}\n                  />}\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n\nexport default AddLquiditySection;\n","import React, { useMemo, useState } from 'react';\n\nimport useCore from \"../../hooks/useCore\";\nimport { useGetActiveChainId } from \"../../state/chains/hooks\";\nimport { useParams } from \"react-router-dom\";\nimport { PoolsStaticInfo } from \"../../protocol/config\";\nimport AddLquiditySection from \"./components/AddLquiditySection\";\nimport LoadingPage from \"../../components/LoadingPage\";\nimport TextWrapper from \"../../theme/components/TextWrapper\";\nimport theme from \"../../theme\";\nimport IconLoader from \"../../theme/components/IconLoader\";\nimport PageHeader from \"../../theme/components/PageHeader\";\n\nconst AddLiquidity = () => {\n  const { poolName } = useParams<{ poolName: string }>();\n  const [poolStaticInfo, setPoolStaticInfo] = useState<PoolsStaticInfo>(null);\n  const chainId = useGetActiveChainId();\n\n  const core = useCore();\n  const isPoolValid: boolean = useMemo(() => {\n    const pools = core.getLiquidityPools(chainId);\n    const pool = pools.filter((info) => info.name === poolName)\n    if (pool.length === 1) {\n      setPoolStaticInfo(pool[0])\n      return true\n    } else {\n      return false\n    }\n  }, [core, chainId, poolName]);\n\n  if (!isPoolValid) {\n    window.location.href = '/#/pools/';\n    return <div />;\n  }\n\n  if (poolStaticInfo === null) {\n    return (\n      <LoadingPage />\n    )\n  }\n\n  return (\n    <div className={'custom-container'}>\n      <div className={'m-b-20 single-line-center-start'}>\n        <a href={'/#/pools'}>\n          <TextWrapper text={'Pools'} Fcolor={theme.color.transparent[200]} />\n        </a>\n        <IconLoader iconName={'ArrowRight'} iconType={'arrow'} className={'m-r-4 m-l-4'} />\n        <TextWrapper text={'Add Liquidity'} Fcolor={theme.color.transparent[100]} />\n      </div>\n      <PageHeader\n        title={'ADD LIQUIDITY'}\n        subTitle={'A simple interface for you to add liquidity into the main ARTH LP'}\n      />\n      <AddLquiditySection poolStaticInfo={poolStaticInfo} />\n    </div>\n  )\n};\n\nexport default AddLiquidity;\n","import React, { useState } from \"react\";\n\nimport PageHeader from \"../../theme/components/PageHeader\";\nimport InputContainer from \"../../theme/components/InputContainer\";\nimport Input from \"../../theme/components/Input\";\nimport CollateralDropDown from \"../../theme/components/CollateralDropDown\";\nimport IconLoader from \"../../theme/components/IconLoader\";\nimport { Grid } from \"@material-ui/core\";\nimport styled from \"styled-components\";\nimport theme from \"../../theme\";\nimport TextWrapper from \"../../theme/components/TextWrapper\";\nimport Button from \"../../theme/components/Button\";\nimport InfoTip from \"../../theme/components/InfoTip\";\n\nconst Migration = () => {\n  const [supplyTokenValue, setSupplyTokenValue] = useState<string>('')\n  const [receiveTokenValue, setReceiveTokenValue] = useState<string>('100.00')\n\n  return (\n    <div className={'custom-container'}>\n      <PageHeader\n        title={'Migration'}\n        subTitle={'fefwefwe ewfwefwdwd dsfcsdasdas'}\n      />\n        <Grid container>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <div className={'material-secondary'}>\n              <InfoTip\n                type={'Info'}\n                msg={'Lorem Ipsum is simply dummy text of the printing and ' +\n                  'typesetting industry. Lorem Ipsum has been the industry\\'s ' +\n                  'standard dummy text ever since the 1500s,'}\n                className={'m-b-12'}\n              />\n              <div className={'m-b-32'}>\n                <InputContainer\n                  label={'Enter Amount'}\n                  dataLabel={'Balance'}\n                  dataValue={'0.00'}\n                >\n                  <div className={'single-line-center-between'}>\n                    <Input\n                      value={supplyTokenValue}\n                      setValue={setSupplyTokenValue}\n                      maxTag={true}\n                    />\n                    <CollateralDropDown\n                      selectedCollateral={'ARTH-ETHLP'}\n                    />\n                  </div>\n                </InputContainer>\n                <div className={'single-line-center-center p-t-12 p-b-12'}>\n                  <IconLoader iconName={'ArrowTailDown'} iconType={'arrow'} />\n                </div>\n                <Receive>\n                  <div className={'single-line-center-between'}>\n                    <TextWrapper\n                      text={'You Receive'}\n                      fontWeight={600}\n                      Fcolor={theme.color.transparent[100]}\n                      className=\"p-r-8\"\n                    />\n                    <div className={'single-line-center-end'}>\n                      {/*<IconLoader iconName={'ARTH-ETHLP'} iconType={'tokenSymbol'} className={'m-r-4'}/>*/}\n                      <TextWrapper\n                        text={receiveTokenValue}\n                        fontWeight={600}\n                        Fcolor={theme.color.transparent[100]}\n                        align={'right'}\n                        className={'m-r-4'}\n                      />\n                      <div className={'tags'}>\n                        <TextWrapper\n                          text={'ARTH-ETHLP'}\n                          fontWeight={600}\n                          Fcolor={theme.color.transparent[100]}\n                          align={'right'}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </Receive>\n              </div>\n              <div>\n                <Grid container spacing={2}>\n                  <Grid item lg={6} md={6} sm={12} xs={12}>\n                    <Button\n                      variant={'transparent'}\n                      text={'Reset'}\n                    />\n                  </Grid>\n                  <Grid item lg={6} md={6} sm={12} xs={12}>\n                    <Button\n                      text={'Confirm'}\n                    />\n                  </Grid>\n                </Grid>\n              </div>\n\n            </div>\n          </Grid>\n        </Grid>\n    </div>\n  )\n}\n\nexport default Migration;\n\nconst Receive = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 8px;\n  padding: 12px;\n`\n","import { BigNumber, Contract } from 'ethers';\nimport { parseUnits } from 'ethers/lib/utils';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport ABIS from '../../protocol/deployments/abi';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractName: string, i: number, j: number, dx: string, dxTokenDecimals: number) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n\n  const fetchValue = useCallback(async () => {\n    const contract = core.contracts(contractName, activeChainId);\n\n    if (!Number(dx)) {\n      setValue({\n        isLoading: false,\n        value: BigNumber.from(0),\n      });\n    } else {\n      const dxBN = BigNumber.from(parseUnits(dx, dxTokenDecimals));\n      const outputAmount = await contract.get_dy_underlying(i, j, dxBN);\n\n      setValue({\n        isLoading: false,\n        value: outputAmount,\n      });\n    }\n  }, [i, j, dx, core, dxTokenDecimals, contractName, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch output amount from curveswap router %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, activeChainId, contractName, fetchValue]);\n\n  return value;\n};\n","import React, { useMemo, useState } from \"react\";\nimport { formatToBN, getDisplayBalance } from \"../../../utils/formatBalance\";\nimport Input from \"../../../theme/components/Input\";\nimport CollateralDropDown from \"../../../theme/components/CollateralDropDown\";\nimport TextWrapper from \"../../../theme/components/TextWrapper\";\nimport theme from \"../../../theme\";\nimport InputContainer from \"../../../theme/components/InputContainer\";\nimport useTokenBalance from \"../../../hooks/state/useTokenBalance\";\nimport useCore from \"../../../hooks/useCore\";\nimport { useGetActiveChainId } from \"../../../state/chains/hooks\";\nimport IconLoader from \"../../../theme/components/IconLoader\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"../../../theme/components/Button\";\nimport DataField from \"../../../theme/components/DataField\";\n\nimport useGetUnderlyingOutput from '../../../hooks/state/useGetUnderlyingOutput';\nimport { BigNumber } from \"ethers\";\nimport { parseUnits } from \"ethers/lib/utils\";\nimport useApprove, { ApprovalState } from '../../../hooks/callbacks/useApprove';\nimport useBuyARTHusdForToken from \"../../../hooks/callbacks/useBuyARTHusdForToken\";\nimport useBuyARTHForToken from \"../../../hooks/callbacks/useBuyARTHForToken\";\nimport InfoTip from \"../../../theme/components/InfoTip\";\nimport { useSlippage } from \"../../../state/slippage/hooks\";\n\nconst BuyContent = () => {\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n\n  const [tokenAValue, setTokenAValue] = useState<string>('');\n  const listOfATokens = core.getTradingCollateralTypes(chainId);\n  const [tokenA, setTokenA] = useState<string>(listOfATokens[0]);\n  const tokenAERC20 = core.tokens(tokenA, chainId);\n  const tokenABalance = useTokenBalance(tokenAERC20);\n  const [openADropDown, setOpenADropDown] = useState<boolean>(false);\n\n  const [tokenBValue, setTokenBValue] = useState<string>('');\n  const [tokenB, setTokenB] = useState<string>('ARTH');\n  const listOfBTokens = ['ARTH', 'ARTH.usd'];\n  const tokenBERC20 = core.tokens(tokenB, chainId);\n  const tokenBBalance = useTokenBalance(tokenBERC20);\n  const [openBDropDown, setOpenBDropDown] = useState<boolean>(false);\n  const { value } = useSlippage();\n  const slippage = value;\n\n  if (!tokenAERC20 || !tokenBERC20) {\n    window.location.reload();\n  }\n\n  const outputFromSwap = useGetUnderlyingOutput(\n    core.getPool(chainId).minterContract,\n    core.getCRVTradeTokenIndex(tokenA, chainId),\n    0,\n    tokenAValue,\n    tokenAERC20.decimal\n  );\n\n  const underlyingOutput = useMemo(() => {\n    if (tokenB === 'ARTH.usd') return outputFromSwap;\n    return { ...outputFromSwap, value: outputFromSwap.value.mul(1e6).div(2e6)};\n  }, [tokenB, outputFromSwap]);\n\n  const priceFromSwap = useGetUnderlyingOutput(\n    core.getPool(chainId).minterContract,\n    core.getCRVTradeTokenIndex(tokenA, chainId),\n    0,\n    '1',\n    tokenAERC20.decimal\n  );\n\n  const price = useMemo(() => {\n    if (tokenB === 'ARTH.usd') return priceFromSwap;\n    return { ...priceFromSwap, value: priceFromSwap.value.mul(1e6).div(2e6)};\n  }, [tokenB, priceFromSwap]);\n\n  const [approveStatus, approveCollateral] = useApprove(\n    tokenAERC20,\n    core.contracts('SwapRouter', chainId).address,\n  );\n\n  const buyHandler = useBuyARTHusdForToken(\n    tokenA,\n    BigNumber.from(parseUnits(tokenAValue || '0', tokenAERC20.decimal)),\n    outputFromSwap.value\n  );\n\n  const buyARTHHandler = useBuyARTHForToken(\n    tokenA,\n    BigNumber.from(parseUnits(tokenAValue || '0', tokenAERC20.decimal)),\n    outputFromSwap.value\n  );\n\n  const isCollatApproved = useMemo(() => approveStatus === ApprovalState.APPROVED, [approveStatus]);\n  const isCollatApproving = useMemo(() => approveStatus === ApprovalState.PENDING, [approveStatus]);\n\n  const priceImpact = useMemo(() => {\n    const tokenAValueInNum = Number(tokenAValue);\n    if (outputFromSwap.value.lte(0) || !tokenAValueInNum) return 0;\n    const outputValueInNum = Number(getDisplayBalance(outputFromSwap.value, 18, 18));\n    return 100 - (outputValueInNum * 100  / tokenAValueInNum);\n  }, [tokenAValue, outputFromSwap]);\n\n  const isInputGreaterThanBalance = useMemo(() => {\n    return tokenABalance.value.lt(formatToBN(tokenAValue, tokenAERC20.decimal));\n  }, [tokenABalance, tokenAValue, tokenAERC20]);\n\n  const isButtonDisabled = useMemo(() => {\n    return isInputGreaterThanBalance ||\n      !Number(tokenAValue) ||\n      outputFromSwap.value.lte(0)\n  }, [isInputGreaterThanBalance, tokenAValue, outputFromSwap]);\n\n  return (\n    <div className={'custom-mahadao-container-content'}>\n      <div>\n        <InputContainer\n          label={'Enter Amount'}\n          dataLabel={'Balance:'}\n          dataValueLoading={tokenABalance.isLoading}\n          dataValue={`${Number(\n            getDisplayBalance(tokenABalance.value, tokenAERC20.decimal, 6),\n          ).toLocaleString('en-US', { minimumFractionDigits: 3 })}`}\n        >\n          <div className=\"single-line-center-between\">\n            <Input\n              disabled={tokenABalance.isLoading}\n              value={tokenAValue}\n              setValue={(value) => {\n                setTokenAValue(value);\n              }}\n              maxTag={true}\n              onMaxClick={() => {\n                setTokenAValue(Number(getDisplayBalance(tokenABalance.value, tokenAERC20.decimal, 6)).toString());\n              }}\n            />\n            <CollateralDropDown\n              selectedCollateral={tokenA}\n              hasDropDown={true}\n              collateralTypes={listOfATokens}\n              showDropDown={openADropDown}\n              toggleDropDown={() => setOpenADropDown(!openADropDown)}\n              ondropDownValueChange={(data) => {\n                setTokenA(data);\n                setOpenADropDown(false)\n              }}\n            />\n          </div>\n          {\n            isInputGreaterThanBalance && <TextWrapper\n              text={`Input cannot be greater than your ${tokenA} balance`}\n              Fcolor={theme.color.red[300]}\n              fontSize={12}\n              className={'m-t-4'}\n            />\n          }\n        </InputContainer>\n      </div>\n      <div className={'single-line-center-center'}>\n        <IconLoader iconName={'ArrowTailDown'} iconType={'arrow'} className={'p-t-12 p-b-12'}/>\n      </div>\n      <div>\n        <InputContainer\n          label={'Enter Amount'}\n          dataLabel={'Balance:'}\n          dataValueLoading={tokenBBalance.isLoading}\n          dataValue={`${Number(\n            getDisplayBalance(tokenBBalance.value, tokenBERC20.decimal, 6),\n          ).toLocaleString('en-US', { minimumFractionDigits: 3 })}`}\n        >\n          <div className=\"single-line-center-between\">\n            <Input\n              disabled={true}\n              value={\n                Number(tokenAValue)\n                  ? getDisplayBalance( underlyingOutput.value, tokenBERC20.decimal, 6)\n                  : tokenAValue === '' ? '' : '0'\n              }\n              setValue={(value) => {\n                setTokenBValue(value);\n              }}\n              maxTag={false}\n            />\n            <CollateralDropDown\n              selectedCollateral={tokenB}\n              hasDropDown={true}\n              collateralTypes={listOfBTokens}\n              showDropDown={openBDropDown}\n              toggleDropDown={() => setOpenBDropDown(!openBDropDown)}\n              ondropDownValueChange={(data) => {\n                setTokenB(data);\n                setOpenBDropDown(false)\n              }}\n            />\n          </div>\n        </InputContainer>\n      </div>\n      <div className={'m-t-24'}>\n        <div className={'single-line-center-between m-b-8'}>\n          <TextWrapper\n            text={'Price'}\n            Fcolor={theme.color.transparent[100]}\n          />\n          <div className={'single-line-center-end'}>\n            <TextWrapper\n              text={Number(getDisplayBalance(price.value, 18, 3)).toLocaleString()}\n              className={'m-r-4'}\n            />\n            <div className={'tags m-r-4'}>\n              <TextWrapper\n                text={tokenB}\n                fontWeight={600}\n                Fcolor={theme.color.transparent[100]}\n              />\n            </div>\n            <TextWrapper\n              text={'1'}\n              className={'m-r-4'}\n            />\n            <div className={'tags m-r-4'}>\n              <TextWrapper\n                text={tokenA}\n                fontWeight={600}\n                Fcolor={theme.color.transparent[100]}\n              />\n            </div>\n          </div>\n        </div>\n        <DataField\n          label={'Price Impact'}\n          value={priceImpact.toLocaleString() + '%'}\n        />\n      </div>\n      <div className={'m-t-32'}>\n        {(Number(slippage) < 0.5) &&\n          <InfoTip\n            type={\"Warning\"}\n            msg={\"Your transactions might fail for the current slippage. Increase slippage to avoid transaction failure\"}\n            className={\"m-b-16\"}\n          />\n        }\n        <Grid container spacing={2} direction={'row'}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              text={`Approve ${tokenA}`}\n              onClick={approveCollateral}\n              disabled={\n                isCollatApproved ||\n                isButtonDisabled\n              }\n              loading={isCollatApproving}\n              tracking_id={'approve_buy'}\n              tracking_params={{\n                collateral: tokenA,\n                amount: Number(tokenAValue) || 0,\n              }}\n            />\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              text={'Buy'}\n              disabled={!isCollatApproved || isButtonDisabled}\n              onClick={tokenB === 'ARTH.usd' ? buyHandler : buyARTHHandler}\n              tracking_id={'buy'}\n              tracking_params={{\n                action: 'confirm',\n                collateral: tokenA,\n                amount: Number(tokenAValue) || 0,\n              }}\n            />\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  )\n}\n\nexport default BuyContent;\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useAddPopup } from '../../state/application/hooks';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport formatErrorMessage from '../../utils/formatErrorMessage';\nimport useCore from '../useCore';\nimport { useSlippage } from '../../state/slippage/hooks';\n\nexport default function (\n  symbol: string,\n  amountIn: BigNumber,\n  amountOut: BigNumber\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n  const slippage = useSlippage();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.contracts('SwapRouter', chainId);\n\n      const slippageRounded = Math.floor(slippage.value * 1e3) / 1e3;\n      const slippageAdjustedAmountout = !Number(slippage.value)\n        ? amountOut.mul(99).div(100)\n        : amountOut.sub(amountOut.mul(slippageRounded * 1e3).div(1e5))\n      \n      const token = chainId === 137 ? 'DAI' : 'BUSD'\n\n      try {\n        const response = await contract.buyARTHUSDForExact(\n          symbol === token ? amountIn : BigNumber.from(0),\n          symbol === 'USDC' ? amountIn : BigNumber.from(0),\n          symbol === 'USDT' ? amountIn : BigNumber.from(0),\n          symbol === token ? slippageAdjustedAmountout : BigNumber.from(0),\n          symbol === 'USDC' ? slippageAdjustedAmountout : BigNumber.from(0),\n          symbol === 'USDT' ? slippageAdjustedAmountout : BigNumber.from(0),\n          core.myAccount,\n          Math.floor(Date.now() / 1000) + 5 * 60\n        );\n\n        addTransaction(response, {\n          summary: `Buy ARTH.usd for ${\n            Number(getDisplayBalance(amountIn, core.tokens(symbol, chainId).decimal)).toLocaleString()\n          } ${symbol.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, chainId, addTransaction, slippage.value, addPopup, amountIn,\n    amountOut, symbol],\n  );\n\n  return action;\n}\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useAddPopup } from '../../state/application/hooks';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport formatErrorMessage from '../../utils/formatErrorMessage';\nimport useCore from '../useCore';\nimport { useSlippage } from '../../state/slippage/hooks';\n\nexport default function (\n  symbol: string,\n  amountIn: BigNumber,\n  amountOut: BigNumber\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n  const slippage = useSlippage();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.contracts('SwapRouter', chainId);\n\n      const slippageRounded = Math.floor(slippage.value * 1e3) / 1e3;\n      const slippageAdjustedAmountout = !Number(slippage.value)\n        ? amountOut.mul(99).div(100)\n        : amountOut.sub(amountOut.mul(slippageRounded * 1e3).div(1e5))\n      \n      const token = chainId === 137 ? 'DAI' : 'BUSD'\n\n      try {\n        const response = await contract.buyARTHForExact(\n          symbol === token ? amountIn : BigNumber.from(0),\n          symbol === 'USDC' ? amountIn : BigNumber.from(0),\n          symbol === 'USDT' ? amountIn : BigNumber.from(0),\n          symbol === token ? slippageAdjustedAmountout : BigNumber.from(0),\n          symbol === 'USDC' ? slippageAdjustedAmountout : BigNumber.from(0),\n          symbol === 'USDT' ? slippageAdjustedAmountout : BigNumber.from(0),\n          core.myAccount,\n          Math.floor(Date.now() / 1000) + 5 * 60\n        );\n\n        addTransaction(response, {\n          summary: `Buy ARTH for ${\n            Number(getDisplayBalance(amountIn, core.tokens(symbol, chainId).decimal)).toLocaleString()\n          } ${symbol.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, chainId, addTransaction, slippage.value, addPopup, amountIn,\n    amountOut, symbol],\n  );\n\n  return action;\n}\n","import React, { useMemo, useState } from \"react\";\nimport { formatToBN, getDisplayBalance } from \"../../../utils/formatBalance\";\nimport Input from \"../../../theme/components/Input\";\nimport CollateralDropDown from \"../../../theme/components/CollateralDropDown\";\nimport TextWrapper from \"../../../theme/components/TextWrapper\";\nimport theme from \"../../../theme\";\nimport InputContainer from \"../../../theme/components/InputContainer\";\nimport useTokenBalance from \"../../../hooks/state/useTokenBalance\";\nimport useCore from \"../../../hooks/useCore\";\nimport { useGetActiveChainId } from \"../../../state/chains/hooks\";\nimport IconLoader from \"../../../theme/components/IconLoader\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"../../../theme/components/Button\";\nimport DataField from \"../../../theme/components/DataField\";\nimport useGetUnderlyingOutput from \"../../../hooks/state/useGetUnderlyingOutput\";\nimport useApprove, { ApprovalState } from '../../../hooks/callbacks/useApprove';\nimport useSellARTHusdForToken from \"../../../hooks/callbacks/useSellARTHusdForToken\";\nimport { BigNumber } from \"ethers\";\nimport { parseUnits } from \"ethers/lib/utils\";\nimport useSellARTHForToken from \"../../../hooks/callbacks/useSellARTHForToken\";\n\nconst SellContent = () => {\n  const core = useCore();\n  const chainId = useGetActiveChainId();\n\n  const [tokenAValue, setTokenAValue] = useState<string>('');\n  const [tokenA, setTokenA] = useState<string>('ARTH');\n  const listOfATokens = ['ARTH', 'ARTH.usd']\n  const tokenAERC20 = core.tokens(tokenA, chainId);\n  const tokenABalance = useTokenBalance(tokenAERC20);\n  const [openADropDown, setOpenADropDown] = useState<boolean>(false);\n\n  const [tokenBValue, setTokenBValue] = useState<string>('');\n  const listOfBTokens = core.getTradingCollateralTypes(chainId);\n  const [tokenB, setTokenB] = useState<string>(listOfBTokens[0]);\n  const tokenBERC20 = core.tokens(tokenB, chainId);\n  const tokenBBalance = useTokenBalance(tokenBERC20);\n  const [openBDropDown, setOpenBDropDown] = useState<boolean>(false);\n\n  if (!tokenAERC20 || !tokenBERC20) {\n    window.location.reload();\n  }\n\n  const outputFromSwap = useGetUnderlyingOutput(\n    core.getPool(chainId).minterContract,\n    0,\n    core.getCRVTradeTokenIndex(tokenB, chainId),\n    tokenAValue,\n    18\n  );\n\n  const underlyingOutput = useMemo(() => {\n    if (tokenA === 'ARTH.usd') return outputFromSwap;\n    return { ...outputFromSwap, value: outputFromSwap.value.mul(2e6).div(1e6)};\n  }, [tokenA, outputFromSwap]);\n\n  const priceFromSwap = useGetUnderlyingOutput(\n    core.getPool(chainId).minterContract,\n    0,\n    core.getCRVTradeTokenIndex(tokenB, chainId),\n    '1',\n    18\n  );\n\n  const price = useMemo(() => {\n    if (tokenA === 'ARTH.usd') return priceFromSwap;\n    return { ...priceFromSwap, value: priceFromSwap.value.mul(2e6).div(1e6)}\n  }, [priceFromSwap, tokenA]);\n\n  const [approveStatus, approveCollateral] = useApprove(\n    tokenAERC20,\n    core.contracts('SwapRouter', chainId).address,\n  );\n\n  const priceImpact = useMemo(() => {\n    const tokenAValueInNum = Number(tokenAValue);\n    if (outputFromSwap.value.lte(0) || !tokenAValueInNum) return 0;\n    const outputValueInNum = Number(getDisplayBalance(outputFromSwap.value, 18, 18));\n    return 100 - (outputValueInNum * 100  / tokenAValueInNum);\n  }, [tokenAValue, outputFromSwap]);\n\n  const isCollatApproved = useMemo(() => approveStatus === ApprovalState.APPROVED, [approveStatus]);\n  const isCollatApproving = useMemo(() => approveStatus === ApprovalState.PENDING, [approveStatus]);\n\n  const sellHandler = useSellARTHusdForToken(\n    tokenB,\n    BigNumber.from(parseUnits(tokenAValue || '0', tokenAERC20.decimal)),\n    outputFromSwap.value\n  );\n\n  const sellARTHHandler = useSellARTHForToken(\n    tokenB,\n    BigNumber.from(parseUnits(tokenAValue || '0', tokenAERC20.decimal)),\n    outputFromSwap.value\n  );\n\n  const isInputGreaterThanBalance = useMemo(() => {\n    return tokenABalance.value.lt(formatToBN(tokenAValue, tokenAERC20.decimal));\n  }, [tokenABalance, tokenAValue, tokenAERC20]);\n\n  const isButtonDisabled = useMemo(() => {\n    return isInputGreaterThanBalance ||\n      !Number(tokenAValue) ||\n      outputFromSwap.value.lte(0)\n  }, [isInputGreaterThanBalance, tokenAValue, outputFromSwap]);\n\n  return (\n    <div className={'custom-mahadao-container-content'}>\n      <div>\n        <InputContainer\n          label={'Enter Amount'}\n          dataLabel={'Balance:'}\n          dataValueLoading={tokenABalance.isLoading}\n          dataValue={`${Number(\n            getDisplayBalance(tokenABalance.value, tokenAERC20.decimal, 6),\n          ).toLocaleString('en-US', { minimumFractionDigits: 3 })}`}\n        >\n          <div className=\"single-line-center-between\">\n            <Input\n              disabled={tokenABalance.isLoading}\n              value={tokenAValue}\n              setValue={(value) => {\n                setTokenAValue(value);\n              }}\n              maxTag={true}\n              onMaxClick={() => {\n                setTokenAValue(Number(getDisplayBalance(tokenABalance.value, tokenAERC20.decimal, 6)).toString());\n              }}\n            />\n            <CollateralDropDown\n              selectedCollateral={tokenA}\n              hasDropDown={true}\n              collateralTypes={listOfATokens}\n              showDropDown={openADropDown}\n              toggleDropDown={() => setOpenADropDown(!openADropDown)}\n              ondropDownValueChange={(data) => {\n                setTokenA(data);\n                setOpenADropDown(false)\n              }}\n            />\n          </div>\n          {isInputGreaterThanBalance && <TextWrapper\n            text={`Input cannot be greater than your ${tokenA} balance`}\n            Fcolor={theme.color.red[300]}\n            fontSize={12}\n            className={'m-t-4'}\n          />}\n        </InputContainer>\n      </div>\n      <div className={'single-line-center-center'}>\n        <IconLoader iconName={'ArrowTailDown'} iconType={'arrow'} className={'p-t-12 p-b-12'}/>\n      </div>\n      <div>\n        <InputContainer\n          label={'Enter Amount'}\n          dataLabel={'Balance:'}\n          dataValueLoading={tokenBBalance.isLoading}\n          dataValue={`${Number(\n            getDisplayBalance(tokenBBalance.value, tokenBERC20.decimal, 6),\n          ).toLocaleString('en-US', { minimumFractionDigits: 3 })}`}\n        >\n          <div className=\"single-line-center-between\">\n            <Input\n              disabled={true}\n              value={\n                Number(tokenAValue)\n                  ? getDisplayBalance(underlyingOutput.value, tokenBERC20.decimal, 6)\n                  : tokenAValue === '' ? '' : '0'\n              }\n              setValue={(value) => {\n                setTokenBValue(value);\n              }}\n              maxTag={false}\n            />\n            <CollateralDropDown\n              selectedCollateral={tokenB}\n              hasDropDown={true}\n              collateralTypes={listOfBTokens}\n              showDropDown={openBDropDown}\n              toggleDropDown={() => setOpenBDropDown(!openBDropDown)}\n              ondropDownValueChange={(data) => {\n                setTokenB(data);\n                setOpenBDropDown(false)\n              }}\n            />\n          </div>\n        </InputContainer>\n      </div>\n      <div className={'m-t-24'}>\n        <div className={'single-line-center-between m-b-8'}>\n          <TextWrapper\n            text={'Price'}\n            Fcolor={theme.color.transparent[100]}\n          />\n          <div className={'single-line-center-end'}>\n            <TextWrapper\n              text={Number(getDisplayBalance(price.value, tokenBERC20.decimal, 3)).toLocaleString()}\n              className={'m-r-4'}\n            />\n            <div className={'tags m-r-4'}>\n              <TextWrapper\n                text={tokenB}\n                fontWeight={600}\n                Fcolor={theme.color.transparent[100]}\n              />\n            </div>\n            <TextWrapper\n              text={'1'}\n              className={'m-r-4'}\n            />\n            <div className={'tags m-r-4'}>\n              <TextWrapper\n                text={tokenA}\n                fontWeight={600}\n                Fcolor={theme.color.transparent[100]}\n              />\n            </div>\n          </div>\n        </div>\n        <DataField\n          label={'Price Impact'}\n          value={priceImpact.toLocaleString() + '%'}\n        />\n      </div>\n      <div className={'m-t-32'}>\n        <Grid container spacing={2} direction={'row'}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              text={`Approve ${tokenA}`}\n              onClick={approveCollateral}\n              disabled={isCollatApproved || isInputGreaterThanBalance}\n              loading={isCollatApproving}\n              tracking_id={'approve_sell'}\n              tracking_params={{\n                collateral: tokenA,\n                amount: Number(tokenAValue) || 0,\n              }}\n            />\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              text={'Sell'}\n              disabled={!isCollatApproved || isInputGreaterThanBalance || isButtonDisabled}\n              onClick={tokenA === 'ARTH.usd' ? sellHandler : sellARTHHandler}\n              tracking_id={'sell'}\n              tracking_params={{\n                action: 'confirm',\n                collateral: tokenA,\n                amount: Number(tokenAValue) || 0,\n              }}\n            />\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  )\n}\n\nexport default SellContent;\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useAddPopup } from '../../state/application/hooks';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport formatErrorMessage from '../../utils/formatErrorMessage';\nimport useCore from '../useCore';\nimport { useSlippage } from '../../state/slippage/hooks';\n\nexport default function (\n  symbol: string,\n  amountIn: BigNumber,\n  amountOut: BigNumber\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n  const slippage = useSlippage();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.contracts('SwapRouter', chainId);\n\n      const slippageRounded = Math.floor(slippage.value * 1e3) / 1e3;\n      const slippageAdjustedAmountout = !Number(slippage.value)\n        ? amountOut.mul(99).div(100)\n        : amountOut.sub(amountOut.mul(slippageRounded * 1e3).div(1e5))\n\n      const token = chainId === 137 ? 'DAI' : 'BUSD'\n\n      try {\n        const response = await contract.sellARTHUSDForExact(\n          symbol === token ? amountIn : BigNumber.from(0),\n          symbol === 'USDC' ? amountIn : BigNumber.from(0),\n          symbol === 'USDT' ? amountIn : BigNumber.from(0),\n          symbol === token ? slippageAdjustedAmountout : BigNumber.from(0),\n          symbol === 'USDC' ? slippageAdjustedAmountout : BigNumber.from(0),\n          symbol === 'USDT' ? slippageAdjustedAmountout : BigNumber.from(0),\n          core.myAccount,\n          Math.floor(Date.now() / 1000) + 5 * 60\n        );\n\n        addTransaction(response, {\n          summary: `Sell ${\n            Number(getDisplayBalance(amountIn,  18, 6)).toLocaleString()\n          } ARTH.usd for ${symbol.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, chainId, addTransaction, slippage.value, addPopup, amountIn,\n    amountOut, symbol],\n  );\n\n  return action;\n}\n","import { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport { useAddPopup } from '../../state/application/hooks';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport formatErrorMessage from '../../utils/formatErrorMessage';\nimport useCore from '../useCore';\nimport { useSlippage } from '../../state/slippage/hooks';\n\nexport default function (\n  symbol: string,\n  amountIn: BigNumber,\n  amountOut: BigNumber\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetActiveChainId();\n  const slippage = useSlippage();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.contracts('SwapRouter', chainId);\n\n      const slippageRounded = Math.floor(slippage.value * 1e3) / 1e3;\n      const slippageAdjustedAmountout = !Number(slippage.value)\n        ? amountOut.mul(99).div(100)\n        : amountOut.sub(amountOut.mul(slippageRounded * 1e3).div(1e5))\n      \n      const token = chainId === 137 ? 'DAI' : 'BUSD'\n\n      try {\n        const response = await contract.sellARTHForExact(\n          symbol === token ? amountIn : BigNumber.from(0),\n          symbol === 'USDC' ? amountIn : BigNumber.from(0),\n          symbol === 'USDT' ? amountIn : BigNumber.from(0),\n          symbol === token ? slippageAdjustedAmountout : BigNumber.from(0),\n          symbol === 'USDC' ? slippageAdjustedAmountout : BigNumber.from(0),\n          symbol === 'USDT' ? slippageAdjustedAmountout : BigNumber.from(0),\n          core.myAccount,\n          Math.floor(Date.now() / 1000) + 5 * 60\n        );\n\n        addTransaction(response, {\n          summary: `Sell ${\n            Number(getDisplayBalance(amountIn, 18, 6)).toLocaleString()\n          } ARTH for ${symbol.toUpperCase()}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, chainId, addTransaction, slippage.value, addPopup, amountIn,\n    amountOut, symbol],\n  );\n\n  return action;\n}\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport SlippageContainer from '../../components/SlippageContainer';\nimport PageHeader from '../../theme/components/PageHeader';\nimport TextWrapper from '../../theme/components/TextWrapper';\n\nimport BuyContent from './components/BuyContent';\nimport SellContent from './components/SellContent';\n\nconst Trade = () => {\n  useEffect(() => window.scrollTo(0, 0), []);\n\n  const [type, setType] = useState<'Buy' | 'Sell'>('Buy');\n\n  return (\n    <div className=\"custom-container\">\n      <PageHeader\n        title={'TRADE'}\n        subTitle={'Buy/sell large amounts of ARTH to any stablecoin at the lowest slippage.'}\n        // showLearnMore={true}\n        // learnMoreLink={'https://mahadao.com'}\n        className=\"m-b-40\"\n      />\n      <Grid container spacing={2} className=\"m-b-24\">\n        <Grid item lg={6} md={12} sm={12} xs={12}>\n          <div className={'custom-mahadao-container'}>\n            <LeftTopCardHeader className={'custom-mahadao-container-header'}>\n              <div style={{ display: 'flex', flex: '1' }}>\n                <TabContainer onClick={() => setType('Buy')}>\n                  {type === 'Buy' && <ActiveTab />}\n                  <TextWrapper text={'Buy'} fontWeight={600} />\n                </TabContainer>\n                <TabContainer onClick={() => setType('Sell')}>\n                  {type === 'Sell' && <ActiveTab />}\n                  <TextWrapper text={'Sell'} fontWeight={600} />\n                </TabContainer>\n              </div>\n              <SlippageContainer />\n            </LeftTopCardHeader>\n            {type === 'Buy' && (\n              <BuyContent />\n            )}\n            {type === 'Sell' && (\n              <SellContent />\n            )}\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nconst LeftTopCardHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst TabContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 12px 12px;\n  width: 100px;\n  height: 80px;\n  z-index: 1;\n  cursor: pointer;\n  position: relative;\n`;\n\nconst ActiveTab = styled.div`\n  position: absolute;\n  width: 100%;\n  padding: 32px 12px;\n  background: transparent;\n  height: 80px;\n  z-index: 0;\n  border-bottom: 2px solid #fd5656;\n`;\n\nexport default Trade;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport ComingSoonImg from '../../assets/images/ComingSoon.svg';\nimport theme from '../../theme';\nimport TextWrapper from '../../theme/components/TextWrapper';\n\nconst ComingSoon = () => {\n  return (\n    <MainContainer className=\"single-line-center-center mo-custom-container\">\n      <div className=\"text-center\">\n        <div className=\"single-line-center-center\">\n          <img src={ComingSoonImg} alt={'ComingSoon'} className=\"m-b-24\" />\n        </div>\n        <TextWrapper\n          text={'Coming Soon'}\n          fontWeight={'bold'}\n          fontSize={32}\n          fontFamily={'Syne'}\n          className=\"m-b-4\"\n          align={'center'}\n        />\n        <TextWrapper\n          text={'We are working on creating something fantastic. Stay tuned on community.'}\n          fontWeight={300}\n          Fcolor={theme.color.transparent[100]}\n          align={'center'}\n        />\n      </div>\n    </MainContainer>\n  );\n};\n\nexport default ComingSoon;\n\nconst MainContainer = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\n\nimport { useGetActiveChainId } from './state/chains/hooks';\nimport NoPageFound from './theme/components/NoPageFound';\nimport Page from './theme/components/Page/Page';\nimport AddLoan from './views/AddLoan';\nimport AddStrategies from './views/AddStrategies';\nimport Farming from './views/Farming';\nimport Faucet from './views/Faucet';\nimport Loan from './views/Loan';\nimport Pools from './views/Pools';\nimport Positions from './views/Positions';\nimport Redeem from './views/Redeem';\nimport SelectLoan from './views/SelectLoan';\nimport SelectRedeem from './views/SelectRedeem';\nimport StabilityPool from './views/StabilityPool';\nimport Strategies from './views/Strategies';\nimport Tokenization from './views/Tokenization';\nimport LoanDetails from \"./views/LoanDetails\";\nimport ModifyLoan from \"./views/ModifyLoan\";\nimport AddLiquidity from \"./views/AddLiquidity\";\nimport Migration from \"./views/Migration\";\nimport Trade from \"./views/Trade\";\nimport ComingSoon from \"./components/ComingSoon\";\nimport ProtocolSuspended from \"./components/ProtocolSuspended\";\n\nconst Navigation = () => {\n  const activeChainId = useGetActiveChainId();\n  let defaultUrl = '/strategies/all-strategies';\n  if (activeChainId === 1) {\n    defaultUrl = '/loans/all-loans'\n  }\n\n  // if (activeChainId === 56) {\n  //   return (\n  //     <Switch>\n  //       <Route path=\"/farming\">\n  //         <Page>\n  //           <Farming />\n  //         </Page>\n  //       </Route>\n  //       <Route exact path=\"*\">\n  //         <Page>\n  //           <ProtocolSuspended />\n  //         </Page>\n  //       </Route>\n  //     </Switch>\n  //   )\n  // }\n\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Redirect to={defaultUrl} />\n      </Route>\n      <Route path=\"/strategies/add/:id\">\n        <Page>\n          {(activeChainId === 137 || activeChainId === 56)\n            ? <AddStrategies />\n            : <ComingSoon />\n          }\n        </Page>\n      </Route>\n      <Route path=\"/strategies/:mode\">\n        <Page>\n          {(activeChainId === 137 || activeChainId === 56)\n            ? <Strategies />\n            : <ComingSoon />\n          }\n        </Page>\n      </Route>\n      <Route path=\"/loans/:mode\">\n        <Page>\n          <Loan />\n        </Page>\n      </Route>\n      <Route path=\"/loan/add/:id\">\n        <Page>\n          <AddLoan />\n        </Page>\n      </Route>\n      <Route path=\"/loan/add\">\n        <Page>\n          <SelectLoan />\n        </Page>\n      </Route>\n      <Route path=\"/loan/details/:ownerAddress/:trove\">\n        <Page>\n          <LoanDetails />\n        </Page>\n      </Route>\n      <Route path=\"/loan/modify/:trove\">\n        <Page>\n          <ModifyLoan />\n        </Page>\n      </Route>\n\n      <Route path=\"/redeem/:id\">\n        <Page>\n          <Redeem />\n        </Page>\n      </Route>\n      <Route path=\"/redeem\">\n        <Page>\n          <SelectRedeem />\n        </Page>\n      </Route>\n      <Route path=\"/stability-pool\">\n        <Page>\n          <StabilityPool />\n        </Page>\n      </Route>\n      <Route path=\"/tokenization\">\n        <Page>\n          <Tokenization />\n        </Page>\n      </Route>\n      <Route path=\"/migration\">\n        <Page>\n          <Migration />\n        </Page>\n      </Route>\n      {/*<Route path=\"/position\">\n        <Page>\n          <Positions />\n        </Page>\n      </Route>*/}\n      <Route path=\"/pools/add-liquidity/:poolName\">\n        <Page>\n          {(activeChainId === 137 || activeChainId === 56)\n            ? <AddLiquidity />\n            : <ComingSoon />\n          }\n        </Page>\n      </Route>\n      <Route path=\"/pools\">\n        <Page>\n          {(activeChainId === 137 || activeChainId === 56)\n            ? <Pools />\n            : <ComingSoon />\n          }\n        </Page>\n      </Route>\n      <Route path=\"/trade\">\n        <Page>\n          {(activeChainId === 137 || activeChainId === 56)\n            ? <Trade />\n            : <ComingSoon />\n          }\n        </Page>\n      </Route>\n      <Route path=\"/faucet\">\n        {activeChainId === 97 || activeChainId === 80001 ? (\n          <Page>\n            <Faucet />\n          </Page>\n        ) : (\n          <Redirect to={defaultUrl} />\n        )}\n      </Route>\n      <Route path=\"/farming\">\n        <Page>\n          <Farming />\n        </Page>\n      </Route>\n      <Route exact path=\"*\">\n        <NoPageFound />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default Navigation;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nimport Modal from '../../theme/components/Modal';\n\nconst Disclaimer: React.FC = () => {\n  const [openModal, toggleModal] = useState(false);\n  const handleClose = () => toggleModal(false);\n\n  useEffect(() => {\n    if (localStorage.getItem('show_dislaimer') !== \"1\") {\n      toggleModal(true)\n      localStorage.setItem('show_dislaimer', '1')\n    }\n  }, [])\n\n  return (\n    <Modal title=\"Disclaimer\" open={openModal} handleClose={handleClose} closeButton>\n      <ModalText>\n        ARTH is a risky asset and there is a probability that you could lose all your money. Do\n        not invest if you are not aware of what you are doing.\n      </ModalText>\n      <ModalText>\n        Participants from countries under whose national legislation this token may be deemed to\n        be a security or a regulated financial instrument are prohibited from participating in\n        any manner in token issuance, including indirectly, such as via a proxy or a name loan.\n      </ModalText>\n      <ModalText>\n        This token may be deemed to be a security or a regulated financial instrument within the\n        meaning of applicable national legislation in China, India, the United States, the\n        European Union and / or its individual member nations, Canada, South Korea, Singapore\n        and other countries.\n      </ModalText>\n      <ModalText>\n        It is your responsibility to determine whether you are from a country under whose\n        national legislation this token may be deemed to be a security or a regulated financial\n        instrument, and, if so, to respect the prohibition specified herein.\n      </ModalText>\n    </Modal>\n  );\n};\n\nconst ModalText = styled.div`\n  font-weight: 300;\n  font-size: 16px;\n  line-height: 20px;\n  text-align: left;\n  margin-bottom: 15px;\n  color: rgba(255, 255, 255, 0.64);\n`;\nexport default Disclaimer;\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport Slide from '@material-ui/core/Slide';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { Theme, makeStyles } from '@material-ui/core/styles';\nimport { TransitionProps } from '@material-ui/core/transitions';\n\nimport config from '../../config';\nimport '../../customCss/Custom-Snackbar.css';\nimport { PopupContent } from '../../state/application/actions';\nimport { useGetActiveChainId } from '../../state/chains/hooks';\nimport theme from '../../theme';\nimport IconLoader from '../../theme/components/IconLoader';\nimport TextWrapper from '../../theme/components/TextWrapper';\n\ninterface TxButtonProps {\n  notificationCount?: number;\n  index?: number;\n  open?: boolean;\n  content?: PopupContent;\n  handleCancel?: Function;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nconst CustomizedSnackbars: React.FC<TxButtonProps> = ({ open, content, handleCancel }) => {\n  const classes = useStyles();\n  const activeChainId = useGetActiveChainId();\n  const [openSnackbar, setOpen] = React.useState(open);\n\n  const isScucess = content?.txn?.success;\n  const isLoading = content?.txn?.loading;\n\n  useEffect(() => {\n    setOpen(true);\n  }, [isScucess, isLoading]);\n\n  const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\n    if (reason === 'clickaway') return;\n\n    setOpen(false);\n    if (handleCancel) handleCancel();\n  };\n\n  function SlideTransition(props: TransitionProps) {\n    return <Slide {...props} direction=\"left\" />;\n  }\n\n  const SnackHeader = () => {\n    if (isLoading) {\n      return (\n        <SnackBarInnerContainer style={{ background: theme.color.yellow[500] }}>\n          <div className=\"single-line-center-start\">\n            <IconLoader\n              iconName={'Pending'}\n              iconType={'status'}\n              width={24}\n              className=\"pointer m-r-12\"\n              onClick={handleClose}\n            />\n            Transaction Pending\n          </div>\n          <IconLoader iconName={'Cross'} width={24} className=\"pointer\" onClick={handleClose} />\n        </SnackBarInnerContainer>\n      );\n    } else if (isScucess) {\n      return (\n        <SnackBarInnerContainer style={{ background: theme.color.green[500] }}>\n          <div className=\"single-line-center-start\">\n            <IconLoader\n              iconName={'Success'}\n              iconType={'status'}\n              width={24}\n              className=\"pointer m-r-12\"\n              onClick={handleClose}\n            />\n            Transaction Successful\n          </div>\n          <IconLoader iconName={'Cross'} width={24} className=\"pointer\" onClick={handleClose} />\n        </SnackBarInnerContainer>\n      );\n    } else if (content.error?.message) {\n      return (\n        <SnackBarInnerContainer style={{ background: theme.color.red[500] }}>\n          <div className=\"single-line-center-start\">\n            <IconLoader\n              iconName={'Alert'}\n              iconType={'status'}\n              width={24}\n              className=\"pointer m-r-12\"\n              onClick={handleClose}\n            />\n            Transaction Failed\n          </div>\n          <IconLoader iconName={'Cross'} width={24} className=\"pointer\" onClick={handleClose} />\n        </SnackBarInnerContainer>\n      );\n    }\n  };\n\n  const SnackBody = () => {\n    return (\n      <SnackBarBody>\n        <TextWrapper\n          text={\n            content?.txn?.success || content?.txn?.loading\n              ? content.txn?.summary\n              : content.error?.message\n          }\n          fontWeight={300}\n        />\n        {config[activeChainId].etherscanUrl !== '' && content.txn?.hash && (\n          <AnchorTag\n            href={`${config[activeChainId].etherscanUrl}/tx/${content.txn?.hash}`}\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            <TextWrapper\n              text={'View on Explorer'}\n              fontWeight={300}\n              Fcolor={theme.color.transparent[200]}\n            />\n            <IconLoader\n              iconName={'ArrowLink'}\n              iconType={'arrow'}\n              width={24}\n              className=\"pointer m-l-2 \"\n              onClick={handleClose}\n            />\n          </AnchorTag>\n        )}\n      </SnackBarBody>\n    );\n  };\n\n  return (\n    <div className={classes.root}>\n      {openSnackbar && (\n        <Snackbar\n          open={openSnackbar}\n          autoHideDuration={3000}\n          TransitionComponent={SlideTransition}\n          onClose={handleClose}\n          anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n        >\n          <SnackBarParent>\n            {SnackHeader()}\n            {SnackBody()}\n          </SnackBarParent>\n        </Snackbar>\n      )}\n    </div>\n  );\n};\n\nconst AnchorTag = styled.a`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 4px;\n  &:hover {\n    text-decoration: none;\n  }\n`;\n\nconst SnackBarInnerContainer = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 50px;\n  padding: 0 12px 0 18px;\n  justify-content: space-between;\n  border-radius: 4px 4px 0 0;\n`;\n\nconst SnackBarBody = styled.div`\n  background: ${theme.color.dark[300]};\n  backdrop-filter: blur(70px);\n  border-radius: 0 0 4px 4px;\n  padding: 12px 12px 12px 52px;\n  font-weight: 600;\n  font-size: 14px;\n  width: 100%;\n`;\n\nconst SnackBarParent = styled.div`\n  background: rgba(255, 255, 255, 0.02);\n  backdrop-filter: blur(70px);\n  border-radius: 4px 4px 0 0;\n  border: 1px solid;\n  width: 378px;\n  border-image-source: linear-gradient(\n    180deg,\n    rgba(255, 116, 38, 0.1) 0%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  color: #ffffff;\n  opacity: 0.88;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nexport default CustomizedSnackbars;\n","import React from 'react';\n\nimport { useActivePopups } from '../../state/application/hooks';\n\nimport TransactionSnackbar from './TransactionSnackbar';\n\nexport default function Popups() {\n  const activePopups = useActivePopups();\n  return (\n    <>\n      {\n        activePopups.map((p, i) => (\n          /*enqueueSnackbar (<TransactionSnackbar\n            key={i}\n            index={i}\n            notificationCount={i+1}\n            open\n            content={p.content}\n          />)*/\n\n          <TransactionSnackbar\n            key={i}\n            index={i}\n            notificationCount={i + 1}\n            open\n            content={p.content}\n          />\n        ))\n        /*dummy.map((p, i) => {\n          let options = {\n            content: () =>\n              TranscationSnackbar({\n                index: i,\n                notificationCount: i+1,\n                open: true,\n                content: p.content,\n              }),\n          };\n          enqueueSnackbar('timepass', options);\n        })*/\n      }\n    </>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport ReactGA from 'react-ga';\nimport { useLocation } from 'react-router-dom';\n\nimport { isProduction } from './Mixpanel';\n\nconst useGaTracker = () => {\n  const location = useLocation();\n  const [initialized, setInitialized] = useState(false);\n\n  useEffect(() => {\n    if (isProduction) {\n      ReactGA.initialize('UA-207535492-1');\n      setInitialized(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (initialized) {\n      ReactGA.pageview(location.pathname);\n    }\n  }, [initialized, location]);\n};\n\nexport default useGaTracker;\n","import { BigNumber, utils } from 'ethers';\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport styled from 'styled-components';\n\nimport config, { getSupportedChains } from '../../config';\nimport { useGetActiveChainId, useGetUpdateActiveChainId } from '../../state/chains/hooks';\nimport theme from '../../theme';\nimport IconLoader from '../../theme/components/IconLoader';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport detectEthereumProvider from \"@metamask/detect-provider\";\nimport { useWallet } from \"use-wallet\";\nimport useCore from \"../../hooks/useCore\";\n\nconst NetworkChange = () => {\n  const activeChainId = useGetActiveChainId();\n  const setChainId = useGetUpdateActiveChainId();\n  const [openModal, setOpenModal] = useState<boolean>(false);\n  const [wrongNetwork, setWrongNetwork] = React.useState<boolean>(false);\n  const getAvailableChains = getSupportedChains();\n  const core = useCore();\n  const { account, ethereum }: { account: any, ethereum?: any } = useWallet();\n\n  const processNetwork = useCallback(async () => {\n    const provider: any = await detectEthereumProvider();\n\n    if (provider) {\n      const chainId = Number(await provider.request({ method: 'eth_chainId' }));\n      setWrongNetwork(!getSupportedChains().includes(chainId));\n    }\n  }, []);\n\n  useEffect(() => {\n    processNetwork();\n  }, [core, account, processNetwork]);\n\n  const addNetworkToMetamask = (chainId: number) => {\n    console.log('addNetworkToMetamask')\n    if (window.ethereum) {\n      window.ethereum\n        .request({\n          method: 'wallet_addEthereumChain',\n          params: [\n            {\n              chainId: utils.hexStripZeros(\n                BigNumber.from(config[chainId].chainId).toHexString(),\n              ),\n              chainName: config[chainId].networkName,\n              rpcUrls: [config[chainId].defaultProvider],\n              iconUrls: [],\n              blockExplorerUrls: [config[chainId].etherscanUrl],\n              nativeCurrency: {\n                name: config[chainId].blockchainTokenName,\n                symbol: config[chainId].blockchainToken,\n                decimals: config[chainId].blockchainTokenDecimals,\n              },\n            },\n          ],\n        })\n        .then(() => {\n          switchMetamaskChain(chainId);\n        })\n        .catch((error: any) => {\n          if (error.code === 4001) {\n            console.log('We cannot encrypt anything without the key.');\n          }\n        });\n    }\n  };\n\n  const switchMetamaskChain = (chainId: number) => {\n    if (window.ethereum) {\n      window.ethereum\n        .request({\n          method: 'wallet_switchEthereumChain',\n          params: [\n            {\n              chainId: utils.hexStripZeros(\n                BigNumber.from(config[chainId].chainId).toHexString(),\n              ),\n            },\n          ],\n        })\n        .then(()=> {\n          console.log('Changed');\n          setOpenModal(false);\n          setChainId(chainId);\n          window.location.reload();\n        })\n        .catch((error: any) => {\n          console.log('switchMetamaskChain error', error);\n          if (error.code === 4902) addNetworkToMetamask(chainId);\n        });\n    }\n  };\n\n  return (\n    <div className={'m-r-12'}>\n      <DisplayView onClick={() => setOpenModal(!openModal)}>\n        <div className=\"single-line-center-between\">\n          <IconLoader\n            iconName={config[activeChainId].networkIconName}\n            iconType={'chains'}\n            width={24}\n            height={24}\n            className={'m-r-8'}\n          />\n          <TextWrapper text={config[activeChainId].networkDisplayName} className={'m-r-12'} />\n          <IconLoader iconName={'ArrowDown'} iconType={'arrow'} />\n        </div>\n        <SignalDot\n          color={wrongNetwork\n            ? theme.color.red[300]\n            : theme.color.green[300]}\n        />\n      </DisplayView>\n      {openModal && (\n        <MainDiv>\n          <BackgroundAbsolute onClick={() => setOpenModal(false)} />\n          <PositionDiv>\n            <NetworkDropDown>\n              {getAvailableChains.map((data) => {\n                const active = activeChainId === data;\n                return (\n                  <DifNetName\n                    key={config[data].networkDisplayName}\n                    style={\n                      active\n                        ? { background: 'rgba(255, 255, 255, 0.08)' }\n                        : { background: 'transparent' }\n                    }\n                    onClick={() => switchMetamaskChain(data)}\n                  >\n                    <div className=\"single-line-center-between\">\n                      <div className=\"single-line-center-start\">\n                        <IconLoader\n                          iconName={config[data].networkIconName}\n                          iconType={'chains'}\n                          width={24}\n                          height={24}\n                          className={'m-r-8'}\n                        />\n                        <TextWrapper text={config[data].networkDisplayName} />\n                      </div>\n                      {active &&\n                        <ActiveDot\n                          color={wrongNetwork\n                            ? theme.color.red[300]\n                            : theme.color.green[300]}\n                        />\n                      }\n                    </div>\n                  </DifNetName>\n                );\n              })}\n            </NetworkDropDown>\n          </PositionDiv>\n        </MainDiv>\n      )}\n    </div>\n  );\n};\n\nexport default NetworkChange;\n\nconst DisplayView = styled.div`\n  border-radius: 6px;\n  background: rgba(255, 255, 255, 0.08);\n  padding: 10px 15px;\n  cursor: pointer;\n  position: relative;\n`;\n\nconst NetworkDropDown = styled.div`\n  position: absolute;\n  top: 74px;\n  right: 230px;\n  background: ${theme.color.gradients.brown_gradient};\n  width: 188px;\n  border-radius: 6px;\n  backdrop-filter: blur(21px);\n  padding: 20px 20px 12px;\n`;\n\nconst DifNetName = styled.div`\n  border-radius: 6px;\n  padding: 8px 12px;\n  width: 148px;\n  margin-bottom: 8px;\n  cursor: pointer;\n`;\n\nconst ActiveDot = styled.div<{color: string}>`\n  height: 6px;\n  width: 6px;\n  background: ${({ color }) => color};\n  border-radius: 50%;\n`;\n\nconst BackgroundAbsolute = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n  z-index: 0;\n`;\n\nconst MainDiv = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n`;\n\nconst PositionDiv = styled.div`\n  box-sizing: border-box;\n  margin: 0 auto;\n  padding: 0 24px;\n  width: 100%;\n  position: relative;\n`;\n\nconst SignalDot = styled.div<{color: string}>`\n  position: absolute;\n  top: -4px;\n  right: -4px;\n  height: 8px;\n  width: 8px;\n  border-radius: 50%;\n  background: ${({ color }) => color};\n`\n","import React from 'react';\n\nimport { Grid } from '@material-ui/core';\n\nimport theme from '../../index';\nimport Button from '../Button';\nimport Modal from '../Modal';\nimport TextWrapper from '../TextWrapper';\n\ninterface ConfirmationModalProps {\n  modalOpen: boolean;\n  onClose: () => void;\n  modalTitle: string;\n\n  title: string;\n  subtitle?: string;\n  yesText: string;\n  noText: string;\n  yesAction: () => void;\n  noAction: () => void;\n}\n\nconst ConfirmationModal = (props: ConfirmationModalProps) => {\n  const {\n    modalOpen,\n    onClose,\n    modalTitle,\n\n    title = '',\n    subtitle = '',\n    yesText,\n    yesAction,\n    noText,\n    noAction,\n  } = props;\n\n  return (\n    <Modal closeButton handleClose={() => onClose()} open={modalOpen} title={modalTitle}>\n      <>\n        <TextWrapper text={title} fontWeight={600} className=\"m-b-8\" align={'center'} />\n        <TextWrapper\n          text={subtitle}\n          fontWeight={300}\n          Fcolor={theme.color.transparent[100]}\n          align=\"center\"\n        />\n        <Grid container spacing={2} style={{ marginTop: '32px' }}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              text={noText}\n              size={'lg'}\n              onClick={() => noAction()}\n            />\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button text={yesText} size={'lg'} onClick={() => yesAction()} />\n          </Grid>\n        </Grid>\n      </>\n    </Modal>\n  );\n};\n\nexport default ConfirmationModal;\n","import copyText from 'copy-to-clipboard';\nimport { BigNumber } from 'ethers';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\n\nimport MetamaskImg from '../../../../../assets/images/Metamask.svg';\nimport useTokenBalance from '../../../../../hooks/state/useTokenBalance';\nimport useCore from '../../../../../hooks/useCore';\nimport { useGetActiveChainId } from '../../../../../state/chains/hooks';\nimport theme from '../../../../../theme';\nimport Button from '../../../../../theme/components/Button';\nimport ConfirmationModal from '../../../../../theme/components/ConfirmationModal';\nimport IconLoader from '../../../../../theme/components/IconLoader';\nimport TextWrapper from '../../../../../theme/components/TextWrapper';\n// import { DECIMALS_18 } from '../../../../../protocol/constants';\nimport { truncateMiddle } from '../../../../../utils';\nimport { getDisplayBalance } from '../../../../../utils/formatBalance';\nimport TextButton from \"../../../../../theme/components/TextButton\";\nimport ERC20 from \"../../../../../protocol/ERC20\";\n\n// import useMAHAOraclePrice from '../../../../../hooks/state/controller/useMAHAPrice';\n\nconst WalletInfo = () => {\n  const [isCopied, setIsCopied] = useState<boolean>(false);\n  const [showConfirmationModal, setShowConfirmationModal] = useState<boolean>(false);\n\n  const { account } = useWallet();\n  const core = useCore();\n  const activeChainId = useGetActiveChainId();\n\n  const maha = core.tokens('MAHA', activeChainId);\n  const arth = core.tokens('ARTH', activeChainId);\n  const arthusd = core.tokens('ARTH.usd', activeChainId);\n  const mahaBal = useTokenBalance(maha);\n  const arthBal = useTokenBalance(arth);\n  const arthusdBal = useTokenBalance(arthusd);\n\n  useEffect(() => {\n    if (isCopied) {\n      const hide = setTimeout(() => {\n        setIsCopied(false);\n      }, 500);\n\n      return () => {\n        clearTimeout(hide);\n      };\n    }\n  }, [isCopied, setIsCopied]);\n\n  const addTokenToMetaMask = (data: ERC20) => {\n    const params = {\n      type: 'ERC20',\n      options: {\n        address: data.address,\n        symbol: data.symbol,\n        decimals: data.decimal,\n      }\n    };\n\n    // @ts-ignore\n    window.ethereum.request({ method: 'wallet_watchAsset', params })\n      .then(() => console.log('added'))\n      .catch((error: Error) => console.log('error', error));\n  }\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        modalOpen={showConfirmationModal}\n        onClose={() => setShowConfirmationModal(false)}\n        modalTitle={'Disconnect Wallet'}\n        title={`Are you sure you want to disconnect ${truncateMiddle(account || '', 15)}?`}\n        subtitle={`${account || ''}`}\n        yesText={'Disconnect'}\n        noText={'Cancel'}\n        yesAction={() => {\n          setShowConfirmationModal(false);\n          localStorage.setItem('disconnectWallet', '1');\n          window.location.reload();\n        }}\n        noAction={() => setShowConfirmationModal(false)}\n      />\n      <WalletHeader className=\"single-line-center-between bottom-divider\">\n        <TextWrapper text={'Your Account'} fontWeight={600} fontSize={16} />\n        <div className=\"single-line-center-start\">\n          <img src={MetamaskImg} height={32} className=\"m-r-8\" alt=\"metamask\" />\n          <TextWrapper\n            text={`${truncateMiddle(account || '', 12, '...')}`}\n            fontWeight={600}\n            fontSize={16}\n            className=\"m-r-8\"\n          />\n          {isCopied ? (\n            <IconLoader iconName={'Copied'} />\n          ) : (\n            <IconLoader\n              iconName={'Copy'}\n              onClick={() => {\n                const didCopy = copyText(account?.toString() || '');\n                setIsCopied(didCopy);\n              }}\n            />\n          )}\n        </div>\n      </WalletHeader>\n      <WalletBody>\n        <div className=\"single-line-center-between m-b-20\">\n          <div className=\"single-line-center-start\">\n            <IconLoader\n              iconName={'MAHA'}\n              iconType=\"tokenSymbol\"\n              className=\"m-r-12\"\n              height={44}\n              width={44}\n            />\n            {mahaBal.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={`${Number(\n                  getDisplayBalance(mahaBal.value, 18, 3),\n                ).toLocaleString()} MAHA`}\n                fontWeight={600}\n              />\n            )}\n          </div>\n          <TextButton onClick={() => addTokenToMetaMask(maha)} text={'Add to metamask'}/>\n        </div>\n        <div className=\"single-line-center-between m-b-20\">\n          <div className=\"single-line-center-start\">\n            <IconLoader\n              iconName={'ARTH'}\n              iconType=\"tokenSymbol\"\n              className=\"m-r-12\"\n              height={44}\n              width={44}\n            />\n            {arthBal.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={`${Number(getDisplayBalance(arthBal.value)).toLocaleString()} ARTH`}\n                fontWeight={600}\n              />\n            )}\n          </div>\n          <TextButton onClick={() => addTokenToMetaMask(arth)} text={'Add to metamask'}/>\n        </div>\n        <div className=\"single-line-center-between m-b-20\">\n          <div className=\"single-line-center-start\">\n            <IconLoader\n              iconName={'ARTH.usd'}\n              iconType=\"tokenSymbol\"\n              className=\"m-r-12\"\n              height={44}\n              width={44}\n            />\n            {arthBal.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={`${Number(getDisplayBalance(arthusdBal.value)).toLocaleString()} ARTH.usd`}\n                fontWeight={600}\n              />\n            )}\n          </div>\n          <TextButton onClick={() => addTokenToMetaMask(arthusd)} text={'Add to metamask'}/>\n        </div>\n        <Button variant={'transparent'} onClick={() => setShowConfirmationModal(true)}>\n          Disconnect\n        </Button>\n      </WalletBody>\n    </MainContainer>\n  );\n};\n\nexport default WalletInfo;\n\nconst MainContainer = styled.div`\n  width: 100%;\n`;\n\nconst WalletHeader = styled.div`\n  padding-bottom: 16px;\n`;\n\nconst WalletBody = styled.div`\n  padding: 24px 0 0 0;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport WalletInfo from './index';\n\ninterface DesktopWalletInfoProps {\n  modalOpen: boolean;\n  onClose: () => void;\n}\n\nconst DesktopWalletInfo = (props: DesktopWalletInfoProps) => {\n  const { modalOpen } = props;\n\n  if (!modalOpen) {\n    return null;\n  }\n\n  return (\n    <MainDiv>\n      <PositionDiv>\n        <WalletDiv>\n          <WalletInfo />\n        </WalletDiv>\n      </PositionDiv>\n    </MainDiv>\n  );\n};\n\nconst MainDiv = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n`;\n\nconst PositionDiv = styled.div`\n  box-sizing: border-box;\n  margin: 0 auto;\n  padding: 0 60px;\n  width: 100%;\n  position: relative;\n`;\n\nconst WalletDiv = styled.div`\n  position: absolute;\n  background: linear-gradient(180deg, #48423e 0%, #373030 100%);\n  border-radius: 6px;\n  right: 60px;\n  top: 72px;\n  width: 380px;\n  z-index: 111;\n  transition: 1s ease-in-out;\n  padding: 24px;\n`;\n\nexport default DesktopWalletInfo;\n","import { BigNumber, utils } from 'ethers';\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\n\nimport config from '../../../config';\nimport Button from '../../../theme/components/Button';\nimport { BackgroundAbsolute } from '../../../theme/components/CustomComponent';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport { truncateMiddle } from '../../../utils';\n\nimport ChooseWallet from './modal/WalletInfo/ChooseWallet';\nimport DesktopWalletInfo from './modal/WalletInfo/DesktopWalletInfo';\nimport TextWrapper from \"../../../theme/components/TextWrapper\";\nimport theme from \"../../../theme\";\nimport WrongNetworkModal from \"../../../theme/components/WrongNetworkModal\";\nimport { useGetActiveChainId } from \"../../../state/chains/hooks\";\n\ninterface AccountButtonProps {\n  showWarning: boolean;\n}\n\nconst AccountButton: React.FC<AccountButtonProps> = ({\n  showWarning = false,\n}: AccountButtonProps) => {\n  const [showWalletInfo, setShowWalletInfo] = useState<boolean>(false);\n  const [showWalletOption, setShowWalletOption] = useState<boolean>(false);\n  const [showWrongNeworkModal, setShowWrongNeworkModal] = useState<boolean>(false);\n  const { account } = useWallet();\n  const chainId = useGetActiveChainId()\n\n  const switchMetamaskChain = () => {\n    if (window.ethereum) {\n      window.ethereum\n        // @ts-ignore\n        .request({\n          method: 'wallet_switchEthereumChain',\n          params: [\n            { chainId: utils.hexStripZeros(BigNumber.from(config.chainId).toHexString()) },\n          ],\n        })\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error: any) => {\n          if (error.code === 4902) addNetworkToMetamask();\n        });\n    }\n  };\n\n  const addNetworkToMetamask = () => {\n    if (window.ethereum) {\n      window.ethereum\n        // @ts-ignore\n        .request({\n          method: 'wallet_addEthereumChain',\n          params: [\n            {\n              chainId: utils.hexStripZeros(BigNumber.from(config.chainId).toHexString()),\n              chainName: config.networkName,\n              rpcUrls: [config[chainId].defaultProvider],\n              iconUrls: [],\n              blockExplorerUrls: [config.etherscanUrl],\n              nativeCurrency: {\n                name: config.blockchainTokenName,\n                symbol: config.blockchainToken,\n                decimals: config.blockchainTokenDecimals,\n              },\n            },\n          ],\n        })\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error: any) => {\n          if (error.code === 4001) {\n            // EIP-1193 userRejectedRequest error.\n            console.log('We cannot encrypt anything without the key.');\n          }\n        });\n    }\n  };\n\n  return (\n    <>\n      <WrongNetworkModal open={showWrongNeworkModal} onClose={() => setShowWrongNeworkModal(false)}/>\n      <ChooseWallet openModal={showWalletOption} onClose={() => setShowWalletOption(false)} />\n      {showWalletInfo && <BackgroundAbsolute onClick={() => setShowWalletInfo(false)} />}\n      <StyledAccountButton>\n        {showWarning ? (\n            <WrongNetworkButton onClick={() => setShowWrongNeworkModal(true)}>\n              <TextWrapper text={'Wrong Network'} align={'center'} fontWeight={600}/>\n            </WrongNetworkButton>\n        ) : !account ? (\n          <Button\n            variant=\"transparent\"\n            text=\"Connect\"\n            tracking_id={'connect_wallet'}\n            onClick={() => {\n              setShowWalletOption(true);\n            }}\n          />\n        ) : (\n          <Button\n            onClick={() => setShowWalletInfo(!showWalletInfo)}\n            variant={'transparent'}\n            text={truncateMiddle(account, 12, '...')}\n          >\n            <IconLoader iconName={'Wallet'} width={24} height={24} className=\"m-r-8\" />\n          </Button>\n        )}\n      </StyledAccountButton>\n      <DesktopWalletInfo\n        modalOpen={showWalletInfo}\n        onClose={() => {\n          setShowWalletInfo(false);\n        }}\n      />\n    </>\n  );\n};\n\nconst StyledAccountButton = styled.div``;\n\nexport default AccountButton;\n\nconst WrongNetworkButton = styled.div`\n  padding: 10px 22px;\n  width: 100%;\n  background: ${theme.color.red[300]};\n  border-radius: 6px;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n`\n","import { BigNumber, utils } from 'ethers';\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport styled from 'styled-components';\n\nimport config, { getSupportedChains } from '../../config';\nimport { useGetActiveChainId, useGetUpdateActiveChainId } from '../../state/chains/hooks';\nimport theme from '../../theme';\nimport IconLoader from '../../theme/components/IconLoader';\nimport Modal from '../../theme/components/Modal';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport detectEthereumProvider from \"@metamask/detect-provider\";\nimport useCore from \"../../hooks/useCore\";\nimport { useWallet } from \"use-wallet\";\n\nconst MobileNetworkChange = () => {\n  const activeChainId = useGetActiveChainId();\n  const setChainId = useGetUpdateActiveChainId();\n  const [openModal, setOpenModal] = useState<boolean>(false);\n  const getAvailableChains = getSupportedChains();\n  const [wrongNetwork, setWrongNetwork] = React.useState<boolean>(false);\n  const core = useCore();\n  const { account, ethereum }: { account: any, ethereum?: any } = useWallet();\n\n  const processNetwork = useCallback(async () => {\n    const provider: any = await detectEthereumProvider();\n\n    if (provider) {\n      const chainId = Number(await provider.request({ method: 'eth_chainId' }));\n      setWrongNetwork(!getSupportedChains().includes(chainId));\n    }\n  }, []);\n\n  useEffect(() => {\n    processNetwork();\n  }, [core, account, processNetwork]);\n\n  const addNetworkToMetamask = (chainId: number) => {\n    if (window.ethereum) {\n      window.ethereum\n        .request({\n          method: 'wallet_addEthereumChain',\n          params: [\n            {\n              chainId: utils.hexStripZeros(\n                BigNumber.from(config[chainId].chainId).toHexString(),\n              ),\n              chainName: config[chainId].networkName,\n              rpcUrls: [config[chainId].defaultProvider],\n              iconUrls: [],\n              blockExplorerUrls: [config[chainId].etherscanUrl],\n              nativeCurrency: {\n                name: config[chainId].blockchainTokenName,\n                symbol: config[chainId].blockchainToken,\n                decimals: config[chainId].blockchainTokenDecimals,\n              },\n            },\n          ],\n        })\n        .then(() => {\n          switchMetamaskChain(chainId);\n        })\n        .catch((error: any) => {\n          if (error.code === 4001) {\n            console.log('We cannot encrypt anything without the key.');\n          }\n        });\n    }\n  };\n\n  const switchMetamaskChain = (chainIds: number) => {\n    if (window.ethereum) {\n      window.ethereum\n        .request({\n          method: 'wallet_switchEthereumChain',\n          params: [\n            {\n              chainId: utils.hexStripZeros(\n                BigNumber.from(config[chainIds].chainId).toHexString(),\n              ),\n            },\n          ],\n        })\n        .then(() => {\n          setOpenModal(false);\n          setChainId(chainIds);\n          window.location.reload();\n        })\n        .catch((error: any) => {\n          addNetworkToMetamask(chainIds);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <DisplayView onClick={() => setOpenModal(true)}>\n        <div className=\"single-line-center-between\">\n          <IconLoader\n            iconName={config[activeChainId].networkIconName}\n            iconType={'chains'}\n            width={24}\n            height={24}\n            className={'m-r-8'}\n          />\n          <TextWrapper text={config[activeChainId].networkDisplayName} className={'m-r-12'} />\n          <IconLoader iconName={'ArrowDown'} iconType={'arrow'} />\n        </div>\n        <SignalDot\n          color={wrongNetwork\n            ? theme.color.red[300]\n            : theme.color.green[300]}\n        />\n      </DisplayView>\n      <Modal\n        handleClose={() => setOpenModal(false)}\n        open={openModal}>\n        {getAvailableChains.map((data) => {\n          const active = activeChainId === data;\n          return (\n            <DifNetName\n              key={config[data].networkDisplayName}\n              style={\n                active\n                  ? { background: 'rgba(255, 255, 255, 0.08)' }\n                  : { background: 'transparent' }\n              }\n              onClick={() => switchMetamaskChain(data)}\n            >\n              <div className=\"single-line-center-between\">\n                <div className=\"single-line-center-start\">\n                  <IconLoader\n                    iconName={config[data].networkIconName}\n                    iconType={'chains'}\n                    width={24}\n                    height={24}\n                    className={'m-r-8'}\n                  />\n                  <TextWrapper text={config[data].networkDisplayName} />\n                </div>\n                {active &&\n                  <ActiveDot\n                    color={wrongNetwork\n                      ? theme.color.red[300]\n                      : theme.color.green[300]}\n                  />\n                }\n              </div>\n            </DifNetName>\n          );\n        })}\n      </Modal>\n    </div>\n  );\n};\n\nexport default MobileNetworkChange;\n\nconst DisplayView = styled.div`\n  border-radius: 6px;\n  background: rgba(255, 255, 255, 0.08);\n  padding: 10px 15px;\n  cursor: pointer;\n  position: relative;\n`;\n\nconst NetworkDropDown = styled.div`\n  position: absolute;\n  top: 74px;\n  right: 230px;\n  background: ${theme.color.gradients.brown_gradient};\n  width: 188px;\n  border-radius: 6px;\n  backdrop-filter: blur(21px);\n  padding: 20px 20px 12px;\n`;\n\nconst DifNetName = styled.div`\n  border-radius: 6px;\n  padding: 8px 12px;\n  margin-bottom: 8px;\n  cursor: pointer;\n`;\n\nconst ActiveDot = styled.div<{ color: string }>`\n  height: 6px;\n  width: 6px;\n  background: ${({ color }) => color};\n  border-radius: 50%;\n`;\n\nconst SignalDot = styled.div<{ color: string }>`\n  position: absolute;\n  top: -4px;\n  right: -4px;\n  height: 8px;\n  width: 8px;\n  border-radius: 50%;\n  background: ${({ color }) => color};\n`\n","import React from 'react';\nimport styled from 'styled-components';\nimport { format } from 'timeago.js';\n\nimport config from '../../../../../config';\nimport { TransactionDetails } from '../../../../../state/transactions/reducer';\nimport IconLoader from '../../../../../theme/components/IconLoader';\n\nconst TransactionWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst IconWrapper = styled.div<{ pending: boolean; success?: boolean }>`\n  color: ${({ pending, success, theme }) =>\n    pending ? theme.primary1 : success ? theme.green1 : theme.red1};\n`;\n\nconst StateWrapper = styled.div<{ pending: boolean; success?: boolean }>`\n  color: ${({ pending, success }) => (pending ? '#FCB400' : success ? '#00000000' : '#FA4C69')};\n  font-style: normal;\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 130%;\n`;\n\ninterface TransactionProps {\n  tx: TransactionDetails;\n  chainId: number;\n}\n\nconst SingleTransaction: React.FC<TransactionProps> = ({ tx, chainId }) => {\n  const summary = tx.summary;\n  const pending = !tx.receipt;\n  const success =\n    !pending && tx && (tx.receipt?.status === 1 || typeof tx.receipt?.status === 'undefined');\n  const date = tx?.confirmedTime || tx?.addedTime;\n\n  return (\n    <TransactionWrapper>\n      <IconWrapper pending={pending} success={success}>\n        {pending ? (\n          <IconLoader iconName={'ColoredPending'} iconType={'status'} />\n        ) : success ? (\n          <IconLoader iconName={'ColoredSuccess'} iconType={'status'} />\n        ) : (\n          <IconLoader iconName={'ColoredAlert'} iconType={'status'} />\n        )}\n      </IconWrapper>\n      <InfoSection>\n        <Title href={`${config[chainId].etherscanUrl}/tx/${tx.hash}`} target=\"_blank\">\n          {summary ?? tx.hash}\n        </Title>\n        <Date>{format(date)}</Date>\n      </InfoSection>\n      <StateWrapper pending={pending} success={success}>\n        {pending ? 'Pending' : success ? '' : 'Failed'}\n      </StateWrapper>\n    </TransactionWrapper>\n  );\n};\n\nconst InfoSection = styled.div`\n  flex: 1;\n  text-align: left;\n  margin-bottom: 16px;\n  margin-left: 14px;\n`;\n\nconst Title = styled.a`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.88);\n  margin-bottom: 4px;\n  cursor: pointer;\n  &:hover {\n    color: rgba(255, 255, 255, 0.88);\n  }\n`;\n\nconst Date = styled.p`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 130%;\n  color: rgba(255, 255, 255, 0.64);\n  margin-bottom: 0;\n`;\n\nexport default SingleTransaction;\n","import React, { useMemo, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\n\nimport IconButton from '@material-ui/core/IconButton';\n\nimport { useGetActiveChainId } from '../../../../../state/chains/hooks';\nimport {\n  isTransactionRecent,\n  useAllTransactions,\n  useClearAllTransactions,\n} from '../../../../../state/transactions/hooks';\nimport { TransactionDetails } from '../../../../../state/transactions/reducer';\nimport ConfirmationModal from '../../../../../theme/components/ConfirmationModal';\nimport IconLoader from '../../../../../theme/components/IconLoader';\n\nimport SingleTransaction from './SingleTransaction';\n\ninterface props {\n  openModal: boolean;\n  onDismiss: () => void;\n}\n\nconst TxModal: React.FC<props> = ({ openModal, onDismiss }) => {\n  const { account } = useWallet();\n\n  const allTransactions = useAllTransactions();\n  const chainId = useGetActiveChainId();\n  const { clearAllTransactions } = useClearAllTransactions();\n\n  const [openConfirmationModal, setOpenConfirmationModal] = useState<boolean>(false);\n\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions);\n    return txs\n      .filter((tx) => isTransactionRecent(tx) && tx.from === account)\n      .sort(newTransactionsFirst);\n  }, [allTransactions, account]);\n\n  const handleClose = () => {\n    onDismiss();\n  };\n\n  if (!openModal) return null;\n\n  return (\n    <div>\n      <ConfirmationModal\n        modalOpen={openConfirmationModal}\n        onClose={() => setOpenConfirmationModal(false)}\n        modalTitle={'Clear all transaction'}\n        title={'Are you sure you want to clear all transaction?'}\n        yesText={'Yes'}\n        noText={'No'}\n        yesAction={() => {\n          setOpenConfirmationModal(false);\n          clearAllTransactions();\n        }}\n        noAction={() => setOpenConfirmationModal(false)}\n      />\n      <ModalHeader>\n        <Title>Recent Transactions</Title>\n        <RightSubHeader>\n          {sortedRecentTransactions.length > 0 && (\n            <ClearAll onClick={() => setOpenConfirmationModal(true)}>Clear all</ClearAll>\n          )}\n          <CrossIcon>\n            <IconButton aria-label=\"close\" onClick={() => handleClose()}>\n              <IconLoader iconName={'Cross'} width={24} />\n            </IconButton>\n          </CrossIcon>\n        </RightSubHeader>\n      </ModalHeader>\n      <ModalBody>\n        {sortedRecentTransactions.length === 0 && (\n          <div>\n            <NoTransaction>You haven’t done any transaction yet.</NoTransaction>\n            <CallToAction to={'/farming'} onClick={() => handleClose()}>\n              Farm and earn rewards\n            </CallToAction>\n          </div>\n        )}\n        <StyledTransactionList>\n          {sortedRecentTransactions.map((tx) => (\n            <SingleTransaction key={tx.hash} tx={tx} chainId={chainId} />\n          ))}\n        </StyledTransactionList>\n        {/*{\n            pending?.length > 0\n              ? (\n\n              ) : (\n                <div className=\"m-b-20 m-t-20\">\n                  <Label text=\"No pending transactions.\" color=\"#777\" />\n                </div>\n              )\n          }\n          {\n            confirmed?.length > 0\n              ? (\n                <>\n                  <Divider\n                    style={{\n                      background: 'rgba(255, 255, 255, 0.08)',\n                      margin: '15px 0px',\n                    }}\n                  />\n                  <StyledTitleArea style={{ flex: 1, display: 'flex', justifyContent: 'space-between' }}>\n                    <Label text=\"Recent transactions\" />\n                    {\"  \"}\n                    <StyledClearIconWrapper>\n                      <Trash onClick={clearAllTransactions} size=\"16\" />\n                    </StyledClearIconWrapper>\n                  </StyledTitleArea>\n                  <StyledTransactionList>\n                    {confirmed.map((tx) => (\n                      <Transaction key={tx.hash} tx={tx} />\n                    ))}\n                  </StyledTransactionList>\n                </>\n              )\n              : (\n                <div className=\"m-t-20 m-b-20\">\n                  <Label text=\"No recent transactions.\" color=\"#777\" />\n                </div>\n              )\n          }*/}\n      </ModalBody>\n    </div>\n  );\n};\n\nconst ModalHeader = styled.div`\n  padding: 0 0 12px 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst Title = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n  color: #ffffff;\n  margin-bottom: 0;\n`;\n\nconst RightSubHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n\nconst ClearAll = styled.p`\n  font-style: normal;\n  font-weight: 300;\n  font-size: 12px;\n  line-height: 130%;\n  color: rgba(255, 255, 255, 0.32);\n  cursor: pointer;\n  margin-bottom: 0;\n`;\n\nconst CrossIcon = styled.div`\n  margin-right: -12px;\n`;\n\nconst ModalBody = styled.div`\n  padding: 24px 0 0 0;\n  overflow-y: scroll;\n  max-height: calc(360px - 72px);\n  @media (max-width: 600px) {\n    max-height: calc(100vh - 114px);\n  }\n`;\n\nconst NoTransaction = styled.p`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 150%;\n  color: rgba(255, 255, 255, 0.88);\n  margin-bottom: 8px;\n  padding: 0 12px;\n  text-align: center;\n`;\n\nconst CallToAction = styled(Link)`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 150%;\n  color: #f7653b;\n  text-align: center;\n  width: 100%;\n  display: block;\n  &:hover {\n    color: #f7653b;\n  }\n`;\n\nconst StyledTransactionList = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\n// we want the latest one to come first, so return negative if an is after b\nfunction newTransactionsFirst(a: TransactionDetails, b: TransactionDetails) {\n  return b.addedTime - a.addedTime;\n}\n\nexport default TxModal;\n","import React from 'react';\n\nimport Modal from '../../../../../theme/components/Modal';\n\nimport TxModal from './TxModal';\n\ninterface Iprops {\n  openModal: boolean;\n  onDismiss: () => void;\n}\n\nconst DesktopTransactionInfo = (props: Iprops) => {\n  const { openModal, onDismiss } = props;\n\n  if (!openModal) return null;\n\n  return (\n    <Modal open={openModal}>\n      <TxModal openModal={openModal} onDismiss={() => onDismiss()} />\n    </Modal>\n  );\n};\n\nexport default DesktopTransactionInfo;\n","import React from 'react';\n\nimport Modal from '../../../../../theme/components/Modal';\n\nimport WalletInfo from './index';\n\ninterface MobileWalletInfoProps {\n  modalOpen: boolean;\n  onClose: () => void;\n}\n\nconst MobileWalletInfo = (props: MobileWalletInfoProps) => {\n  const { modalOpen, onClose } = props;\n\n  return (\n    <Modal closeButton handleClose={() => onClose()} open={modalOpen}>\n      <div>\n        <WalletInfo />\n      </div>\n    </Modal>\n  );\n};\n\nexport default MobileWalletInfo;\n","import React, { useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\n\nimport { useGetActiveChainId } from '../../../state/chains/hooks';\nimport Button from '../../../theme/components/Button';\nimport { BackgroundAbsolute } from '../../../theme/components/CustomComponent';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport { truncateMiddle } from '../../../utils';\nimport MobileNetworkChange from '../../NetworkChange/MobileNetworkChange';\nimport MobileTransactionInfo from '../components/modal/Transaction/MobileTransactionInfo';\n\nimport MobileWalletInfo from './modal/WalletInfo/MobileWalletInfo';\nimport AccountButton from \"./AccountButton\";\nimport TextWrapper from \"../../../theme/components/TextWrapper\";\nimport theme from \"../../../theme\";\nimport WrongNetworkModal from \"../../../theme/components/WrongNetworkModal\";\nimport config from \"../../../config\";\n\ninterface props {\n  openMenu: boolean;\n  isMainnet: boolean;\n  showWarning: boolean;\n  onClick: () => void;\n  onWalletClick: () => void;\n}\n\nconst MobileNav = (props: props) => {\n  const isMobile = useMediaQuery({ maxWidth: '600px' });\n  const { account, connect } = useWallet();\n  const activeChainId = useGetActiveChainId();\n  const [showWalletInfo, setShowWalletInfo] = useState<boolean>(false);\n  const [showTxModal, setShowTxModal] = useState<boolean>(false);\n  const [showWrongNeworkModal, setShowWrongNeworkModal] = useState<boolean>(false);\n  const [openExpandable, setOpenExpandable] = useState<boolean>(false);\n\n  const { pathname } = useLocation();\n\n  return (\n    <div>\n      <MobileWalletInfo\n        modalOpen={showWalletInfo && isMobile}\n        onClose={() => setShowWalletInfo(false)}\n      />\n      <WrongNetworkModal open={showWrongNeworkModal} onClose={() => setShowWrongNeworkModal(false)} />\n      <MobileTransactionInfo openModal={showTxModal} onDismiss={() => setShowTxModal(false)} />\n\n      {props.openMenu && <BackgroundAbsolute onClick={() => props.onClick()} />}\n      <StyledNav\n        style={{\n          width: props.openMenu ? '100%' : '0%',\n          opacity: props.openMenu ? 1 : 0\n        }}>\n        <WalletButton className=\"bottom-divider\">\n          {props.showWarning ? (\n            <WrongNetworkButton onClick={() => setShowWrongNeworkModal(true)}>\n              <TextWrapper text={'Wrong Network'} align={'center'} fontWeight={600} />\n            </WrongNetworkButton>\n          ) : !account ? (\n            <Button\n              text=\"Connect\"\n              tracking_id={'connect_wallet'}\n              onClick={() => {\n                connect('injected')\n                  .then(() => {\n                    console.log('Connected');\n                    localStorage.removeItem('disconnectWallet');\n                  })\n                  .catch((e) => {\n                    console.log('Connection error', e);\n                  });\n              }}\n            />\n          ) : (\n            <div className=\"w-100 p-b-20 bottom-divider\">\n              <div className=\"m-b-8\">\n                <Button\n                  onClick={() => setShowWalletInfo(!showWalletInfo)}\n                  variant={'transparent'}\n                  text={truncateMiddle(account, 12, '...')}\n                >\n                  <IconLoader iconName={'Wallet'} width={24} height={24} className=\"m-r-8\" />\n                </Button>\n              </div>\n\n              <Button\n                onClick={() => {\n                  setShowTxModal(true);\n                }}\n                variant={'transparent'}\n                text={'Transactions'}\n              >\n                <IconLoader iconName={'Transaction'} width={24} height={24} className=\"m-r-8\" />\n              </Button>\n            </div>\n          )}\n          <div className={'m-t-16'}>\n            <MobileNetworkChange />\n          </div>\n        </WalletButton>\n        <TopMenu className=\"bottom-divider\">\n          <StyledLink\n            exact\n            activeClassName=\"activeSidebar\"\n            onClick={props.onClick}\n            to=\"/strategies/all-strategies\"\n          >\n            Strategies\n          </StyledLink>\n          <StyledLink\n            exact\n            activeClassName=\"activeSidebar\"\n            onClick={props.onClick}\n            to=\"/farming\"\n          >\n            Farming\n          </StyledLink>\n          <ExpandableMenu onClick={() => setOpenExpandable(!openExpandable)}>\n            <div className={'single-line-center-between'}>\n              <span>Loans</span>\n              <IconLoader iconName={openExpandable ? 'ArrowUp' : 'ArrowDown'} iconType={'arrow'} />\n            </div>\n          </ExpandableMenu>\n          <ExpandedSection visible={openExpandable}>\n            <StyledLink\n              activeClassName=\"activeSidebar\"\n              to=\"/loan/add\"\n              onClick={props.onClick}>\n              Open New Loan\n            </StyledLink>\n            <StyledLink\n              activeClassName=\"activeSidebar\"\n              to=\"/loans/overview\"\n              onClick={props.onClick}>\n              Overview\n            </StyledLink>\n            <StyledLink\n              exact\n              activeClassName=\"activeSidebar\"\n              onClick={props.onClick}\n              to=\"/stability-pool\"\n            >\n              Stability Pool\n            </StyledLink>\n            <StyledLink\n              exact\n              activeClassName=\"activeSidebar\"\n              onClick={props.onClick}\n              to=\"/redeem\"\n            >\n              Redeem\n            </StyledLink>\n            <StyledLink\n              exact\n              activeClassName=\"activeSidebar\"\n              onClick={props.onClick}\n              to=\"/tokenization\"\n            >\n              Tokenize\n            </StyledLink>\n          </ExpandedSection>\n          <StyledLink\n            exact\n            activeClassName=\"activeSidebar\"\n            onClick={props.onClick}\n            to=\"/trade\"\n          >\n            Trade\n          </StyledLink>\n          <StyledLink\n            activeClassName=\"activeSidebar\"\n            to=\"/pools\"\n            onClick={props.onClick}>\n            Pools\n          </StyledLink>\n          {/* <StyledLinkHref href={config[activeChainId].tradingLink} target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Trade</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref> */}\n          <StyledLinkHref href={'https://defillama.com/protocol/mahadao'} target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Analytics</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref>\n          {(activeChainId === 97 || activeChainId === 80001) && (\n            <StyledLink\n              exact\n              activeClassName=\"activeSidebar\"\n              onClick={props.onClick}\n              to=\"/faucet\"\n            >\n              Faucet\n            </StyledLink>\n          )}\n        </TopMenu>\n        <BottomMenu className=\"bottom-divider\">\n          <StyledLinkHref href=\"https://docs.arthcoin.com/\" target={'_blank'}>\n            Documentation\n          </StyledLinkHref>\n          <StyledLinkHref href=\"https://www.youtube.com/watch?v=8lFdzDkRXhw&list=PL2bcCoQ5RXeGh-Gkh1QZE_SjevMIDdtgN&index=9\" target={'_blank'}>\n            Video Tutorials\n          </StyledLinkHref>\n          <StyledLinkHref href=\"https://forms.gle/XNWxUs5AKgbZeED26\" target={'_blank'}>\n            Report a Bug\n          </StyledLinkHref>\n        </BottomMenu>\n      </StyledNav>\n    </div>\n  );\n};\n\nconst StyledNav = styled.nav`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  top: 70px;\n  width: 100%;\n  left: 0;\n  background: #1e1d1d;\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n  height: calc(100vh - 72px);\n  overflow-y: scroll;\n  transition: 0.2s ease-out;\n  z-index: 111;\n`;\n\nconst TopMenu = styled.div`\n  padding: 24px 12px 16px 12px;\n  width: 100%;\n`;\n\nconst BottomMenu = styled.div`\n  padding: 24px 12px 16px 12px;\n  width: 100%;\n`;\n\nconst WalletButton = styled.div`\n  padding: 24px 12px 16px 12px;\n  width: 100%;\n`;\n\nconst StyledLink = styled(NavLink)`\n  padding: 8px 16px;\n  width: 100%;\n  border-radius: 2px;\n  display: block;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff88;\n  margin-bottom: 8px;\n  &:hover {\n    outline: 1px solid rgba(255, 255, 255, 0.08);\n    color: #ffffff88;\n    opacity: 1;\n  }\n`;\n\nconst StyledLinkHref = styled.a`\n  padding: 8px 16px;\n  width: 100%;\n  border-radius: 2px;\n  display: block;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff88;\n  margin-bottom: 8px;\n  &:hover {\n    outline: 1px solid rgba(255, 255, 255, 0.08);\n    color: #ffffff88;\n    opacity: 1;\n  }\n  &:active {\n    background: rgba(255, 255, 255, 0.01);\n    border-radius: 2px;\n    width: 100%;\n    color: #ffffff88;\n    opacity: 1;\n  }\n`;\n\nconst WrongNetworkButton = styled.div`\n  padding: 10px 22px;\n  width: 100%;\n  background: ${theme.color.red[300]};\n  border-radius: 6px;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n`\n\nconst ExpandableMenu = styled.div`\n  padding: 8px 16px;\n  width: 100%;\n  border-radius: 2px;\n  display: block;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff88;\n  margin-bottom: 8px;\n  cursor: pointer;\n  &:hover {\n    outline: 1px solid rgba(255, 255, 255, 0.08);\n    color: #ffffff88;\n    opacity: 1;\n  }\n  &:active {\n    background: rgba(255, 255, 255, 0.01);\n    border-radius: 2px;\n    width: 100%;\n    color: #ffffff88;\n    opacity: 1;\n  }\n`\n\nconst ExpandedSection = styled.div<{ visible: boolean }>`\n  padding: 12px;\n  border-radius: 4px;\n  background: rgba(255, 255, 255, 0.02);\n  height: ${(props) => props.visible ? 'auto' : '0px'};\n  display: ${(props) => props.visible ? 'block' : 'none'};\n  transition: 0.5s ease-in-out;\n`\n\nexport default MobileNav;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport IconLoader from '../../../../../theme/components/IconLoader';\nimport TextWrapper from '../../../../../theme/components/TextWrapper';\n\ninterface Iprops {\n  openModal: boolean;\n  onDismiss: () => void;\n}\n\nconst DesktopProjectRoute = (props: Iprops) => {\n  const { openModal, onDismiss } = props;\n\n  if (!openModal) return null;\n\n  return (\n    <MainDiv>\n      <BackgroundAbsolute onClick={() => onDismiss()} />\n      <PositionDiv>\n        <ProjectDiv id={'desktop_project_modal'}>\n          <div\n            className=\"single-line-center-start m-b-40 pointer\"\n            onClick={() => {\n              window.open('https://gov.mahadao.com/#/');\n            }}\n          >\n            <IconLoader iconName={'Gov'} iconType={'products'} className={'m-r-16'} />\n            <div>\n              <TextWrapper text={'Governance'} fontWeight={600} className={'m-b-4'} />\n              <TextWrapper text={'Community driven governance'} />\n            </div>\n          </div>\n          <div\n            className=\"single-line-center-start pointer\"\n            onClick={() => {\n              window.open('https://mahastarter.com/#/');\n            }}\n          >\n            <IconLoader iconName={'Starter'} iconType={'products'} className={'m-r-16'} />\n            <div>\n              <TextWrapper text={'MahaStarter'} fontWeight={600} className={'m-b-4'} />\n              <TextWrapper text={'Incubator for the MahaDAO Ecosystem'} />\n            </div>\n          </div>\n        </ProjectDiv>\n      </PositionDiv>\n    </MainDiv>\n  );\n};\n\nexport default DesktopProjectRoute;\n\nconst BackgroundAbsolute = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n  z-index: 1;\n`;\n\nconst MainDiv = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n`;\n\nconst PositionDiv = styled.div`\n  box-sizing: border-box;\n  margin: 0 auto;\n  padding: 0 24px;\n  width: 100%;\n  position: relative;\n`;\n\nconst ProjectDiv = styled.div`\n  position: absolute;\n  background: linear-gradient(180deg, #48423e 0%, #373030 100%);\n  border-radius: 6px;\n  right: 340px;\n  top: 72px;\n  width: 360px;\n  z-index: 10;\n  transition: 1s ease-in-out;\n  padding: 24px 16px 24px 24px;\n  @media (max-width: 600px) {\n    width: 100vw;\n    left: 0;\n    right: 0;\n  }\n`;\n","import React from 'react';\n\nimport IconLoader from '../../../../../theme/components/IconLoader';\nimport Modal from '../../../../../theme/components/Modal';\nimport TextWrapper from '../../../../../theme/components/TextWrapper';\n\ninterface Iprops {\n  openModal: boolean;\n  onDismiss: () => void;\n}\n\nconst MobileProjectRoute = (props: Iprops) => {\n  const { openModal, onDismiss } = props;\n\n  if (!openModal) return null;\n\n  return (\n    <Modal open={openModal} handleClose={onDismiss}>\n      <div\n        className=\"single-line-center-start m-b-40 pointer\"\n        onClick={() => {\n          window.open('https://gov.mahadao.com/#/');\n        }}\n      >\n        <IconLoader iconName={'Gov'} iconType={'products'} className={'m-r-16'} />\n        <div>\n          <TextWrapper text={'Governance'} fontWeight={600} className={'m-b-4'} />\n          <TextWrapper text={'Community driven governance'} />\n        </div>\n      </div>\n      <div\n        className=\"single-line-center-start pointer\"\n        onClick={() => {\n          window.open('https://mahastarter.com/#/');\n        }}\n      >\n        <IconLoader iconName={'Starter'} iconType={'products'} className={'m-r-16'} />\n        <div>\n          <TextWrapper text={'MahaStarter'} fontWeight={600} className={'m-b-4'} />\n          <TextWrapper text={'Incubator for the MahaDAO Ecosystem'} />\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default MobileProjectRoute;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport TxModal from './TxModal';\n\ninterface Iprops {\n  openModal: boolean;\n  onDismiss: () => void;\n}\n\nconst DesktopTransactionInfo = (props: Iprops) => {\n  const { openModal, onDismiss } = props;\n\n  if (!openModal) return null;\n\n  return (\n    <MainDiv>\n      <BackgroundAbsolute onClick={() => onDismiss()} />\n      <PositionDiv>\n        <WalletDiv id={'desktop_tx_modal'}>\n          <TxModal openModal={openModal} onDismiss={() => onDismiss()} />\n        </WalletDiv>\n      </PositionDiv>\n    </MainDiv>\n  );\n};\n\nexport default DesktopTransactionInfo;\n\nconst BackgroundAbsolute = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n  z-index: 1;\n`;\n\nconst MainDiv = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n`;\n\nconst PositionDiv = styled.div`\n  box-sizing: border-box;\n  margin: 0 auto;\n  padding: 0 24px;\n  width: 100%;\n  position: relative;\n`;\n\nconst WalletDiv = styled.div`\n  position: absolute;\n  background: linear-gradient(180deg, #48423e 0%, #373030 100%);\n  border-radius: 6px;\n  right: 60px;\n  top: 72px;\n  width: 380px;\n  z-index: 10;\n  transition: 1s ease-in-out;\n  padding: 16px 24px 24px 24px;\n  @media (max-width: 600px) {\n    width: 100vw;\n    left: 0;\n    right: 0;\n  }\n`;\n","import detectEthereumProvider from '@metamask/detect-provider';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport ReactGA from 'react-ga';\nimport { useDispatch } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\n\nimport { Mixpanel } from '../../analytics/Mixpanel';\nimport useGaTracker from '../../analytics/useGATracker.js';\nimport config, { getSupportedChains } from '../../config';\nimport useCore from '../../hooks/useCore';\nimport '../../scripts/headerWarning.js';\nimport {\n  useGetActiveChainId,\n  useGetUpdateActiveChainId,\n  useUpdateAvailableChains,\n} from '../../state/chains/hooks';\nimport theme from '../../theme';\nimport Button from '../../theme/components/Button';\nimport IconLoader from '../../theme/components/IconLoader';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport NetworkChange from '../NetworkChange';\n\nimport AccountButton from './components/AccountButton';\nimport MobileNav from './components/MobileNav';\nimport DesktopProjectRoutes from './components/modal/ProjectRoutes/DesktopProjectRoute';\nimport MobileProjectRoutes from './components/modal/ProjectRoutes/MobileProjectRoute';\nimport DesktopTransactionInfo from './components/modal/Transaction/DesktopTransactionInfo';\n\nexport let showWarningGlobal = false;\n\nconst TopBar: React.FC = () => {\n  useGaTracker();\n  const core = useCore();\n  const { account, connect, chainId } = useWallet();\n  const activeChainId = useGetActiveChainId();\n  const setChainId = useGetUpdateActiveChainId();\n  const getAvailableChains = getSupportedChains();\n  const setAvailableChains = useUpdateAvailableChains();\n  const dispatch = useDispatch();\n\n  const [showTxModal, setShowTxModal] = useState<boolean>(false);\n  const [showProjectModal, setShowProjectModal] = useState<boolean>(false);\n  const [showMobileMenu, toggleMobileMenu] = useState<boolean>(false);\n  const [showWarning, setShowWarning] = React.useState<boolean>(false);\n  const isMobile = useMediaQuery({ maxWidth: '800px' });\n\n  const processNetwork = useCallback(async () => {\n    const provider: any = await detectEthereumProvider();\n\n    if (provider) {\n      const chainId = Number(await provider.request({ method: 'eth_chainId' }));\n      if (getAvailableChains.includes(chainId)) {\n        setChainId(chainId);\n      } else {\n        setShowWarning(true)\n      }\n    }\n  }, [getAvailableChains, setChainId]);\n\n  useEffect(() => {\n    if (core) {\n      core.updateActiveNetwork(activeChainId, dispatch);\n    }\n  }, [activeChainId, core, dispatch]);\n\n  const location = useLocation();\n  React.useEffect(() => {\n    Mixpanel.track(`ScreenView:${location.pathname}`, {\n      networkName: config[chainId]?.networkDisplayName || '',\n    });\n    ReactGA.pageview(location.pathname);\n  }, [chainId, location.pathname]);\n\n  useEffect(() => {\n    const shouldBeDisconnected = localStorage.getItem('disconnectWallet');\n    if (!shouldBeDisconnected && !!!account) connect('injected');\n\n    if (account) {\n      Mixpanel.identify(account);\n      Mixpanel.people.set({ walletId: account });\n    }\n\n    processNetwork();\n  }, [account, connect, core]);\n\n  useEffect(() => {\n    showWarningGlobal = showWarning;\n  }, [showWarning]);\n\n  useEffect(() => {\n    setAvailableChains(getSupportedChains());\n  }, [setAvailableChains]);\n\n  return (\n    <TopBarContainer>\n      {/*<div id={'showWarning'} style={{ display: 'none' }}>\n        {showWarning ? 'true' : 'false'}\n      </div>*/}\n      <DesktopTransactionInfo openModal={showTxModal} onDismiss={() => setShowTxModal(false)} />\n\n      {isMobile ? (\n        <MobileProjectRoutes\n          openModal={showProjectModal}\n          onDismiss={() => setShowProjectModal(false)}\n        />\n      ) : (\n        <DesktopProjectRoutes\n          openModal={showProjectModal}\n          onDismiss={() => setShowProjectModal(false)}\n        />\n      )}\n      {/*<AlertSnackbar\n        open={showWarning}\n        title={'Wrong Network!'}\n        subTitle={`You are on wrong network, switch to ${core.config.networkName} to use Arthcoin`}\n      />*/}\n      {/*{showWarning && (\n        <WarningMsg id={'WarningMsg'}>\n          <div className={'single-line-center-center mo-single-line-column'}>\n            <TextWrapper\n              text={`Please make sure you are connected to a wallet on ${config[activeChainId].networkName}.`}\n              align={'center'}\n            />\n            {config.networkSetupDocLink && (\n              <div onClick={() => window.open(config[activeChainId].networkSetupDocLink)}>\n                <TextWrapper\n                  text={'Check RPC details here.'}\n                  Fcolor={theme.color.primary[300]}\n                  className={'m-l-4 pointer'}\n                  align={'center'}\n                />\n              </div>\n            )}\n          </div>\n        </WarningMsg>\n      )}*/}\n      <StyledTopBar>\n        <StyledTopBarInner>\n          <HideonPhone>\n            <div className=\"single-line-center-between\">\n              <div className={'single-line-center-start'}>\n                <IconLoader\n                  iconName={'ARTHlg'}\n                  iconType={'brandLogo'}\n                  onClick={() => window.open('https://mahadao.com/arth', '_self')}\n                />\n                <div className={'tags m-l-8 m-t-4'}>\n                  <TextWrapper text={'BETA'} fontSize={12} align={'center'} />\n                </div>\n              </div>\n              <div className=\"single-line-center-start\">\n                <IconLoader\n                  className={'pointer m-r-24'}\n                  iconName={'BentoMenu'}\n                  iconType={'misc'}\n                  onClick={() => {\n                    setShowProjectModal(true);\n                  }}\n                />\n                <div className=\"m-r-12\">\n                  <Button\n                    text={'Get MAHA'}\n                    onClick={() =>\n                      window.open(\n                        'https://app.uniswap.org/#/swap?outputCurrency=0xb4d930279552397bba2ee473229f89ec245bc365',\n                      )\n                    }\n                    tracking_id={'get_MAHA'}\n                    tracking_params={{ position: 'header' }}\n                  />\n                </div>\n                <NetworkChange />\n                {!!account && (\n                  <IconLoader\n                    iconName={'Transaction'}\n                    className={'pointer m-r-12'}\n                    onClick={() => setShowTxModal(true)}\n                  />\n                )}\n                <AccountButton showWarning={showWarning} />\n              </div>\n            </div>\n          </HideonPhone>\n          <HideOnBigScreen>\n            <div className=\"single-line-center-between\">\n              <IconLoader\n                iconName={!showMobileMenu ? 'Menu' : 'Cross'}\n                onClick={() => toggleMobileMenu(!showMobileMenu)}\n                className={'pointer'}\n              />\n              <div className={'single-line-center-start'}>\n                <IconLoader\n                  iconName={'ARTHlg'}\n                  iconType={'brandLogo'}\n                  onClick={() => window.open('https://mahadao.com/arth', '_self')}\n                />\n                <div className={'tags m-l-8 m-t-4'}>\n                  <TextWrapper text={'BETA'} fontSize={12} align={'center'} />\n                </div>\n              </div>\n              <IconLoader\n                iconName={'BentoMenu'}\n                iconType={'misc'}\n                onClick={() => {\n                  setShowProjectModal(true);\n                }}\n              />\n            </div>\n          </HideOnBigScreen>\n          <HideOnBigScreen>\n            <MobileNav\n              openMenu={showMobileMenu}\n              showWarning={showWarning}\n              isMainnet={true}\n              onClick={() => toggleMobileMenu(!showMobileMenu)}\n              onWalletClick={() => { }}\n            />\n          </HideOnBigScreen>\n        </StyledTopBarInner>\n      </StyledTopBar>\n    </TopBarContainer>\n  );\n};\n\nconst TopBarContainer = styled.div`\n  position: fixed;\n  z-index: 999;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  top: 0;\n`;\n\nconst HideonPhone = styled.div`\n  width: 100%;\n  display: block;\n  @media (max-width: 800px) {\n    display: none;\n  } ;\n`;\n\nconst HideOnBigScreen = styled.div`\n  width: 100%;\n  display: none;\n  @media (max-width: 800px) {\n    display: block;\n  } ;\n`;\n\nconst StyledTopBar = styled.div`\n  box-sizing: border-box;\n  margin: 0 auto;\n  width: 100%;\n  background: rgba(0, 0, 0);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(20px);\n`;\n\nconst StyledTopBarInner = styled.div`\n  align-content: center;\n  display: flex;\n  height: 72px;\n  justify-content: space-between;\n  width: 100%;\n  padding: 0 60px;\n  flex-wrap: wrap;\n  @media (max-width: 800px) {\n    padding: 0 16px;\n  }\n`;\n\nconst WarningMsg = styled.div`\n  display: block;\n  background-color: #2a2827;\n  padding: 12px 16px;\n`;\n\nexport default TopBar;\n","import React, { createContext, useCallback, useState } from 'react';\nimport styled from 'styled-components';\n\ninterface ModalsContext {\n  content?: React.ReactNode;\n  isOpen?: boolean;\n  onPresent: (content: React.ReactNode) => void;\n  onDismiss: () => void;\n}\n\nexport const Context = createContext<ModalsContext>({\n  onPresent: () => {},\n  onDismiss: () => {},\n});\n\nconst Modals: React.FC = ({ children }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [content, setContent] = useState<React.ReactNode>();\n\n  const handlePresent = useCallback(\n    (modalContent: React.ReactNode) => {\n      setContent(modalContent);\n      setIsOpen(true);\n    },\n    [setContent, setIsOpen],\n  );\n\n  const handleDismiss = useCallback(() => {\n    setContent(undefined);\n    setIsOpen(false);\n  }, [setContent, setIsOpen]);\n\n  return (\n    <Context.Provider\n      value={{\n        content,\n        isOpen,\n        onPresent: handlePresent,\n        onDismiss: handleDismiss,\n      }}\n    >\n      {children}\n      {isOpen && (\n        <StyledModalWrapper>\n          <StyledModalBackdrop onClick={handleDismiss} />\n          {React.isValidElement(content) &&\n            React.cloneElement(content, {\n              onDismiss: handleDismiss,\n            })}\n        </StyledModalWrapper>\n      )}\n    </Context.Provider>\n  );\n};\n\nconst StyledModalWrapper = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n`;\n\nconst StyledModalBackdrop = styled.div`\n  background-color: #00000088;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n`;\n\nexport default Modals;\n","import { createAction } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nexport type DefaultPriceType = { val: BigNumber; collateral: string };\n\nexport const updateGMUPrice = createAction<DefaultPriceType>('analytics/updateGMUPrice');\n\nexport const getEntireSystemColl = createAction<DefaultPriceType>(\n  'analytics/getEntireSystemColl',\n);\n\nexport const getEntireSystemDebt = createAction<DefaultPriceType>(\n  'analytics/getEntireSystemDebt',\n);\n\nexport const getBorrowingRateWithDecay = createAction<DefaultPriceType>(\n  'analytics/getBorrowingRateWithDecay',\n);\n\nexport const getRedemptionRateWithDecay = createAction<DefaultPriceType>(\n  'analytics/getRedemptionRateWithDecay',\n);\n\nexport const getBorrowingRate = createAction<DefaultPriceType>('analytics/getBorrowingRate');\n\nexport const getRedemptionRate = createAction<DefaultPriceType>('analytics/getRedemptionRate');\n","import { createReducer } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport * as Actions from './actions';\n\nexport interface AnalyticsState {\n  gmuPrice: {\n    [collateral: string]: BigNumber;\n  };\n  entireSystemColl: {\n    [collateral: string]: BigNumber;\n  };\n  entireSystemDebt: {\n    [collateral: string]: BigNumber;\n  };\n  borrowingRateWithDecay: {\n    [collateral: string]: BigNumber;\n  };\n  borrowingRate: {\n    [collateral: string]: BigNumber;\n  };\n  redemptionRate: {\n    [collateral: string]: BigNumber;\n  };\n  redemptionRateWithDecay: {\n    [collateral: string]: BigNumber;\n  };\n}\n\nexport const initialState: AnalyticsState = {\n  gmuPrice: {},\n  entireSystemColl: {},\n  entireSystemDebt: {},\n  borrowingRateWithDecay: {},\n  borrowingRate: {},\n  redemptionRate: {},\n  redemptionRateWithDecay: {},\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(\n      Actions.updateGMUPrice,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.gmuPrice = t.gmuPrice || {};\n        t.gmuPrice[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getEntireSystemColl,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.entireSystemColl = t.entireSystemColl || {};\n        t.entireSystemColl[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getEntireSystemDebt,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.entireSystemDebt = t.entireSystemDebt || {};\n        t.entireSystemDebt[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getBorrowingRate,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.borrowingRate = t.borrowingRate || {};\n        t.borrowingRate[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getBorrowingRateWithDecay,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.borrowingRateWithDecay = t.borrowingRateWithDecay || {};\n        t.borrowingRateWithDecay[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getRedemptionRateWithDecay,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.redemptionRateWithDecay = t.redemptionRateWithDecay || {};\n        t.redemptionRateWithDecay[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getRedemptionRate,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.redemptionRate = t.redemptionRate || {};\n        t.redemptionRate[payload.collateral] = payload.val;\n      },\n    ),\n);\n","import { createReducer, nanoid } from '@reduxjs/toolkit';\n\nimport {\n  PopupContent,\n  addPopup,\n  removePopup,\n  toggleSettingsMenu,\n  toggleWalletModal,\n  updateBlockNumber,\n} from './actions';\n\ntype PopupList = Array<{\n  key: string;\n  show: boolean;\n  content: PopupContent;\n  removeAfterMs: number | null;\n}>;\n\nexport interface ApplicationState {\n  blockNumber: { [chainId: number]: number };\n  popupList: PopupList;\n  walletModalOpen: boolean;\n  settingsMenuOpen: boolean;\n}\n\nconst initialState: ApplicationState = {\n  blockNumber: {},\n  popupList: [],\n  walletModalOpen: false,\n  settingsMenuOpen: false,\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(updateBlockNumber, (state, action) => {\n      const { chainId, blockNumber } = action.payload;\n      if (typeof state.blockNumber[chainId] !== 'number') {\n        state.blockNumber[chainId] = blockNumber;\n      } else {\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId]);\n      }\n    })\n    .addCase(toggleWalletModal, (state) => {\n      state.walletModalOpen = !state.walletModalOpen;\n    })\n    .addCase(toggleSettingsMenu, (state) => {\n      state.settingsMenuOpen = !state.settingsMenuOpen;\n    })\n    .addCase(addPopup, (state, { payload: { content, key, removeAfterMs = 15000 } }) => {\n      state.popupList = (key\n        ? state.popupList.filter((popup) => popup.key !== key)\n        : state.popupList\n      ).concat([\n        {\n          key: key || nanoid(),\n          show: true,\n          content,\n          removeAfterMs,\n        },\n      ]);\n    })\n    .addCase(removePopup, (state, { payload: { key } }) => {\n      state.popupList.forEach((p) => {\n        if (p.key === key) {\n          p.show = false;\n        }\n      });\n    }),\n);\n","import { createReducer } from '@reduxjs/toolkit';\n\nimport { ChainIdInitialState } from '../../utils/chains/constant';\n\nimport { updateAvailableChains, updateChainId } from './actions';\n\nexport default createReducer(ChainIdInitialState, (builder) =>\n  builder\n    .addCase(updateChainId, (chainsConfig, { payload: { chainId } }) => {\n      chainsConfig.active = chainId;\n    })\n    .addCase(updateAvailableChains, (chainsConfig, { payload: { chains } }) => {\n      chainsConfig.availableNetworks = chains;\n    }),\n);\n","import { IChainIdInitialState } from './interface';\n\nexport const ChainIdInitialState: IChainIdInitialState = {\n  active: 97,\n  availableNetworks: [\n    97,\n    // 137,\n    // 56,\n  ],\n};\n","import { createReducer } from '@reduxjs/toolkit';\n\nimport { updateSlippage } from './actions';\n\nexport interface ApplicationState {\n  id: number;\n  value: number;\n}\n\nconst initialState: ApplicationState = {\n  id: 1,\n  value: 0.1,\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder.addCase(updateSlippage, (state, action) => {\n    state.value = action.payload.value;\n    state.id = action.payload.id;\n  }),\n);\n","import { createReducer } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport * as Actions from './actions';\n\nexport interface TokenState {\n  balanceOf: {\n    [token: string]: {\n      [who: string]: BigNumber;\n    };\n  };\n  approvals: {\n    [token: string]: {\n      [who: string]: {\n        [to: string]: BigNumber;\n      };\n    };\n  };\n}\n\nexport const initialState: TokenState = {\n  balanceOf: {},\n  approvals: {},\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder.addCase(\n    Actions.updateBalanceOf,\n    (t, { payload }: { payload: Actions.BalanceOfType }) => {\n      t.balanceOf = t.balanceOf || {};\n      t.balanceOf[payload.token] = t.balanceOf[payload.token] || {};\n      t.balanceOf[payload.token][payload.who] = payload.bal;\n    },\n  ),\n);\n","import { createReducer } from '@reduxjs/toolkit';\n\nimport {\n  SerializableTransactionReceipt,\n  addTransaction,\n  checkedTransaction,\n  clearAllTransactions,\n  finalizeTransaction,\n} from './actions';\n\nconst now = () => new Date().getTime();\n\nexport interface TransactionDetails {\n  hash: string;\n  approval?: { tokenAddress: string; spender: string };\n  summary?: string;\n  receipt?: SerializableTransactionReceipt;\n  lastCheckedBlockNumber?: number;\n  addedTime: number;\n  confirmedTime?: number;\n  from: string;\n}\n\nexport interface TransactionState {\n  [chainId: number]: {\n    [txHash: string]: TransactionDetails;\n  };\n}\n\nexport const initialState: TransactionState = {};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(\n      addTransaction,\n      (transactions, { payload: { chainId, from, hash, approval, summary } }) => {\n        if (transactions[chainId]?.[hash]) {\n          throw Error('Attempted to add existing transaction.');\n        }\n        const txs = transactions[chainId] ?? {};\n        txs[hash] = { hash, approval, summary, from, addedTime: now() };\n        transactions[chainId] = txs;\n      },\n    )\n    .addCase(clearAllTransactions, (transactions, { payload: { chainId } }) => {\n      if (!transactions[chainId]) return;\n      transactions[chainId] = {};\n    })\n    .addCase(\n      checkedTransaction,\n      (transactions, { payload: { chainId, hash, blockNumber } }) => {\n        const tx = transactions[chainId]?.[hash];\n        if (!tx) {\n          return;\n        }\n        if (!tx.lastCheckedBlockNumber) {\n          tx.lastCheckedBlockNumber = blockNumber;\n        } else {\n          tx.lastCheckedBlockNumber = Math.max(blockNumber, tx.lastCheckedBlockNumber);\n        }\n      },\n    )\n    .addCase(finalizeTransaction, (transactions, { payload: { hash, chainId, receipt } }) => {\n      const tx = transactions[chainId]?.[hash];\n      if (!tx) {\n        return;\n      }\n      tx.receipt = receipt;\n      tx.confirmedTime = now();\n    }),\n);\n","import { createReducer } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport * as Actions from './actions';\n\nexport interface AnalyticsState {\n  hasPendingRewards: {\n    [collateral: string]: boolean;\n  };\n  pendingLUSDDebtReward: {\n    [collateral: string]: BigNumber;\n  };\n  pendingETHReward: {\n    [collateral: string]: BigNumber;\n  };\n}\n\nexport const initialState: AnalyticsState = {\n  hasPendingRewards: {},\n  pendingLUSDDebtReward: {},\n  pendingETHReward: {},\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(\n      Actions.getPendingLUSDDebtReward,\n      (t, { payload }: { payload: Actions.DefaultBNType }) => {\n        t.pendingLUSDDebtReward = t.pendingLUSDDebtReward || {};\n        t.pendingLUSDDebtReward[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getPendingETHReward,\n      (t, { payload }: { payload: Actions.DefaultBNType }) => {\n        t.pendingETHReward = t.pendingETHReward || {};\n        t.pendingETHReward[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.hasPendingRewards,\n      (t, { payload }: { payload: Actions.DefaultBoolType }) => {\n        t.hasPendingRewards = t.hasPendingRewards || {};\n        t.hasPendingRewards[payload.collateral] = payload.val;\n      },\n    ),\n);\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport { load, save } from 'redux-localstorage-simple';\nimport { createLogger } from 'redux-logger';\n\nimport { isProduction } from '../analytics/Mixpanel';\n\nimport analytics from './analytics/reducer';\nimport application from './application/reducer';\nimport chains from './chains/reducer';\nimport slippage from './slippage/reducer';\nimport token from './token/reducer';\nimport transactions from './transactions/reducer';\nimport trove from './trove/reducer';\n\nconst PERSISTED_KEYS: string[] = ['transactions', 'slippage', 'chains'];\n\nconst store = configureStore({\n  reducer: {\n    application,\n    transactions,\n    trove,\n    token,\n    slippage,\n    analytics,\n    chains,\n  },\n  middleware: isProduction\n    ? [\n        ...getDefaultMiddleware({ serializableCheck: false, thunk: false }),\n        save({ states: PERSISTED_KEYS }),\n      ]\n    : [\n        ...getDefaultMiddleware({ serializableCheck: false, thunk: false }),\n        save({ states: PERSISTED_KEYS }),\n        // createLogger(),\n      ],\n  preloadedState: load({ states: PERSISTED_KEYS }),\n});\n\nexport default store;\n\nexport type AppState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { useCallback, useEffect, useState } from 'react';\n\nconst VISIBILITY_STATE_SUPPORTED = 'visibilityState' in document;\n\nfunction isWindowVisible() {\n  return !VISIBILITY_STATE_SUPPORTED || document.visibilityState !== 'hidden';\n}\n\n/**\n * Returns whether the window is currently visible to the user.\n */\nexport default function useIsWindowVisible(): boolean {\n  const [focused, setFocused] = useState<boolean>(isWindowVisible());\n  const listener = useCallback(() => {\n    setFocused(isWindowVisible());\n  }, [setFocused]);\n\n  useEffect(() => {\n    if (!VISIBILITY_STATE_SUPPORTED) return undefined;\n\n    document.addEventListener('visibilitychange', listener);\n    return () => {\n      document.removeEventListener('visibilitychange', listener);\n    };\n  }, [listener]);\n\n  return focused;\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport config from '../../config';\nimport useDebounce from '../../hooks/useDebounce';\nimport useIsWindowVisible from '../../hooks/useIsWindowVisible';\nimport { getDefaultProvider } from '../../utils/provider';\nimport { useGetActiveChainId } from '../chains/hooks';\n\nimport { updateBlockNumber } from './actions';\n\nexport default function Updater(): null {\n  const { ethereum, chainId } = useWallet();\n\n  const dispatch = useDispatch();\n  const activeChainId = useGetActiveChainId();\n  const windowVisible = useIsWindowVisible();\n\n  const [state, setState] = useState<{\n    chainId: number | undefined;\n    blockNumber: number | null;\n  }>({\n    chainId,\n    blockNumber: null,\n  });\n\n  const blockNumberCallback = useCallback(\n    (blockNumber: number) => {\n      setState((state) => {\n        if (chainId === state.chainId) {\n          if (typeof state.blockNumber !== 'number') return { chainId, blockNumber };\n          return { chainId, blockNumber: Math.max(blockNumber, state.blockNumber) };\n        }\n        return state;\n      });\n    },\n    [chainId, setState],\n  );\n\n  // The attach/detach listeners.\n  useEffect(() => {\n    if (!ethereum || !chainId || !windowVisible) return undefined;\n    setState({ chainId, blockNumber: null });\n\n    const provider = getDefaultProvider(config[activeChainId]);\n    provider\n      .getBlockNumber()\n      .then(blockNumberCallback)\n      .catch((error: any) =>\n        console.error(`Failed to get block number for chainId: ${chainId}`, error),\n      );\n\n    provider.on('block', blockNumberCallback);\n    return () => {\n      provider.removeListener('block', blockNumberCallback);\n    };\n  }, [dispatch, chainId, ethereum, blockNumberCallback, windowVisible, activeChainId]);\n\n  const debouncedState = useDebounce(state, 100);\n\n  useEffect(() => {\n    if (!debouncedState.chainId || !debouncedState.blockNumber || !windowVisible) return;\n    dispatch(\n      updateBlockNumber({\n        chainId: debouncedState.chainId,\n        blockNumber: debouncedState.blockNumber,\n      }),\n    );\n  }, [windowVisible, dispatch, debouncedState.blockNumber, debouncedState.chainId]);\n\n  return null;\n}\n","import { useEffect, useState } from 'react';\n\n// modified from https://usehooks.com/useDebounce/\nexport default function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport config from '../../config';\nimport { getDefaultProvider } from '../../utils/provider';\nimport { useAddPopup, useBlockNumber } from '../application/hooks';\nimport { useGetActiveChainId } from '../chains/hooks';\nimport { AppDispatch, AppState } from '../index';\n\nimport { checkedTransaction, finalizeTransaction } from './actions';\n\nexport function shouldCheck(\n  lastBlockNumber: number,\n  tx: { addedTime: number; receipt?: {}; lastCheckedBlockNumber?: number },\n): boolean {\n  if (tx.receipt) return false;\n  if (!tx.lastCheckedBlockNumber) return true;\n  const blocksSinceCheck = lastBlockNumber - tx.lastCheckedBlockNumber;\n  if (blocksSinceCheck < 1) return false;\n  const minutesPending = (new Date().getTime() - tx.addedTime) / 1000 / 60;\n  if (minutesPending > 60) {\n    // Every 10 blocks if pending for longer than an hour.\n    return blocksSinceCheck > 9;\n  } else if (minutesPending > 5) {\n    // Every 3 blocks if pending more than 5 minutes.\n    return blocksSinceCheck > 2;\n  } else {\n    // Otherwise every block.\n    return true;\n  }\n}\n\nexport default function Updater(): null {\n  const { chainId, ethereum } = useWallet();\n\n  const lastBlockNumber = useBlockNumber();\n  const activeChainId = useGetActiveChainId();\n\n  const dispatch = useDispatch<AppDispatch>();\n  const state = useSelector<AppState, AppState['transactions']>((state) => state.transactions);\n\n  const transactions = chainId ? state[chainId] ?? {} : {};\n\n  // Show d on confirm.\n  const addPopup = useAddPopup();\n\n  useEffect(() => {\n    if (!chainId || !ethereum || !lastBlockNumber) {\n      return;\n    }\n\n    const provider = getDefaultProvider(config[activeChainId]);\n    Object.keys(transactions)\n      .filter((hash) => shouldCheck(lastBlockNumber, transactions[hash]))\n      .forEach((hash) => {\n        provider\n          .getTransactionReceipt(hash)\n          .then((receipt) => {\n            if (receipt) {\n              dispatch(\n                finalizeTransaction({\n                  chainId,\n                  hash,\n                  receipt: {\n                    blockHash: receipt.blockHash,\n                    blockNumber: receipt.blockNumber,\n                    contractAddress: receipt.contractAddress,\n                    from: receipt.from,\n                    status: receipt.status,\n                    to: receipt.to,\n                    transactionHash: receipt.transactionHash,\n                    transactionIndex: receipt.transactionIndex,\n                  },\n                }),\n              );\n\n              addPopup(\n                {\n                  txn: {\n                    hash,\n                    success: receipt.status === 1,\n                    summary: transactions[hash]?.summary,\n                  },\n                },\n                hash,\n              );\n            } else {\n              dispatch(checkedTransaction({ chainId, hash, blockNumber: lastBlockNumber }));\n            }\n          })\n          .catch((error) => {\n            console.error(`failed to check transaction hash: ${hash}`, error);\n          });\n      });\n  }, [chainId, ethereum, transactions, lastBlockNumber, dispatch, addPopup, activeChainId]);\n\n  return null;\n}\n","import React from 'react';\n\nimport ApplicationUpdater from './application/updater';\nimport TransactionUpdater from './transactions/updater';\n\nconst Updaters = () => (\n  <>\n    <ApplicationUpdater />\n    <TransactionUpdater />\n  </>\n);\n\nexport default Updaters;\n","import 'aos/dist/aos.css';\nimport { SnackbarProvider } from 'notistack';\nimport React, { useEffect } from 'react';\nimport { Provider, useDispatch } from 'react-redux';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport { useWallet, UseWalletProvider } from \"use-wallet\";\n\nimport Navigation from './Navigation';\nimport { isProduction } from './analytics/Mixpanel';\nimport Disclaimer from './components/Disclaimer';\nimport NoMetamaskNotice from './components/NoMetamaskNotice';\nimport Popups from './components/Popups';\nimport TopBar from './components/TopBar';\nimport config, { getSupportedChains } from \"./config\";\nimport BasisCashProvider from './contexts/BasisCashProvider';\nimport ModalsProvider from './contexts/Modals';\nimport useCore from './hooks/useCore';\nimport store from './state';\nimport Updaters from './state/Updaters';\nimport * as analyticsState from './state/analytics/controller';\nimport { useGetActiveChainId, useGetUpdateActiveChainId } from \"./state/chains/hooks\";\nimport theme from './theme';\nimport './theme.css';\n\nconst Providers: React.FC = ({ children }) => {\n  return (\n    <ThemeProvider theme={theme}>\n      <Provider store={store}>\n        <WalletProvider>{children}</WalletProvider>\n      </Provider>\n    </ThemeProvider>\n  );\n};\n\nconst WalletProvider: React.FC = ({ children }) => {\n  const chainId = useGetActiveChainId();\n  return (\n    <UseWalletProvider\n      connectors={{\n        injected: {\n          chainId: getSupportedChains(),\n        },\n        walletconnect: {\n          bridge: 'https://bridge.walletconnect.org',\n          pollingInterval: 12000,\n          rpc: {\n            137: \"https://polygon-rpc.com/\",\n            56: 'https://bsc-dataseed1.defibit.io/',\n            1: 'https://shy-silent-grass.quiknode.pro/94c847bf5de231bb794ddf50954f49eae04b1f7c/',\n          }\n        },\n      }}\n    >\n      <Updaters />\n      <BasisCashProvider>\n        <AppContent>{children}</AppContent>\n      </BasisCashProvider>\n    </UseWalletProvider>\n  );\n};\n\nconst App: React.FC = () => {\n  const makeUnPassive = (ev: any) => {\n    ev.preventDefault();\n  };\n\n  useEffect(() => {\n    document.body.addEventListener('touchmove', makeUnPassive, { passive: true });\n    return () => document.body.removeEventListener('touchmove', makeUnPassive);\n  }, []);\n\n  return (\n    <Providers>\n      <Router>\n        <TopBar />\n        <Disclaimer />\n        <Navigation />\n      </Router>\n    </Providers>\n  );\n};\n\nconst AppContent: React.FC = ({ children }) => {\n  const core = useCore();\n  const { ethereum } = useWallet();\n  const dispatch = useDispatch();\n  const chainId = useGetActiveChainId();\n  const setChainId = useGetUpdateActiveChainId();\n\n  useEffect(() => {\n    // @ts-ignore\n    if (ethereum)\n      // @ts-ignore\n      ethereum.on('chainChanged', (chainId) => {\n        console.log('chain changed', chainId);\n        setChainId(chainId);\n        // window.location.reload();\n      });\n  }, [ethereum]);\n\n  useEffect(() => {\n    if (core) {\n      analyticsState.init(core, dispatch, chainId);\n    }\n  }, [core, dispatch, chainId]);\n\n  // if (!window.ethereum) return <NoMetamaskNotice />;\n  if (!core) return <div />;\n\n  return (\n    <ModalsProvider>\n      <SnackbarProvider\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        maxSnack={2}\n        autoHideDuration={2500}\n      >\n        <>\n          <Popups />\n          {children}\n        </>\n      </SnackbarProvider>\n    </ModalsProvider>\n  );\n};\n\n// @ts-ignore\nexport default App;\n\nif (isProduction) console.log = function () { };\n","import { Dispatch } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport { IMulticallInput } from '../../protocol/Mulitcall';\nimport { Protocol } from '../../protocol/Protocol';\n\nimport * as Actions from './actions';\n\nexport const init = (core: Protocol, dispatch: Dispatch, chainId: number) => {\n  const _registerVariable = (fn: string, to: string, reduxAction: any, convertResult: any) => {\n    const input: IMulticallInput = {\n      key: `ANALYTICS:${fn}:${to}`,\n      target: to,\n      call: [fn],\n      convertResult,\n    };\n\n    core.multicall[chainId].on(input.key, (val) => {\n      dispatch(reduxAction(val));\n    });\n\n    return input;\n  };\n\n  const registerTroveManagerCalls = () => {\n    const calls: IMulticallInput[] = [];\n\n    const collaterals = core.getAllTroves(chainId);\n\n    collaterals.forEach((collateral) => {\n      const tm = core.getTroveManager(collateral, chainId);\n\n      calls.push(\n        _registerVariable(\n          'getEntireSystemColl()(uint256)',\n          tm.address,\n          Actions.getEntireSystemColl,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n        _registerVariable(\n          'getEntireSystemDebt()(uint256)',\n          tm.address,\n          Actions.getEntireSystemDebt,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n        _registerVariable(\n          'getBorrowingRateWithDecay()(uint256)',\n          tm.address,\n          Actions.getBorrowingRateWithDecay,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n        _registerVariable(\n          'getRedemptionRateWithDecay()(uint256)',\n          tm.address,\n          Actions.getRedemptionRateWithDecay,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n        _registerVariable(\n          'getBorrowingRate()(uint256)',\n          tm.address,\n          Actions.getBorrowingRate,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n        _registerVariable(\n          'getRedemptionRate()(uint256)',\n          tm.address,\n          Actions.getRedemptionRate,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n      );\n    });\n\n    return calls;\n  };\n\n  const calls = [...registerTroveManagerCalls()];\n  core.multicall[chainId].addCalls(calls);\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport * as Sentry from \"@sentry/react\";\nimport { BrowserTracing } from \"@sentry/tracing\";\nimport { isProduction } from \"./analytics/Mixpanel\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nSentry.init({\n  dsn: isProduction? \"https://f20f1140272d4248bdaab1a7e8a4afbc@o1116212.ingest.sentry.io/6349858\": '',\n  integrations: [new BrowserTracing()],\n\n  // Set tracesSampleRate to 1.0 to capture 100%\n  // of transactions for performance monitoring.\n  // We recommend adjusting this value in production\n  tracesSampleRate: 1.0\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/ComingSoon.50b15299.svg\";","module.exports = __webpack_public_path__ + \"static/media/Default.ad13955f.svg\";","module.exports = __webpack_public_path__ + \"static/media/Metamask.fadd8d31.svg\";","module.exports = __webpack_public_path__ + \"static/media/ARTH.d5d2e589.svg\";","module.exports = __webpack_public_path__ + \"static/media/Tick.41f3a584.svg\";","module.exports = \"data:image/png;base64,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\"","var map = {\n\t\"./arrow/ArrowDown.svg\": [\n\t\t1132,\n\t\t17\n\t],\n\t\"./arrow/ArrowFilledUp.svg\": [\n\t\t1133,\n\t\t18\n\t],\n\t\"./arrow/ArrowLeft.svg\": [\n\t\t1134,\n\t\t19\n\t],\n\t\"./arrow/ArrowLink.svg\": [\n\t\t1135,\n\t\t20\n\t],\n\t\"./arrow/ArrowLinkColored.svg\": [\n\t\t1136,\n\t\t21\n\t],\n\t\"./arrow/ArrowRight.svg\": [\n\t\t1137,\n\t\t22\n\t],\n\t\"./arrow/ArrowTailDown.svg\": [\n\t\t1138,\n\t\t23\n\t],\n\t\"./arrow/ArrowTailLeft.svg\": [\n\t\t1139,\n\t\t24\n\t],\n\t\"./arrow/ArrowTailRight.svg\": [\n\t\t1140,\n\t\t25\n\t],\n\t\"./arrow/ArrowTailUp.svg\": [\n\t\t1141,\n\t\t26\n\t],\n\t\"./arrow/ArrowUp.svg\": [\n\t\t1142,\n\t\t27\n\t],\n\t\"./brandLogo/ARTHlg.svg\": [\n\t\t1143,\n\t\t28\n\t],\n\t\"./brandLogo/Mahalg.svg\": [\n\t\t1144,\n\t\t29\n\t],\n\t\"./chains/BSC.svg\": [\n\t\t1145,\n\t\t30\n\t],\n\t\"./chains/ETH.svg\": [\n\t\t1146,\n\t\t31\n\t],\n\t\"./chains/Polygon.svg\": [\n\t\t1147,\n\t\t32\n\t],\n\t\"./checkbox/Checked.svg\": [\n\t\t1148,\n\t\t33\n\t],\n\t\"./checkbox/Empty.svg\": [\n\t\t1149,\n\t\t34\n\t],\n\t\"./checkbox/GreenCheck.svg\": [\n\t\t1150,\n\t\t35\n\t],\n\t\"./exchangePlatform/ApeSwap.svg\": [\n\t\t1151,\n\t\t36\n\t],\n\t\"./exchangePlatform/CosmicFinance.svg\": [\n\t\t1152,\n\t\t37\n\t],\n\t\"./exchangePlatform/CreameFinance.svg\": [\n\t\t1153,\n\t\t38\n\t],\n\t\"./exchangePlatform/Cryption.svg\": [\n\t\t1154,\n\t\t39\n\t],\n\t\"./exchangePlatform/Curve.svg\": [\n\t\t1155,\n\t\t40\n\t],\n\t\"./exchangePlatform/Dfyn.svg\": [\n\t\t1156,\n\t\t41\n\t],\n\t\"./exchangePlatform/DotDot.svg\": [\n\t\t1157,\n\t\t42\n\t],\n\t\"./exchangePlatform/Ellipsis.svg\": [\n\t\t1158,\n\t\t43\n\t],\n\t\"./exchangePlatform/Firebird.svg\": [\n\t\t1159,\n\t\t44\n\t],\n\t\"./exchangePlatform/PancakeSwap.svg\": [\n\t\t1160,\n\t\t45\n\t],\n\t\"./exchangePlatform/PickleFinance.svg\": [\n\t\t1161,\n\t\t46\n\t],\n\t\"./exchangePlatform/Polydex.svg\": [\n\t\t1162,\n\t\t47\n\t],\n\t\"./exchangePlatform/QuickSwap.svg\": [\n\t\t1163,\n\t\t48\n\t],\n\t\"./exchangePlatform/Sushiswap.svg\": [\n\t\t1164,\n\t\t49\n\t],\n\t\"./exchangePlatform/Uniswap.svg\": [\n\t\t1165,\n\t\t50\n\t],\n\t\"./exchangePlatform/YearnFinance.svg\": [\n\t\t1166,\n\t\t51\n\t],\n\t\"./exchangePlatform/Yfi.svg\": [\n\t\t1167,\n\t\t52\n\t],\n\t\"./infoTip/Error.svg\": [\n\t\t1168,\n\t\t53\n\t],\n\t\"./infoTip/Info.svg\": [\n\t\t1169,\n\t\t54\n\t],\n\t\"./infoTip/Warning.svg\": [\n\t\t1170,\n\t\t55\n\t],\n\t\"./misc/Add.svg\": [\n\t\t1171,\n\t\t56\n\t],\n\t\"./misc/BentoMenu.svg\": [\n\t\t1172,\n\t\t57\n\t],\n\t\"./misc/Calendar.svg\": [\n\t\t1173,\n\t\t58\n\t],\n\t\"./misc/Copied.svg\": [\n\t\t1174,\n\t\t59\n\t],\n\t\"./misc/Copy.svg\": [\n\t\t1175,\n\t\t60\n\t],\n\t\"./misc/Cross.svg\": [\n\t\t1176,\n\t\t61\n\t],\n\t\"./misc/Default.svg\": [\n\t\t290\n\t],\n\t\"./misc/Delete.svg\": [\n\t\t1177,\n\t\t62\n\t],\n\t\"./misc/DeleteFaded.svg\": [\n\t\t1178,\n\t\t63\n\t],\n\t\"./misc/InfoToolTip.svg\": [\n\t\t1179,\n\t\t64\n\t],\n\t\"./misc/Menu.svg\": [\n\t\t1180,\n\t\t65\n\t],\n\t\"./misc/Search.svg\": [\n\t\t1181,\n\t\t66\n\t],\n\t\"./misc/Settings.svg\": [\n\t\t1182,\n\t\t67\n\t],\n\t\"./misc/Sync.svg\": [\n\t\t1183,\n\t\t68\n\t],\n\t\"./misc/Transaction.svg\": [\n\t\t1184,\n\t\t69\n\t],\n\t\"./misc/Wallet.svg\": [\n\t\t1185,\n\t\t70\n\t],\n\t\"./products/Gov.svg\": [\n\t\t1186,\n\t\t71\n\t],\n\t\"./products/Starter.svg\": [\n\t\t1187,\n\t\t72\n\t],\n\t\"./socialMedia/Discord.svg\": [\n\t\t1188,\n\t\t73\n\t],\n\t\"./socialMedia/Facebook.svg\": [\n\t\t1189,\n\t\t74\n\t],\n\t\"./socialMedia/Forum.svg\": [\n\t\t1190,\n\t\t75\n\t],\n\t\"./socialMedia/Github.svg\": [\n\t\t1191,\n\t\t76\n\t],\n\t\"./socialMedia/Instagram.svg\": [\n\t\t1192,\n\t\t77\n\t],\n\t\"./socialMedia/Medium.svg\": [\n\t\t1193,\n\t\t78\n\t],\n\t\"./socialMedia/Reddit.svg\": [\n\t\t1194,\n\t\t79\n\t],\n\t\"./socialMedia/Telegram.svg\": [\n\t\t1195,\n\t\t80\n\t],\n\t\"./socialMedia/Twitter.svg\": [\n\t\t1196,\n\t\t81\n\t],\n\t\"./status/Alert.svg\": [\n\t\t1197,\n\t\t82\n\t],\n\t\"./status/Caution.svg\": [\n\t\t1198,\n\t\t83\n\t],\n\t\"./status/ColoredAlert.svg\": [\n\t\t1199,\n\t\t84\n\t],\n\t\"./status/ColoredPending.svg\": [\n\t\t1200,\n\t\t85\n\t],\n\t\"./status/ColoredSuccess.svg\": [\n\t\t1201,\n\t\t86\n\t],\n\t\"./status/Pending.svg\": [\n\t\t1202,\n\t\t87\n\t],\n\t\"./status/Success.svg\": [\n\t\t1203,\n\t\t88\n\t],\n\t\"./tokenSymbol/3CRV.svg\": [\n\t\t1204,\n\t\t89\n\t],\n\t\"./tokenSymbol/3EPS-S.svg\": [\n\t\t1205,\n\t\t90\n\t],\n\t\"./tokenSymbol/3EPS.svg\": [\n\t\t1206,\n\t\t91\n\t],\n\t\"./tokenSymbol/ARTH-ETHLP.svg\": [\n\t\t1207,\n\t\t92\n\t],\n\t\"./tokenSymbol/ARTH.svg\": [\n\t\t362\n\t],\n\t\"./tokenSymbol/ARTH.usd.svg\": [\n\t\t1208,\n\t\t93\n\t],\n\t\"./tokenSymbol/ARTHX.svg\": [\n\t\t1209,\n\t\t94\n\t],\n\t\"./tokenSymbol/ARTHu3CRV.svg\": [\n\t\t1210,\n\t\t95\n\t],\n\t\"./tokenSymbol/ARTHu3PS.svg\": [\n\t\t1211,\n\t\t96\n\t],\n\t\"./tokenSymbol/BNB.svg\": [\n\t\t1212,\n\t\t97\n\t],\n\t\"./tokenSymbol/BUSD-A.svg\": [\n\t\t1213,\n\t\t98\n\t],\n\t\"./tokenSymbol/BUSD.svg\": [\n\t\t1214,\n\t\t99\n\t],\n\t\"./tokenSymbol/BUSDUSDC-APE-LP-S.svg\": [\n\t\t1215,\n\t\t100\n\t],\n\t\"./tokenSymbol/BUSDUSDC-APE-LP.svg\": [\n\t\t1216,\n\t\t101\n\t],\n\t\"./tokenSymbol/BUSDUSDT-APE-LP-S.svg\": [\n\t\t1217,\n\t\t102\n\t],\n\t\"./tokenSymbol/BUSDUSDT-APE-LP.svg\": [\n\t\t1218,\n\t\t103\n\t],\n\t\"./tokenSymbol/CNT.svg\": [\n\t\t1219,\n\t\t104\n\t],\n\t\"./tokenSymbol/COSMIC.svg\": [\n\t\t1220,\n\t\t105\n\t],\n\t\"./tokenSymbol/DAI-BUSDLP.svg\": [\n\t\t1221,\n\t\t106\n\t],\n\t\"./tokenSymbol/DAI.svg\": [\n\t\t1222,\n\t\t107\n\t],\n\t\"./tokenSymbol/DAIUSDC-ALP-S.svg\": [\n\t\t1223,\n\t\t108\n\t],\n\t\"./tokenSymbol/DAIUSDC-ALP.svg\": [\n\t\t1224,\n\t\t109\n\t],\n\t\"./tokenSymbol/DFYN.svg\": [\n\t\t1225,\n\t\t110\n\t],\n\t\"./tokenSymbol/ETH.svg\": [\n\t\t1226,\n\t\t111\n\t],\n\t\"./tokenSymbol/FRAX.svg\": [\n\t\t1227,\n\t\t112\n\t],\n\t\"./tokenSymbol/FXS.svg\": [\n\t\t1228,\n\t\t113\n\t],\n\t\"./tokenSymbol/HOPE.svg\": [\n\t\t1229,\n\t\t114\n\t],\n\t\"./tokenSymbol/MAHA-DAI-QLP-S.svg\": [\n\t\t1230,\n\t\t115\n\t],\n\t\"./tokenSymbol/MAHA-DAI-QLP.svg\": [\n\t\t1231,\n\t\t116\n\t],\n\t\"./tokenSymbol/MAHA.svg\": [\n\t\t1232,\n\t\t117\n\t],\n\t\"./tokenSymbol/MAHAX.svg\": [\n\t\t1233,\n\t\t118\n\t],\n\t\"./tokenSymbol/MATIC.svg\": [\n\t\t1234,\n\t\t119\n\t],\n\t\"./tokenSymbol/POLYGON.svg\": [\n\t\t1235,\n\t\t120\n\t],\n\t\"./tokenSymbol/USDC.svg\": [\n\t\t1236,\n\t\t121\n\t],\n\t\"./tokenSymbol/USDCUSDT-QLP-S.svg\": [\n\t\t1237,\n\t\t122\n\t],\n\t\"./tokenSymbol/USDCUSDT-QLP.svg\": [\n\t\t1238,\n\t\t123\n\t],\n\t\"./tokenSymbol/USDT.svg\": [\n\t\t1239,\n\t\t124\n\t],\n\t\"./tokenSymbol/USDTUSDC-ALP-S.svg\": [\n\t\t1240,\n\t\t125\n\t],\n\t\"./tokenSymbol/USDTUSDC-ALP.svg\": [\n\t\t1241,\n\t\t126\n\t],\n\t\"./tokenSymbol/WBNB.svg\": [\n\t\t1242,\n\t\t127\n\t],\n\t\"./tokenSymbol/WBTC.svg\": [\n\t\t1243,\n\t\t128\n\t],\n\t\"./tokenSymbol/WETH.svg\": [\n\t\t1244,\n\t\t129\n\t],\n\t\"./tokenSymbol/WMATIC.svg\": [\n\t\t1245,\n\t\t130\n\t],\n\t\"./tokenSymbol/superMAHA.svg\": [\n\t\t1246,\n\t\t131\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 674;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}